

<!--
═══════════════════════════════════════════════════════════════════════════════
INLINE THREADING HEADER — Phase 2B
File: docs-spa/content/pages/compare-opencode-alternatives/content.html
Tier: C | Batch: 11 | Generated: 2026-02-06

1. WHY THIS EXISTS
Rendered HTML content page for the compare-opencode-alternatives synthesis document.

3. STATUS
ACTIVE

5. BUILT ON
Extracted from synthesis/compare-opencode-alternatives.md by content extraction scripts.

8. CONSUMED BY
docs-spa/app/(docs)/synthesis/compare-opencode-alternatives/page.tsx renders this content via dangerouslySetInnerHTML.

═══════════════════════════════════════════════════════════════════════════════
END INLINE THREADING HEADER
═══════════════════════════════════════════════════════════════════════════════
-->

      <!-- Section 1: ESSENCE -->
      <section id="essence" data-activity="essence">
        <div class="essence-box">
          <div class="essence-label">Essence (15 words)</div>
          <div class="essence-text">OpenCode: provider-agnostic coding agent. RPAI: multi-agent visibility layer. Together: Claude Code alternative stack.</div>
        </div>

        <p class="text-text-secondary mb-6">
          Claude Code is the benchmark - optimized specifically for Claude models with features like checkpoints, intelligent subagent parallelism, and tight Anthropic integration. But it creates dependency on a single provider.
        </p>

        <div class="feature-grid">
          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="terminal" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">Claude Code</div>
            </div>
            <div class="feature-card-description">
              The benchmark. Anthropic-optimized, checkpoints, native thinking mode. Single provider.
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="code-2" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">OpenCode</div>
            </div>
            <div class="feature-card-description">
              75+ providers, local models, MIT license. Provider flexibility, cost optimization.
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">RPAI</div>
            </div>
            <div class="feature-card-description">
              tmux TUI for multi-agent visibility. See all agents, detect idle, jump between sessions.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 2: OPENCODE -->
      <section id="opencode" data-activity="opencode">
        <h2 class="section-title">
          <span class="section-number">2</span>
          OpenCode: Provider-Agnostic Alternative
        </h2>

        <div class="tool-card">
          <div class="tool-card-header">
            <div class="tool-card-logo">OC</div>
            <div>
              <div class="tool-card-name">OpenCode</div>
              <div class="tool-card-tagline">Open-source, 75+ LLM providers, BYOK philosophy</div>
            </div>
          </div>
          <div class="flex gap-2 flex-wrap">
            <span class="badge badge-green">MIT License</span>
            <span class="badge badge-blue">78K+ Stars</span>
            <span class="badge badge-amber">600+ Contributors</span>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">The BYOK Philosophy</h3>

        <div class="core-abstraction">
          <div class="core-philosophy">"You download, you own, you control. Your workflow survives provider changes."</div>

          <div class="core-code">
            <code>Traditional: You rent → They own → They control</code>
          </div>
          <div class="core-code">
            <code>OpenCode: You download → You own → You control</code>
          </div>

          <div class="core-anchor">Your investment compounds. Provider independence.</div>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Architecture</h3>

        <div class="architecture-box">
<pre>┌─────────────────────────────────────────────────────────────────────────────┐
│                        OpenCode Architecture                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌───────────────────┐        ┌───────────────────────────────────────┐   │
│   │     Clients        │        │             Core Server               │   │
│   │                    │        │                                       │   │
│   │   • Terminal TUI   │  ←──→  │   • Agent Orchestration              │   │
│   │   • Desktop App    │        │   • Provider Management              │   │
│   │   • IDE Extension  │        │   • Tool Registry                    │   │
│   │   • Web Interface  │        │   • Session State                    │   │
│   └───────────────────┘        │   • MCP Integration                  │   │
│            │                    └───────────────────────────────────────┘   │
│            │                                     │                          │
│            ▼                                     ▼                          │
│   ┌───────────────────────────────────────────────────────────────────────┐ │
│   │                          Provider Layer                               │ │
│   │                                                                       │ │
│   │   • Anthropic (Claude)    • OpenAI (GPT)     • Google (Gemini)       │ │
│   │   • Ollama (Local)        • 70+ more via AI SDK                      │ │
│   └───────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
</pre>
        </div>

        <p class="text-text-secondary mb-6">
          Unlike Claude Code's monolithic CLI, OpenCode uses a client/server architecture. This enables remote execution (run server in Docker/cloud), multi-client access, and headless automation.
        </p>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="opencode-features">Key Features</h3>

        <div class="feature-grid">
          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="layers" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">75+ Providers</div>
            </div>
            <div class="feature-card-description">
              Anthropic, OpenAI, Google, Ollama, and 70+ more. Switch providers at runtime.
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="cpu" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">Local Models</div>
            </div>
            <div class="feature-card-description">
              Ollama integration for fully local execution. Privacy-first, zero API costs.
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="code" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">LSP Integration</div>
            </div>
            <div class="feature-card-description">
              Built-in Language Server Protocol. Go-to-definition, find references without setup.
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="layout-grid" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">Multi-Session</div>
            </div>
            <div class="feature-card-description">
              True parallel sessions without hacks. No CC-Mirror needed.
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="share-2" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">Session Sharing</div>
            </div>
            <div class="feature-card-description">
              Generate shareable links for debugging and collaboration.
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-header">
              <div class="feature-card-icon">
                <i data-lucide="server" class="w-5 h-5"></i>
              </div>
              <div class="feature-card-title">Headless Mode</div>
            </div>
            <div class="feature-card-description">
              API server for automation. <code class="text-xs">opencode serve --port 8080</code>
            </div>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="opencode-setup">Installation &amp; Setup</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># macOS/Linux</span>
curl -fsSL https://opencode.ai/install | bash

<span class="comment"># npm (cross-platform)</span>
npm install -g opencode-ai@latest

<span class="comment"># Homebrew (macOS)</span>
brew install opencode

<span class="comment"># Windows (Scoop)</span>
scoop install opencode</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Provider Configuration</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment">// opencode.json</span>
{
  <span class="string">"model"</span>: <span class="string">"anthropic/claude-sonnet-4"</span>,
  <span class="string">"small_model"</span>: <span class="string">"anthropic/claude-haiku"</span>,
  <span class="string">"providers"</span>: {
    <span class="string">"anthropic"</span>: {
      <span class="string">"apiKey"</span>: <span class="string">"{env:ANTHROPIC_API_KEY}"</span>
    },
    <span class="string">"openai"</span>: {
      <span class="string">"apiKey"</span>: <span class="string">"{env:OPENAI_API_KEY}"</span>
    },
    <span class="string">"ollama"</span>: {
      <span class="string">"baseURL"</span>: <span class="string">"http://localhost:11434"</span>
    }
  },
  <span class="string">"permission"</span>: {
    <span class="string">"edit"</span>: <span class="string">"ask"</span>,
    <span class="string">"bash"</span>: <span class="string">"ask"</span>,
    <span class="string">"write"</span>: <span class="string">"allow"</span>
  }
}</pre>
        </div>
      </section>

      <!-- Section 3: RPAI -->
      <section id="rpai" data-activity="rpai">
        <h2 class="section-title">
          <span class="section-number">3</span>
          RPAI: Multi-Agent Visibility Layer
        </h2>

        <div class="tool-card">
          <div class="tool-card-header">
            <div class="tool-card-logo">RP</div>
            <div>
              <div class="tool-card-name">RPAI</div>
              <div class="tool-card-tagline">Rust Process AI - tmux TUI for agent monitoring</div>
            </div>
          </div>
          <div class="flex gap-2 flex-wrap">
            <span class="badge badge-green">MIT License</span>
            <span class="badge badge-gray">Rust/ratatui</span>
          </div>
        </div>

        <p class="text-text-secondary mb-6">
          RPAI is a terminal user interface that scans for running AI coding agents, displays their status, and enables instant navigation between sessions. Think of it as a "process monitor + session switcher" purpose-built for AI-assisted development.
        </p>

        <h3 class="font-semibold text-lg mb-4 mt-8">The Problem RPAI Solves</h3>

        <div class="architecture-box">
<pre>Without RPAI:
┌──────────────────────────────────────────────────────────────────────────────┐
│ Terminal 1: Claude working on auth feature...                                 │
│ Terminal 2: Claude refactoring database layer...                              │
│ Terminal 3: Claude writing tests...                                           │
│ Terminal 4: Claude reviewing PR...                                            │
│                                                                               │
│ You: "Which one finished? Which needs attention?"                             │
│      *frantically switching between windows*                                  │
└──────────────────────────────────────────────────────────────────────────────┘

With RPAI:
┌──────────────────────────────────────────────────────────────────────────────┐
│  RPAI Session Manager                                                         │
│  ────────────────────                                                         │
│  ▶ claude  ~/project/auth      CPU: 45%  MEM: 2.1G                           │
│  ⏸ claude  ~/project/db        CPU: 0.5% MEM: 1.8G  ← Idle! Needs input      │
│  ▶ claude  ~/project/tests     CPU: 38%  MEM: 2.0G                           │
│  ⏸ claude  ~/project/review    CPU: 0.2% MEM: 1.5G  ← Idle! Review done      │
│                                                                               │
│  [Enter: Jump] [j/k: Navigate] [q: Quit]                                     │
└──────────────────────────────────────────────────────────────────────────────┘
</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="rpai-features">The Killer Feature: Idle Detection</h3>

        <div class="decision-box">
          <div class="decision-why">INVERT YOUR ATTENTION MODEL</div>
          <div class="decision-reasoning">
            Agent States:<br>
            ▶ Running (CPU &gt; 3%): Claude is thinking/working<br>
            ⏸ Waiting (CPU &lt; 3%): Claude finished, awaiting your input
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">The Insight</div>
            <div class="text-text-secondary text-sm">
              Spend time on IDLE agents, not running ones. Running agents need no attention. Idle agents are blocked on YOU.
            </div>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Installation &amp; Setup</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Install via Cargo</span>
cargo install rpai

<span class="comment"># Add to ~/.tmux.conf</span>
bind-key a display-popup -E "rpai"

<span class="comment"># Reload tmux</span>
tmux source ~/.tmux.conf

<span class="comment"># Now prefix + a opens RPAI</span></pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Configuration</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment">// ~/.config/rpai/config.json</span>
{
  <span class="string">"theme"</span>: <span class="string">"gruvbox"</span>,
  <span class="string">"idle_threshold"</span>: 3.0,    <span class="comment">// CPU% below = "waiting"</span>
  <span class="string">"refresh_ms"</span>: 50,
  <span class="string">"ascii_symbols"</span>: <span class="keyword">false</span>
}</pre>
        </div>

        <table class="comparison-table">
          <thead>
            <tr>
              <th>Keyboard</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>j</code> / <code>k</code></td>
              <td>Navigate up/down</td>
            </tr>
            <tr>
              <td><code>Enter</code></td>
              <td>Jump to selected tmux pane</td>
            </tr>
            <tr>
              <td><code>t</code></td>
              <td>Cycle color themes</td>
            </tr>
            <tr>
              <td><code>q</code></td>
              <td>Exit RPAI</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Section 4: COMPARISON -->
      <section id="comparison" data-activity="comparison">
        <h2 class="section-title">
          <span class="section-number">4</span>
          Feature Comparison Matrix
        </h2>

        <h3 class="font-semibold text-lg mb-4">Core Capabilities</h3>

        <table class="comparison-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Claude Code</th>
              <th>OpenCode</th>
              <th>RPAI</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Terminal UI</td>
              <td class="check">Yes</td>
              <td class="check">Yes</td>
              <td class="check">Yes</td>
            </tr>
            <tr>
              <td>File operations</td>
              <td class="check">Yes</td>
              <td class="check">Yes</td>
              <td class="cross">No (monitor only)</td>
            </tr>
            <tr>
              <td>Bash execution</td>
              <td class="check">Yes</td>
              <td class="check">Yes</td>
              <td class="cross">No</td>
            </tr>
            <tr>
              <td>MCP support</td>
              <td class="check">Yes</td>
              <td class="check">Yes</td>
              <td class="cross">No</td>
            </tr>
            <tr>
              <td>Custom agents</td>
              <td class="partial">Via prompts</td>
              <td class="check">Structured markdown</td>
              <td class="cross">No</td>
            </tr>
          </tbody>
        </table>

        <h3 class="font-semibold text-lg mb-4 mt-8">Provider Support</h3>

        <table class="comparison-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Claude Code</th>
              <th>OpenCode</th>
              <th>RPAI</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Anthropic Claude</td>
              <td class="check">Yes</td>
              <td class="check">Yes</td>
              <td class="partial">Monitors</td>
            </tr>
            <tr>
              <td>OpenAI GPT</td>
              <td class="cross">No</td>
              <td class="check">Yes</td>
              <td class="partial">Monitors</td>
            </tr>
            <tr>
              <td>Google Gemini</td>
              <td class="cross">No</td>
              <td class="check">Yes</td>
              <td class="partial">Monitors</td>
            </tr>
            <tr>
              <td>Local models (Ollama)</td>
              <td class="cross">No</td>
              <td class="check">Yes</td>
              <td class="partial">Monitors</td>
            </tr>
            <tr>
              <td>75+ providers</td>
              <td class="cross">No</td>
              <td class="check">Yes</td>
              <td>N/A</td>
            </tr>
          </tbody>
        </table>

        <h3 class="font-semibold text-lg mb-4 mt-8">Unique Features</h3>

        <table class="comparison-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Claude Code</th>
              <th>OpenCode</th>
              <th>RPAI</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Checkpoints</td>
              <td class="check">Yes</td>
              <td class="cross">No</td>
              <td class="cross">No</td>
            </tr>
            <tr>
              <td>Instant rewind</td>
              <td class="check">Yes</td>
              <td class="cross">No</td>
              <td class="cross">No</td>
            </tr>
            <tr>
              <td>Thinking mode</td>
              <td class="check">Native</td>
              <td class="partial">Via model</td>
              <td class="cross">No</td>
            </tr>
            <tr>
              <td>Multi-session native</td>
              <td class="partial">Via hacks</td>
              <td class="check">Yes</td>
              <td class="partial">Monitors</td>
            </tr>
            <tr>
              <td>Idle detection</td>
              <td class="cross">No</td>
              <td class="cross">No</td>
              <td class="check">Yes</td>
            </tr>
            <tr>
              <td>Agent dashboard</td>
              <td class="cross">No</td>
              <td class="cross">No</td>
              <td class="check">Yes</td>
            </tr>
          </tbody>
        </table>

        <h3 class="font-semibold text-lg mb-4 mt-8">Cost Model</h3>

        <table class="comparison-table">
          <thead>
            <tr>
              <th>Aspect</th>
              <th>Claude Code</th>
              <th>OpenCode</th>
              <th>RPAI</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Tool cost</td>
              <td>$17-100/mo</td>
              <td class="check">$0</td>
              <td class="check">$0</td>
            </tr>
            <tr>
              <td>API costs</td>
              <td>Anthropic only</td>
              <td>Any provider</td>
              <td>N/A</td>
            </tr>
            <tr>
              <td>Local (free) models</td>
              <td class="cross">No</td>
              <td class="check">Yes (Ollama)</td>
              <td>N/A</td>
            </tr>
            <tr>
              <td>License</td>
              <td>Proprietary</td>
              <td class="check">MIT</td>
              <td class="check">MIT</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Section 5: DECISIONS -->
      <section id="decisions" data-activity="decisions">
        <h2 class="section-title">
          <span class="section-number">5</span>
          Decision Framework
        </h2>

        <div class="architecture-box">
<pre>                         Tool Selection Decision Tree

START: What's your primary concern?
    │
    ├── Cost optimization ──────────────────→ OpenCode
    │                                         (provider flexibility, local models)
    │
    ├── Privacy/local execution ────────────→ OpenCode + Ollama
    │                                         (no external API calls)
    │
    ├── Best Claude experience ─────────────→ Claude Code
    │                                         (checkpoints, native optimization)
    │
    ├── Open source philosophy ─────────────→ OpenCode
    │                                         (MIT licensed, fork-friendly)
    │
    ├── Multi-agent visibility ─────────────→ RPAI
    │                                         (dashboard for any agent count)
    │
    └── Enterprise Anthropic agreement ─────→ Claude Code
                                              (ecosystem alignment)
</pre>
        </div>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              CHOOSE CLAUDE CODE WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You want the best Claude experience with native integrations</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You need instant rewind (checkpoints)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You have an Anthropic enterprise agreement</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You value simplicity over flexibility</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              CHOOSE OPENCODE WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Cost optimization across providers matters</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Privacy/local execution is required</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>You want to experiment with different models</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>You need multi-session without hacks</span>
            </div>
          </div>
        </div>

        <div class="decision-box">
          <div class="decision-why">WHEN TO ADD RPAI</div>
          <div class="decision-reasoning">
            Add RPAI when running 3+ parallel agents. Manual window-switching becomes untenable at this scale.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">Visibility scales by pattern</div>
            <div class="text-text-secondary text-sm">
              <strong>Ralph Wiggum Loop:</strong> 1-3 agents → Low need<br>
              <strong>Parallel Ralph:</strong> 3-6 agents → High need<br>
              <strong>Gas Town:</strong> 5-10+ agents → Critical need<br>
              <strong>Personal Panopticon:</strong> 8+ agents → Essential
            </div>
          </div>
        </div>
      </section>

      <!-- Section 6: INTEGRATION -->
      <section id="integration" data-activity="integration">
        <h2 class="section-title">
          <span class="section-number">6</span>
          Integration Patterns
        </h2>

        <h3 class="font-semibold text-lg mb-4">OpenCode with Ralph Wiggum Loop</h3>

        <p class="text-text-secondary mb-6">
          The Ralph pattern works seamlessly with OpenCode, offering provider flexibility that Claude Code cannot match.
        </p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment">#!/bin/bash</span>
<span class="comment"># multi-provider-ralph.sh</span>

PHASE=$(cat PHASE.md 2&gt;/dev/null || echo "planning")

<span class="keyword">case</span> $PHASE <span class="keyword">in</span>
    planning)
        MODEL=<span class="string">"anthropic/claude-opus-4"</span>
        ;;
    implementation)
        MODEL=<span class="string">"openai/gpt-5.1-codex"</span>
        ;;
    review)
        MODEL=<span class="string">"google/gemini-3-pro"</span>
        ;;
<span class="keyword">esac</span>

opencode run "$(cat PROMPT.md)" --model $MODEL</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="integration-gas">OpenCode with Gas Town</h3>

        <div class="architecture-box">
<pre>                         Gas Town + OpenCode

   ┌─────────────────┐     Provider: anthropic/claude-opus-4
   │     MAYOR        │     Role: Strategic planning
   │   (Planner)      │     Config: Read-only, high reasoning
   └────────┬────────┘
            │
            ▼
   ┌─────────────────┐     Provider: openai/gpt-5.1-codex
   │    DEACON        │     Role: Work distribution
   │   (Router)       │     Config: Read-only, fast inference
   └────────┬────────┘
            │
      ┌─────┴─────┐
      ▼           ▼
  ┌──────┐   ┌──────┐     Provider: ollama/qwen2.5:32b
  │ DOG  │   │ DOG  │     Role: Task execution
  │  #1  │   │  #2  │     Config: Full tools, local/cheap
  └──────┘   └──────┘

   ┌─────────────────┐     Provider: anthropic/claude-sonnet
   │   REFINERY       │     Role: Quality verification
   │  (Validator)     │     Config: Read-only, focused
   └─────────────────┘
</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">RPAI with Parallel Ralph</h3>

        <div class="architecture-box">
<pre>  rpai - Ralph Loops

  ▶ claude    ~/project/feature-auth     CPU: 45%  [RALPH]
  ⏸ claude    ~/project/feature-api      CPU: 1%   [RALPH]  ← Check!
  ▶ claude    ~/project/feature-ui       CPU: 38%  [RALPH]
</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Combination Matrix</h3>

        <table class="comparison-table">
          <thead>
            <tr>
              <th>Combo</th>
              <th>Use Case</th>
              <th>Complexity</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>OpenCode + Ralph</strong></td>
              <td>Provider-flexible iteration</td>
              <td>Low</td>
              <td class="check">High</td>
            </tr>
            <tr>
              <td><strong>OpenCode + Gas Town</strong></td>
              <td>Multi-provider agent factory</td>
              <td>Medium</td>
              <td class="check">High</td>
            </tr>
            <tr>
              <td><strong>RPAI + Ralph</strong></td>
              <td>Parallel Ralph visibility</td>
              <td>Low</td>
              <td class="check">High</td>
            </tr>
            <tr>
              <td><strong>RPAI + Gas Town</strong></td>
              <td>Agent hierarchy dashboard</td>
              <td>Medium</td>
              <td class="check">Very High</td>
            </tr>
            <tr>
              <td><strong>Claude Code + RPAI</strong></td>
              <td>Enhanced Claude visibility</td>
              <td>Low</td>
              <td class="check">High</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Section 7: GOTCHAS -->
      <section id="gotchas" data-activity="gotchas">
        <h2 class="section-title">
          <span class="section-number">7</span>
          Gotchas &amp; Troubleshooting
        </h2>

        <h3 class="font-semibold text-lg mb-4">OpenCode Issues</h3>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            ProviderInitError on startup
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Error: ProviderInitError - Failed to initialize provider</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Run <code>/connect anthropic</code> to re-authenticate, or <code>rm -rf ~/.local/share/opencode/auth.json</code> and reconfigure.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Model not found
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Error: Model "anthropic/claude-opus" not found</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Use correct format: <code>anthropic/claude-opus-4-5</code> (not claude-opus). Run <code>opencode models --refresh</code> to list.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Config changes not applying
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Modified opencode.json but behavior unchanged</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Project config overrides global. Check both <code>~/.config/opencode/opencode.json</code> AND <code>./opencode.json</code>.</div>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">RPAI Issues</h3>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            RPAI shows no sessions
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> <code>rpai scan</code> returns empty</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Ensure agents run IN tmux. RPAI needs tmux for session correlation. Check manually: <code>ps aux | grep -E "claude|opencode"</code></div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Agent shows "Running" when idle
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Agent at prompt but RPAI shows ▶</div>
          <div class="gotcha-detail"><strong>Fix:</strong> LSP processes may inflate CPU. Raise <code>idle_threshold</code> to 5.0 in config.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Unicode symbols garbled
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Strange characters instead of ▶ and ⏸</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Set <code>"ascii_symbols": true</code> in config, or install a Unicode-capable terminal font.</div>
        </div>
      </section>

      <!-- Section 8: MENTAL MODELS -->
      <section id="models" data-activity="models">
        <h2 class="section-title">
          <span class="section-number">8</span>
          Mental Models
        </h2>

        <div class="decision-box">
          <div class="decision-why">THE UNIVERSAL ADAPTER</div>
          <div class="decision-reasoning">
            OpenCode decouples your workflow from your provider. Your commands stay the same. The backend can change.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">Key Insight</div>
            <div class="text-text-secondary text-sm">
              Invest in your commands and patterns, not in a specific model's quirks. Provider independence compounds.
            </div>
          </div>
        </div>

        <div class="decision-box">
          <div class="decision-why">THE CONTROL TOWER</div>
          <div class="decision-reasoning">
            RPAI transforms you from "flying each plane" to "monitoring the airspace." Scale by observation, not attention division.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">Key Insight</div>
            <div class="text-text-secondary text-sm">
              Let the tower tell you where to focus. You don't need to check each agent manually.
            </div>
          </div>
        </div>

        <div class="decision-box">
          <div class="decision-why">IDLE = DONE</div>
          <div class="decision-reasoning">
            Running agents = "Leave me alone, I'm working"<br>
            Waiting agents = "I need you - I'm blocked or finished"
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">Attention Savings</div>
            <div class="text-text-secondary text-sm">
              Without RPAI (8 agents): 16 minutes/cycle checking<br>
              With RPAI: ~4.5 minutes/cycle<br>
              <strong>70%+ attention savings</strong>
            </div>
          </div>
        </div>

        <div class="decision-box">
          <div class="decision-why">TOOL OWNERSHIP SPECTRUM</div>
          <div class="decision-reasoning">
            Fully Owned ←────────────────────→ Fully Rented<br>
            RPAI ← OpenCode ← Hybrid ← Claude Code
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">Choose Your Position</div>
            <div class="text-text-secondary text-sm">
              Based on: Control requirements, cost sensitivity, privacy needs, simplicity preference. No universally "correct" position.
            </div>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Key Takeaways</h3>

        <div class="path-container">
          <div class="path-step">
            <div class="path-number">1</div>
            <div class="path-content"><strong>The choice isn't either/or.</strong> Many use Claude Code for Claude-specific work and OpenCode for provider diversity.</div>
          </div>
          <div class="path-step">
            <div class="path-number">2</div>
            <div class="path-content"><strong>RPAI complements both.</strong> It's a visibility layer, not an alternative. Use with Claude Code, OpenCode, or both.</div>
          </div>
          <div class="path-step">
            <div class="path-number">3</div>
            <div class="path-content"><strong>Cost optimization is real.</strong> OpenCode's flexibility enables significant savings for high-volume workflows.</div>
          </div>
          <div class="path-step">
            <div class="path-number">4</div>
            <div class="path-content"><strong>Privacy has options.</strong> OpenCode + Ollama = full local execution for sensitive codebases.</div>
          </div>
          <div class="path-step">
            <div class="path-number">5</div>
            <div class="path-content"><strong>Visibility scales.</strong> Manual window-switching fails at 3+ agents. RPAI makes it manageable at any scale.</div>
          </div>
          <div class="path-step">
            <div class="path-number">6</div>
            <div class="path-content"><strong>Patterns transfer.</strong> Ralph, Gas Town, and other orchestration patterns work with both Claude Code and OpenCode.</div>
          </div>
        </div>
      </section>

    