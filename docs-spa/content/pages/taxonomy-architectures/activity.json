{
  "items": [
    {
      "id": "inv-1",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if all agents could orchestrate?",
      "content": "<strong>You'd design:</strong> Any agent spawns any other. Democratic task distribution.<br>\n          <strong>Why this fails:</strong> No strategic overview. Context pollution everywhere. Coordination O(n^2).<br>\n          <strong>Hidden constraint revealed:</strong> Orchestration is a ROLE, not a capability. The Iron Law is physics."
    },
    {
      "id": "min-2",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible taxonomy",
      "content": "Every architecture is a point on ONE axis:<br>\n          <code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">Interactive &lt;---&gt; Strict Separation</code><br>\n          <strong>Essential:</strong> Understand the axis.<br>\n          <strong>Everything else:</strong> Implementation details."
    },
    {
      "id": "war-3",
      "type": "warstory",
      "linkedSection": "essence",
      "title": "Steve Yegge: Gas Town evolution",
      "content": "\"Stage 7+ dev evolution. 10+ agents, hand-managed.\" Gas Town is the result of 6+ months production use. He didn't start there - he evolved through simpler patterns first."
    },
    {
      "id": "inv-4",
      "type": "invariant",
      "linkedSection": "core",
      "title": "INV-001: Fresh context > extended sessions",
      "content": "Ralph, CC Mirror, Gas Town, Panopticon ALL use fresh context per unit of work. This isn't a Ralph thing - it's universal. Context degrades at ~80K tokens. Every architecture handles this."
    },
    {
      "id": "inv-5",
      "type": "invariant",
      "linkedSection": "core",
      "title": "INV-003: External state > internal memory",
      "content": "Ralph uses prd.json. CC Mirror uses TaskCreate. Gas Town uses ~/.gt/. Panopticon uses domain directories. All are the SAME invariant in different clothes."
    },
    {
      "id": "grad-6",
      "type": "gradient",
      "linkedSection": "core",
      "title": "How orchestrator separation degrades",
      "content": "<strong>100%</strong> (strict): Orchestrator only uses Task*. Clean.<br>\n          <strong>80%</strong>: Orchestrator reads a few files \"for context\". Subtle drift.<br>\n          <strong>60%</strong>: Orchestrator edits \"one small thing\". Context pollution starts.<br>\n          <strong>40%</strong>: Orchestrator is now a worker with extra responsibilities.<br>\n          <strong>CLIFF</strong>: Orchestrator loses strategic view. Workers unsupervised.<br><br>\n          <em>Critical: The gradient is invisible. You feel productive until the cliff.</em>"
    },
    {
      "id": "ana-7",
      "type": "analogy",
      "linkedSection": "core",
      "title": "Agent Architectures = Team Structures",
      "content": "Interactive Session = Solo developer<br>\n          Ralph Loop = Junior dev with checklist<br>\n          CC Mirror = Tech lead + specialists<br>\n          Gas Town = Engineering organization<br><br>\n          If you've designed teams, you understand agent architectures."
    },
    {
      "id": "con-8",
      "type": "constraint",
      "linkedSection": "decisions",
      "title": "One constraint -> FIVE architectures",
      "content": "<strong>ROOT:</strong> Context finite (200K) + degrades at 80K<br>\n          -&gt; Can't keep everything in one agent<br>\n          -&gt; Must distribute to multiple agents<br>\n          -&gt; Distribution needs coordination<br>\n          -&gt; Coordination needs hierarchy<br>\n          -&gt; Hierarchy must be flat (&gt;2 levels fails)<br><br>\n          One physics constraint, entire taxonomy."
    },
    {
      "id": "vio-9",
      "type": "violation",
      "linkedSection": "decisions",
      "title": "If you let workers spawn sub-workers",
      "content": "<strong>IF:</strong> Worker A spawns Worker B<br>\n          <strong>THEN:</strong> B spawns C (why not?)<br>\n          <strong>THEN:</strong> Exponential context explosion<br>\n          <strong>THEN:</strong> No one knows who's doing what<br>\n          <strong>FINALLY:</strong> Morning reveals chaos, tasks lost<br><br>\n          <em>The fix: Flat hierarchy ONLY. Workers never spawn.</em>"
    },
    {
      "id": "trade-10",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "Model Selection Dilemma",
      "content": "<strong>All Opus:</strong> Best quality, but $$$$ and slow<br>\n          <strong>All Sonnet:</strong> Balanced, but orchestration weaker<br>\n          <strong>All Haiku:</strong> Cheap/fast, but complex tasks fail<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> Tasks vary in complexity.<br>\n          <strong>HEURISTIC:</strong> Opus for orchestration + ambiguity. Sonnet for implementation. Haiku for lookups."
    },
    {
      "id": "exp-11",
      "type": "expertise",
      "linkedSection": "decisions",
      "title": "Architecture Selection Understanding",
      "content": "<strong>Beginner:</strong> \"Which pattern should I use?\"<br>\n          -&gt; Follow the decision tree<br>\n          <strong>Intermediate:</strong> \"Why these specific patterns?\"<br>\n          -&gt; They're points on the separation axis<br>\n          <strong>Advanced:</strong> \"When do I migrate?\"<br>\n          -&gt; When you hit concrete limits<br>\n          <strong>Staff:</strong> \"How do patterns compose?\"<br>\n          -&gt; Ralph + Worktrees, CC Mirror + Gas Town<br>\n          <strong>Expert:</strong> \"What's missing from taxonomy?\"<br>\n          -&gt; Cross-organization patterns, global coordination"
    },
    {
      "id": "comp-12",
      "type": "composition",
      "linkedSection": "patterns",
      "title": "Ralph + Git Worktrees",
      "content": "<strong>Works:</strong> Parallel Ralph loops in isolated worktrees.<br>\n          <strong>Danger:</strong> Must ensure tasks don't overlap files.<br>\n          <strong>Recommendation:</strong> One feature per worktree. Merge sequentially."
    },
    {
      "id": "comp-13",
      "type": "composition",
      "linkedSection": "patterns",
      "title": "CC Mirror + Gas Town",
      "content": "<strong>Works:</strong> CC Mirror for within-rig orchestration, Gas Town for town-level.<br>\n          <strong>Danger:</strong> Two coordination systems = potential conflict.<br>\n          <strong>Recommendation:</strong> CC Mirror for implementation, Gas Town for cross-rig only."
    },
    {
      "id": "hor-14",
      "type": "horizon",
      "linkedSection": "patterns",
      "title": "Architecture judgment over time",
      "content": "<strong>Week 1:</strong> \"Ralph is plenty, Gas Town is overkill\"<br>\n          <strong>Week 4:</strong> \"Hmm, coordination getting harder\"<br>\n          <strong>Week 8:</strong> \"Maybe CC Mirror would help\"<br>\n          <strong>Week 16:</strong> \"Gas Town makes sense now\"<br><br>\n          <em>Don't judge complexity needs by week 1.</em>"
    },
    {
      "id": "eff-15",
      "type": "effect",
      "linkedSection": "patterns",
      "title": "At 10+ agents, emergent behaviors appear",
      "content": "<strong>IMPLICATION:</strong> Agents develop \"preferences\" for certain task types based on their history. Gas Town's Polecats become specialists not by design, but by experience accumulation.<br>\n          <strong>THRESHOLD:</strong> ~10 agents, ~100 task cycles"
    },
    {
      "id": "fron-16",
      "type": "frontier",
      "linkedSection": "patterns",
      "title": "UNSOLVED: Cross-org coordination",
      "content": "<strong>THE QUESTION:</strong> How do Gas Towns from different orgs collaborate?<br>\n          <strong>WHY IT'S HARD:</strong> Different context, different conventions, trust boundaries.<br>\n          <strong>CURRENT:</strong> Human handoffs. No automation yet."
    },
    {
      "id": "vio-17",
      "type": "violation",
      "linkedSection": "path",
      "title": "If you skip the decision tree",
      "content": "<strong>IF:</strong> \"Gas Town sounds cool, let's use that\"<br>\n          <strong>THEN:</strong> Week of setup for simple feature<br>\n          <strong>THEN:</strong> Debugging orchestration instead of building<br>\n          <strong>THEN:</strong> Revert to simpler pattern anyway<br>\n          <strong>FINALLY:</strong> \"We wasted a week on architecture\"<br><br>\n          <em>The fix: Start simple. Migrate when you hit limits.</em>"
    },
    {
      "id": "ana-18",
      "type": "analogy",
      "linkedSection": "path",
      "title": "Selection Path = Database Selection",
      "content": "Interactive = SQLite (simplest, local)<br>\n          Ralph = PostgreSQL (reliable, well-known)<br>\n          CC Mirror = Distributed SQL (coordination built-in)<br>\n          Gas Town = Kubernetes + multi-db (full infrastructure)<br><br>\n          If you've selected databases, you can select architectures."
    },
    {
      "id": "inf-19",
      "type": "inflection",
      "linkedSection": "path",
      "title": "When to migrate architectures",
      "content": "<strong>1-3 agents:</strong> Ralph sufficient. Simple coordination.<br>\n          <strong>3-5 agents:</strong> CC Mirror valuable. Formal orchestration helps.<br>\n          <strong>5-10 agents:</strong> Gas Town starts making sense.<br>\n          <strong>10+ agents:</strong> Gas Town essential. Can't hand-manage.<br><br>\n          <strong>THE INFLECTION:</strong> ~5 agents<br>\n          <strong>DETECTION:</strong> Spending &gt;30% time on coordination? Migrate up."
    },
    {
      "id": "war-20",
      "type": "warstory",
      "linkedSection": "gotchas",
      "title": "Molly Cantillon: Panopticon discovery",
      "content": "Built Jmail (18M users) with parallel Claude instances. Key insight: \"Each domain needs its own persistent directory.\" The gotcha she avoided: cross-domain file access. Strict isolation made it work."
    },
    {
      "id": "inv-21",
      "type": "inversion",
      "linkedSection": "gotchas",
      "title": "What if wrong model was harmless?",
      "content": "<strong>You'd design:</strong> Use Opus everywhere. Simplest possible.<br>\n          <strong>Why this fails:</strong> $50/day on Opus for lookups that Haiku does for $0.50.<br>\n          <strong>Hidden constraint revealed:</strong> Cost IS a constraint. Model selection IS architecture."
    },
    {
      "id": "eff-22",
      "type": "effect",
      "linkedSection": "gotchas",
      "title": "Architecture mistakes compound overnight",
      "content": "<strong>IMPLICATION:</strong> A wrong architecture choice in iteration 1 becomes 20 bad commits by morning. Ralph amplifies both good and bad patterns.<br>\n          <strong>THRESHOLD:</strong> First 3 iterations. If they're wrong, abort and fix architecture."
    },
    {
      "id": "trade-23",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "Coordination vs. Parallelism",
      "content": "<strong>Maximum parallelism:</strong> All agents work simultaneously<br>\n          <strong>But:</strong> More agents = more coordination overhead<br>\n          <strong>At N agents:</strong> Coordination cost &gt; parallelism benefit<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> N varies by task type, domain isolation, team familiarity.<br>\n          <strong>HEURISTIC:</strong> If agents wait for each other &gt;20% of time, reduce parallelism."
    },
    {
      "id": "exp-24",
      "type": "expertise",
      "linkedSection": "hard",
      "title": "Observability Understanding",
      "content": "<strong>Beginner:</strong> \"Why do I need monitoring?\"<br>\n          -&gt; You can't debug what you can't see<br>\n          <strong>Intermediate:</strong> \"What should I monitor?\"<br>\n          -&gt; Task status, context usage, error rates<br>\n          <strong>Advanced:</strong> \"How do I monitor multi-agent?\"<br>\n          -&gt; rpai for tmux, Claude HUD for context<br>\n          <strong>Staff:</strong> \"What's the minimal observability?\"<br>\n          -&gt; Heartbeat + error log + task completion<br>\n          <strong>Expert:</strong> \"Observability anti-patterns?\"<br>\n          -&gt; Over-logging fills context. Sample, don't trace everything."
    },
    {
      "id": "fron-25",
      "type": "frontier",
      "linkedSection": "hard",
      "title": "UNSOLVED: Optimal agent count",
      "content": "<strong>THE QUESTION:</strong> For a given project, how many agents is optimal?<br>\n          <strong>WHY IT'S HARD:</strong> Depends on task decomposition, domain isolation, coordination cost.<br>\n          <strong>CURRENT:</strong> Start with 1-3, add when you hit limits. No formula."
    },
    {
      "id": "con-26",
      "type": "constraint",
      "linkedSection": "hard",
      "title": "Architecture selection regret chain",
      "content": "<strong>ROOT:</strong> Can't know right architecture until you try it<br>\n          -&gt; Try simple first<br>\n          -&gt; Hit limits<br>\n          -&gt; Migrate up<br>\n          -&gt; Migration has cost<br>\n          -&gt; Minimize migration by preserving external state formats<br><br>\n          Accept iterative architecture selection. Plan for migration."
    },
    {
      "id": "alt-27",
      "type": "alternative",
      "linkedSection": "when",
      "title": "If this taxonomy isn't what you need",
      "content": "<strong>Need implementation details?</strong><br>\n          -&gt; mastery-ralph-complete.md, mastery-ccmirror-complete.md<br>\n          <strong>Need tool setup?</strong><br>\n          -&gt; taxonomy-tools.md<br>\n          <strong>Need pattern combinations?</strong><br>\n          -&gt; combinations-matrix.md<br>\n          <strong>Need cost analysis?</strong><br>\n          -&gt; compare-cost.md"
    },
    {
      "id": "inv-28",
      "type": "inversion",
      "linkedSection": "when",
      "title": "What if you used taxonomy for one-offs?",
      "content": "<strong>You'd design:</strong> Analyze patterns for a 10-minute script.<br>\n          <strong>Why this fails:</strong> Overhead exceeds benefit. Just use interactive session.<br>\n          <strong>Hidden constraint:</strong> Architecture selection has threshold. Below threshold, just do it."
    },
    {
      "id": "hor-29",
      "type": "horizon",
      "linkedSection": "when",
      "title": "Taxonomy value over career",
      "content": "<strong>Month 1:</strong> \"This is overwhelming. Just show me Ralph.\"<br>\n          <strong>Month 3:</strong> \"Oh, CC Mirror fits this project better.\"<br>\n          <strong>Month 6:</strong> \"I see how patterns relate now.\"<br>\n          <strong>Year 1:</strong> \"I can design new patterns from first principles.\"<br><br>\n          <em>Taxonomy is for career, not project.</em>"
    },
    {
      "id": "war-30",
      "type": "warstory",
      "linkedSection": "when",
      "title": "Ryan Carson: Pattern evolution",
      "content": "Started with interactive sessions. Evolved to Ralph. Now uses CC Mirror for Untangle. \"Each project taught me what I needed. The taxonomy makes it faster to learn.\""
    }
  ]
}