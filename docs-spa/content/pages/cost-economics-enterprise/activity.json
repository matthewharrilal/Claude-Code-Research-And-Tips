{
  "items": [
    {
      "id": "inv-1",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if all models cost the same?",
      "content": "<strong>You'd design:</strong> Always use Opus. No decision overhead.<br>\n          <strong>Why this fails:</strong> Compute isn't free. Pricing reflects real resource consumption. Even if subsidized, supply would be constrained.<br>\n          <strong>Hidden constraint revealed:</strong> Model tiering IS the market's solution to resource allocation."
    },
    {
      "id": "min-2",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible cost optimization",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">Use Sonnet unless you have a specific reason not to.</code><br>\n          <strong>Essential:</strong> Model selection matching task complexity.<br>\n          <strong>Everything else:</strong> Refinement for marginal gains."
    },
    {
      "id": "war-3",
      "type": "warstory",
      "linkedSection": "essence",
      "title": "YC Hackathon: $297 for 6 MVPs",
      "content": "Multiple teams using Ralph loops overnight. 6+ functional repos built. Total cost: $297. ~$50 per MVP. ROI: 3,000%+ vs contractor rates."
    },
    {
      "id": "con-4",
      "type": "constraint",
      "linkedSection": "core",
      "title": "One constraint forces FIVE decisions",
      "content": "<strong>ROOT:</strong> Compute costs money → Models have different resource requirements<br>\n          → Models priced by capability tier<br>\n          → Tasks have varying complexity requirements<br>\n          → Matching model to task is economically optimal<br>\n          → Over-provisioning wastes money<br>\n          → Under-provisioning costs more in rework"
    },
    {
      "id": "ana-5",
      "type": "analogy",
      "linkedSection": "core",
      "title": "Token Budget = Staffing Budget",
      "content": "Junior dev ($50K/yr) → Haiku ($1/MTok)<br>\n          Senior dev ($120K/yr) → Sonnet ($3/MTok)<br>\n          Staff eng ($200K/yr) → Opus ($5/MTok)<br><br>\n          <em>You don't use Staff engineers for junior tasks. Don't use Opus for simple lookups.</em>"
    },
    {
      "id": "eff-6",
      "type": "effect",
      "linkedSection": "core",
      "title": "Cost per output DECREASES at scale",
      "content": "At 10 agents: $5-$15 per PR<br>\n          At 100 agents: $2-$8 per PR<br><br>\n          <strong>Why:</strong> Better cache hit rates, efficient task distribution, amortized orchestration overhead."
    },
    {
      "id": "grad-7",
      "type": "gradient",
      "linkedSection": "decisions",
      "title": "How model mismatch fails (invisibly)",
      "content": "<strong>Haiku on complex task:</strong><br>\n          100% → 90%: Subtle omissions, you won't notice<br>\n          90% → 70%: Missing edge cases, architectural drift<br>\n          70% → 50%: Wrong abstractions, technical debt<br>\n          50% → CLIFF: Completely wrong approach, $500 rework<br><br>\n          <em>The gradient is invisible until the rework bill.</em>"
    },
    {
      "id": "trade-8",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "The Cache TTL Dilemma",
      "content": "<strong>5-min cache (1.25x write):</strong> Cheaper writes, but frequent misses<br>\n          <strong>1-hour cache (2x write):</strong> Expensive writes, but better hit rate<br><br>\n          <strong>No perfect answer:</strong> Depends on your request frequency. Interactive = 5-min. Batch = 1-hour."
    },
    {
      "id": "exp-9",
      "type": "expertise",
      "linkedSection": "decisions",
      "title": "How deep is your cost understanding?",
      "content": "<strong>Beginner:</strong> \"Which model should I use?\" → Sonnet for most things<br>\n          <strong>Intermediate:</strong> \"Why these prices?\" → Reflects compute requirements<br>\n          <strong>Advanced:</strong> \"When is Opus worth 5x?\" → Architecture, security, ambiguity<br>\n          <strong>Staff:</strong> \"What's the ROI equation?\" → AI_cost &lt; Dev_rate x Hours_saved<br>\n          <strong>Expert:</strong> \"Where's the inflection?\" → ~$300/month per developer"
    },
    {
      "id": "inv-10",
      "type": "invariant",
      "linkedSection": "pricing",
      "title": "Output costs 5x input across ALL models",
      "content": "This ratio is constant: Haiku ($1/$5), Sonnet ($3/$15), Opus ($5/$25).<br><br>\n          <strong>Why this matters:</strong> Output length control is universally valuable. Applies to every model choice."
    },
    {
      "id": "war-11",
      "type": "warstory",
      "linkedSection": "pricing",
      "title": "Ryan Carson: $50K contract, $297 API cost",
      "content": "One engineer delivered a $50,000 contract for $297 in API costs. Profit margin impact: 99.4%. Production Ralph at scale."
    },
    {
      "id": "hor-12",
      "type": "horizon",
      "linkedSection": "pricing",
      "title": "How cost perception changes with scale",
      "content": "<strong>Day 1:</strong> \"$6/day seems expensive for a tool\"<br>\n          <strong>Week 2:</strong> \"Wait, I shipped 3x more features\"<br>\n          <strong>Month 2:</strong> \"$180/month is cheap for a junior dev equivalent\"<br>\n          <strong>Quarter 2:</strong> \"This is our highest ROI investment\"<br><br>\n          <em>Don't judge AI ROI by day 1 costs.</em>"
    },
    {
      "id": "comp-13",
      "type": "composition",
      "linkedSection": "pricing",
      "title": "Batch API + Ralph",
      "content": "<strong>Works:</strong> Use Batch API for non-urgent Ralph iterations.<br>\n          <strong>Savings:</strong> 50% on batch operations.<br>\n          <strong>Catch:</strong> 24-hour turnaround. Only for truly autonomous overnight work."
    },
    {
      "id": "vio-14",
      "type": "violation",
      "linkedSection": "path",
      "title": "If you skip model selection optimization",
      "content": "<strong>IF:</strong> You use Opus for everything<br>\n          <strong>THEN:</strong> Simple tasks cost 5x necessary<br>\n          <strong>THEN:</strong> 50-iteration Ralph costs $750 vs $150<br>\n          <strong>THEN:</strong> Budget consumed 5x faster<br>\n          <strong>FINALLY:</strong> Work stops mid-feature when budget exhausted<br><br>\n          <em>The fix: Default Sonnet. Upgrade consciously.</em>"
    },
    {
      "id": "inv-15",
      "type": "inversion",
      "linkedSection": "path",
      "title": "What if you couldn't cache prompts?",
      "content": "<strong>You'd design:</strong> Tiny system prompts. No CLAUDE.md. Every call minimal.<br>\n          <strong>Why this fails:</strong> Context is valuable. Rich instructions improve output quality.<br>\n          <strong>Hidden constraint revealed:</strong> Caching lets you have rich context affordably."
    },
    {
      "id": "inf-16",
      "type": "inflection",
      "linkedSection": "path",
      "title": "When subscription beats API",
      "content": "<strong>$0-$20/month:</strong> Pro subscription (predictable)<br>\n          <strong>$20-$100/month:</strong> Max 5x subscription<br>\n          <strong>$100-$200/month:</strong> Max 20x subscription<br>\n          <strong>$200+/month:</strong> API (pay-per-use)<br><br>\n          <strong>THE INFLECTION:</strong> ~$180/month = Anthropic's reported $6/day average<br>\n          <em>Detection: Track /cost for 30 days before deciding.</em>"
    },
    {
      "id": "grad-17",
      "type": "gradient",
      "linkedSection": "gotchas",
      "title": "How runaway loops fail",
      "content": "<strong>Iteration 10:</strong> On track, ~$10 spent<br>\n          <strong>Iteration 25:</strong> Should have stopped, ~$25<br>\n          <strong>Iteration 50:</strong> Diminishing returns, ~$50<br>\n          <strong>Iteration 100:</strong> Wasted compute, ~$100<br>\n          <strong>Morning:</strong> $150 bill, half wasted on stuck loops<br><br>\n          <em>The gradient is invisible while you're asleep.</em>"
    },
    {
      "id": "con-18",
      "type": "constraint",
      "linkedSection": "gotchas",
      "title": "Why parallel agents explode costs",
      "content": "<strong>ROOT:</strong> N agents → N coordination messages<br>\n          → Each message is tokens<br>\n          → Orchestrator context grows with N<br>\n          → Coordination overhead &gt; task work<br>\n          → Adding agents INCREASES cost per task<br><br>\n          <em>Optimal: 3-5 workers per orchestrator</em>"
    },
    {
      "id": "fron-19",
      "type": "frontier",
      "linkedSection": "gotchas",
      "title": "UNSOLVED: Automatic cost anomaly detection",
      "content": "When should a loop self-terminate for cost? After N iterations? After $X spent? After diminishing returns detected? No automation yet. Manual monitoring required."
    },
    {
      "id": "trade-20",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "Quality vs. Cost Tension",
      "content": "<strong>THE DILEMMA:</strong><br>\n          Use Opus: Better output, 5x cost<br>\n          Use Haiku: 80% savings, risk of rework<br>\n          Use cascade: Complexity overhead<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> Task complexity isn't always predictable upfront."
    },
    {
      "id": "ana-21",
      "type": "analogy",
      "linkedSection": "hard",
      "title": "ROI Measurement = Clinical Trial",
      "content": "Short-term results misleading → Need 6 months data<br>\n          Placebo effect exists → Learning curve distorts early numbers<br>\n          Controls matter → Compare to baseline, not ideal<br>\n          Sample size matters → One project isn't proof<br><br>\n          <em>Treat AI ROI measurement like science, not marketing.</em>"
    },
    {
      "id": "war-22",
      "type": "warstory",
      "linkedSection": "hard",
      "title": "Steve Yegge on Gas Town costs",
      "content": "\"If you care about costs, don't use this.\"<br><br>\n          Gas Town optimizes for capability, not cost. Multiple Claude accounts. \"Expensive as hell.\" But enables solo developer to match small team output."
    },
    {
      "id": "hor-23",
      "type": "horizon",
      "linkedSection": "hard",
      "title": "How ROI perception evolves",
      "content": "<strong>Week 1:</strong> \"Productivity dropped during learning curve\"<br>\n          <strong>Month 1:</strong> \"Patterns emerging, some wins\"<br>\n          <strong>Month 3:</strong> \"Consistent velocity improvements\"<br>\n          <strong>Month 6:</strong> \"Finally have meaningful data\"<br><br>\n          <em>Warning: Short-term measurements during learning curves produce misleading negative results.</em>"
    },
    {
      "id": "inv-24",
      "type": "inversion",
      "linkedSection": "when",
      "title": "What if you optimized architecture decisions?",
      "content": "<strong>You'd design:</strong> Use Haiku for architecture to save money.<br>\n          <strong>Why this fails:</strong> Wrong architecture costs 100x the \"savings\" in rework.<br>\n          <strong>Hidden insight:</strong> Some decisions should NEVER be cost-optimized."
    },
    {
      "id": "exp-25",
      "type": "expertise",
      "linkedSection": "when",
      "title": "Budget decision by expertise level",
      "content": "<strong>Beginner:</strong> \"How much should I budget?\" → Start with Pro ($20)<br>\n          <strong>Intermediate:</strong> \"When to upgrade?\" → When hitting limits 3+ days/week<br>\n          <strong>Advanced:</strong> \"Subscription or API?\" → Depends on usage variance<br>\n          <strong>Staff:</strong> \"Team budget formula?\" → $150-300/dev/month<br>\n          <strong>Expert:</strong> \"Enterprise negotiation?\" → Volume commits unlock discounts"
    },
    {
      "id": "alt-26",
      "type": "alternative",
      "linkedSection": "when",
      "title": "If budget is truly constrained",
      "content": "<strong>Haiku-only workflow:</strong> 80% savings, simple tasks only<br>\n          <strong>Batch API:</strong> 50% savings, 24hr turnaround<br>\n          <strong>Cache-heavy:</strong> 90% savings on repeated work<br>\n          <strong>Off-peak usage:</strong> Better rate limit headroom<br>\n          <strong>Self-hosted:</strong> Higher setup, lower marginal cost"
    },
    {
      "id": "comp-27",
      "type": "composition",
      "linkedSection": "when",
      "title": "All optimizations combined",
      "content": "<strong>Model tiering:</strong> -40-60%<br>\n          <strong>+ Prompt caching:</strong> -20-40% more<br>\n          <strong>+ Fresh context:</strong> -30-50% more<br>\n          <strong>+ Batch API:</strong> -50% on eligible<br>\n          <strong>= Full stack:</strong> 80-90% total savings<br><br>\n          <em>Complexity: High. Worth it at enterprise scale.</em>"
    },
    {
      "id": "inf-28",
      "type": "inflection",
      "linkedSection": "when",
      "title": "When optimization becomes negative ROI",
      "content": "<strong>$0-$500/month:</strong> Basic tiering only<br>\n          <strong>$500-$2K/month:</strong> Add caching, monitoring<br>\n          <strong>$2K-$10K/month:</strong> Add batch, subagents<br>\n          <strong>$10K+/month:</strong> Full optimization stack<br><br>\n          <strong>THE INFLECTION:</strong> ~$2K/month<br>\n          <em>Below this, optimization time &gt; savings value.</em>"
    }
  ]
}