{
  "items": [
    {
      "id": "min-1",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible core of ALL Ralph variants",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">while :; do cat PROMPT.md | claude; done</code><br><br>\n          <strong>Essential:</strong> The loop. Fresh context. External state.<br>\n          <strong>Everything else:</strong> Refinement for specific use cases."
    },
    {
      "id": "inv-2",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if you only needed one variant?",
      "content": "<strong>You'd use:</strong> Basic Ralph for everything.<br>\n          <strong>What would break:</strong> Security-critical code (no confidence gates), unclear requirements (no Lisa planning), cost blowouts (no rate limiting).<br>\n          <strong>Revealed insight:</strong> Variants exist because different contexts have different failure modes."
    },
    {
      "id": "war-3",
      "type": "warstory",
      "linkedSection": "essence",
      "title": "Ryan Carson: Untangle Legal Agent",
      "content": "6 user stories, ran overnight with Compounding Ralph. 14 iterations, ~$10-15, 2 hours autonomous.<br><br>\n          <em>\"Learnings compound. By story 10, Ralph knew our patterns.\"</em>"
    },
    {
      "id": "con-4",
      "type": "constraint",
      "linkedSection": "core",
      "title": "One constraint forces all four pillars",
      "content": "<strong>ROOT:</strong> Context finite (200K) and quality degrades as it fills<br>\n          ↳ Fresh context per iteration (Pillar 1)<br>\n          ↳ State must persist externally (Pillar 2)<br>\n          ↳ Tasks must complete in one window (Pillar 3)<br>\n          ↳ Failures inform next attempt via files (Pillar 4)<br><br>\n          One constraint, FOUR architectural choices."
    },
    {
      "id": "ana-5",
      "type": "analogy",
      "linkedSection": "core",
      "title": "Ralph variants = Database isolation levels",
      "content": "<strong>Basic Ralph</strong> = READ COMMITTED (standard, most use cases)<br>\n          <strong>Dr. Ralph</strong> = REPEATABLE READ (explicit checkpoints)<br>\n          <strong>Zeroshot</strong> = SERIALIZABLE (maximum isolation, highest cost)<br>\n          <strong>HOTL Ralph</strong> = Manual transactions (human controls commits)<br><br>\n          <em>Higher isolation = higher cost = fewer edge cases.</em>"
    },
    {
      "id": "exp-6",
      "type": "expertise",
      "linkedSection": "core",
      "title": "How deep is your variant understanding?",
      "content": "<strong>Beginner:</strong> \"Which variant should I use?\" → Basic Ralph for 80% of cases<br>\n          <strong>Intermediate:</strong> \"When do I upgrade?\" → When hitting specific failure modes<br>\n          <strong>Advanced:</strong> \"Can I combine variants?\" → Yes: Lisa → Basic, Compounding → Zeroshot<br>\n          <strong>Staff:</strong> \"When are variants wrong?\" → Subjective goals, no tests, exploration<br>\n          <strong>Expert:</strong> \"What's missing?\" → Visual verification, semantic understanding"
    },
    {
      "id": "inv-7",
      "type": "invariant",
      "linkedSection": "core",
      "title": "All variants share INV-003",
      "content": "<strong>INV-003:</strong> External state &gt; internal memory<br><br>\n          Basic Ralph, Dr. Ralph, Marathon Ralph, Zeroshot - ALL use prd.json + progress.txt. None rely on Claude \"remembering.\"<br><br>\n          <em>The filesystem IS the memory across the entire ecosystem.</em>"
    },
    {
      "id": "grad-8",
      "type": "gradient",
      "linkedSection": "advanced",
      "title": "How Marathon Ralph fails at scale",
      "content": "<strong>100% → 90%</strong> (phases 1-2): Schema works, planning works<br>\n          <strong>90% → 70%</strong> (phases 3-4): Backend/frontend drift from spec<br>\n          <strong>70% → 50%</strong> (phases 5-6): Testing coverage gaps, E2E flaky<br>\n          <strong>50% → CLIFF</strong> (phase 7): Docs describe wrong system<br><br>\n          <em>Critical: Each phase builds on prior. One bad phase poisons all that follow.</em>"
    },
    {
      "id": "trade-9",
      "type": "tradeoff",
      "linkedSection": "advanced",
      "title": "Lisa vs. Direct Implementation",
      "content": "<strong>Lisa first:</strong> Better specs, fewer wasted iterations, BUT delayed start<br>\n          <strong>Direct Ralph:</strong> Faster start, BUT more iterations on unclear requirements<br><br>\n          <strong>HEURISTIC:</strong> Use Lisa when you can't describe the feature in 3 sentences. Skip Lisa when requirements are already documented."
    },
    {
      "id": "comp-10",
      "type": "composition",
      "linkedSection": "advanced",
      "title": "Zeroshot + Rate Limiting",
      "content": "<strong>Works?</strong> Yes, but needs careful configuration<br>\n          <strong>Why it works:</strong> Multi-agent validation + cost control<br>\n          <strong>The danger:</strong> 4-7 agents per task means rate limits hit faster. Need wider delays.<br>\n          <strong>Recommendation:</strong> Use CALLS_PER_HOUR = 30 (not 100) with Zeroshot STANDARD tier."
    },
    {
      "id": "hor-11",
      "type": "horizon",
      "linkedSection": "advanced",
      "title": "Zeroshot perception over time",
      "content": "<strong>Week 1:</strong> \"This is overkill for simple tasks\"<br>\n          <strong>Week 4:</strong> \"Wait, that validator caught a real bug\"<br>\n          <strong>Month 2:</strong> \"Validators are why production hasn't broken\"<br>\n          <strong>Month 6:</strong> \"Cost is insurance, not overhead\"<br><br>\n          <em>Judge Zeroshot by production incidents prevented, not by token cost.</em>"
    },
    {
      "id": "inv-12",
      "type": "inversion",
      "linkedSection": "specialized",
      "title": "What if AFK Ralph had no timeout?",
      "content": "<strong>You'd get:</strong> Infinite loops on stuck tasks, cost explosions, morning surprises.<br>\n          <strong>Why timeouts matter:</strong> 8-hour cap = known maximum cost, guaranteed termination.<br>\n          <strong>Hidden constraint:</strong> Autonomy requires boundaries. No limit = no safety."
    },
    {
      "id": "vio-13",
      "type": "violation",
      "linkedSection": "specialized",
      "title": "If you skip HOTL for security code",
      "content": "<strong>IF:</strong> Use AFK Ralph for auth/payment code<br>\n          <strong>THEN:</strong> No human review of sensitive logic<br>\n          <strong>THEN:</strong> Subtle security bugs ship<br>\n          <strong>THEN:</strong> Production breach<br>\n          <strong>FINALLY:</strong> \"We trusted Claude too much\"<br><br>\n          <em>THE FIX: Security-critical = HOTL Ralph or Zeroshot CRITICAL tier. Always.</em>"
    },
    {
      "id": "war-14",
      "type": "warstory",
      "linkedSection": "specialized",
      "title": "Molly Cantillon: Jmail, 18M users",
      "content": "Built overnight with Parallel Ralph loops. Multiple features developed simultaneously using git worktrees.<br><br>\n          <em>Proof that Ralph works for production systems at scale.</em>"
    },
    {
      "id": "ana-15",
      "type": "analogy",
      "linkedSection": "selection",
      "title": "Variant selection = Cloud instance sizing",
      "content": "<strong>Basic Ralph</strong> = t3.medium (general purpose, most workloads)<br>\n          <strong>Dr. Ralph</strong> = t3.large (more memory for complex state)<br>\n          <strong>Rate-Limited</strong> = Spot instances (cost optimized)<br>\n          <strong>Marathon</strong> = c5.xlarge (compute intensive)<br>\n          <strong>Zeroshot</strong> = m5.4xlarge (maximum reliability)<br><br>\n          <em>Start small. Scale up only when you hit limits.</em>"
    },
    {
      "id": "inf-16",
      "type": "inflection",
      "linkedSection": "selection",
      "title": "When Compounding becomes essential",
      "content": "<strong>Project week 1:</strong> Basic Ralph sufficient (learning curve)<br>\n          <strong>Project week 2-3:</strong> Compounding neutral (archive growing)<br>\n          <strong>Project week 4+:</strong> Compounding essential (patterns compound)<br><br>\n          <strong>THE INFLECTION:</strong> ~3 weeks / ~50 iterations<br>\n          <em>Before: Archive overhead. After: Institutional memory.</em>"
    },
    {
      "id": "trade-17",
      "type": "tradeoff",
      "linkedSection": "selection",
      "title": "Cost vs. Confidence",
      "content": "<strong>THE DILEMMA:</strong><br>\n          • Basic Ralph: $0.05-0.20/iter, but self-validates<br>\n          • Zeroshot STD: $0.20-0.60/iter, independent validation<br>\n          • Zeroshot CRIT: $0.35-1.00/iter, 5 validators<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> Risk tolerance varies by domain.<br>\n          <strong>HEURISTIC:</strong> Auth/payments = CRIT. CRUD features = Basic."
    },
    {
      "id": "vio-18",
      "type": "violation",
      "linkedSection": "gotchas",
      "title": "If progress.txt exceeds 20KB",
      "content": "<strong>IF:</strong> progress.txt grows past 20KB<br>\n          <strong>THEN:</strong> Claude spends more tokens reading than thinking<br>\n          <strong>THEN:</strong> Quality drops in later iterations<br>\n          <strong>THEN:</strong> Tasks that should pass fail<br>\n          <strong>FINALLY:</strong> \"Ralph doesn't work\" (but it's file bloat)<br><br>\n          <em>THE FIX: Truncate to last 10 entries. Move permanent learnings to AGENTS.md.</em>"
    },
    {
      "id": "grad-19",
      "type": "gradient",
      "linkedSection": "gotchas",
      "title": "How \"stuck loop\" manifests",
      "content": "<strong>Iteration 1-3:</strong> Progress normal<br>\n          <strong>Iteration 4-6:</strong> Same task attempted twice<br>\n          <strong>Iteration 7-10:</strong> Same task, same error, no learning<br>\n          <strong>Iteration 11+:</strong> Cost climbing, no commits<br><br>\n          <em>Detection: Same HEAD for 3+ iterations = stuck. Add git HEAD check to loop.</em>"
    },
    {
      "id": "fron-20",
      "type": "frontier",
      "linkedSection": "gotchas",
      "title": "UNSOLVED: Optimal compaction window",
      "content": "<strong>THE QUESTION:</strong> When should progress.txt be compacted? After N iterations? After K bytes?<br>\n          <strong>WHY IT'S HARD:</strong> Too early = lose useful learnings. Too late = context bloat. Optimal varies by project.<br>\n          <strong>CURRENT BEST PRACTICE:</strong> Manual compaction when quality degrades. No automation yet."
    },
    {
      "id": "trade-21",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "Context Rot vs. Memory Loss",
      "content": "<strong>THE DILEMMA:</strong><br>\n          • Extended session: Rich context, but quality degrades at 80K<br>\n          • Fresh context: Peak quality, but must reconstruct state<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> progress.txt is lossy - you choose what to write. Each iteration \"forgets\" 90% of the prior.<br><br>\n          <em>Accept that fresh &gt; rot. Invest in better hygiene, not longer sessions.</em>"
    },
    {
      "id": "exp-22",
      "type": "expertise",
      "linkedSection": "hard",
      "title": "Task Decomposition Understanding",
      "content": "<strong>Beginner:</strong> \"How small should tasks be?\" → Fit in one context<br>\n          <strong>Intermediate:</strong> \"What's too small?\" → When description &gt; code change<br>\n          <strong>Advanced:</strong> \"How do I improve?\" → Review progress.txt after runs<br>\n          <strong>Staff:</strong> \"Is there a formula?\" → No. It's a skill, not a formula.<br>\n          <strong>Expert:</strong> \"Invisible errors?\" → Tasks with hidden dependencies"
    },
    {
      "id": "hor-23",
      "type": "horizon",
      "linkedSection": "hard",
      "title": "How decomposition skill develops",
      "content": "<strong>Week 1:</strong> \"Why do my tasks fail?\"<br>\n          <strong>Month 1:</strong> \"I see patterns in what works\"<br>\n          <strong>Month 3:</strong> \"I can estimate iterations accurately\"<br>\n          <strong>Month 6:</strong> \"I rarely have stuck loops\"<br><br>\n          <em>Don't judge your skill by your first project.</em>"
    },
    {
      "id": "inv-24",
      "type": "inversion",
      "linkedSection": "when",
      "title": "What if you used Ralph for \"make it pretty\"?",
      "content": "• No acceptance criteria → no verification → false \"done\"<br>\n          • Claude claims complete → you disagree → frustration<br>\n          • Overnight run produces 10 \"improvements\" you hate<br><br>\n          <strong>Why this fails:</strong> Ralph requires VERIFIABLE completion.<br>\n          <em>\"Pretty\" is not verifiable. \"Passes Lighthouse score 90\" is.</em>"
    },
    {
      "id": "alt-25",
      "type": "alternative",
      "linkedSection": "when",
      "title": "If Ralph ecosystem isn't right for your use case",
      "content": "<strong>Need real-time parallelism?</strong> → CC Mirror<br>\n          <strong>Need factory-scale orchestration?</strong> → Gas Town<br>\n          <strong>Need content, not code?</strong> → Ralph Wiggum Marketer<br>\n          <strong>Need debugging, not building?</strong> → Single Claude session<br>\n          <strong>Need visual verification?</strong> → Playwright subagent composition"
    },
    {
      "id": "inv-26",
      "type": "invariant",
      "linkedSection": "when",
      "title": "Ralph shares INV-002 with all Claude workflows",
      "content": "<strong>INV-002:</strong> Fresh context &gt; extended sessions<br><br>\n          This isn't just Ralph. It's every Claude workflow. The difference: Ralph makes the principle explicit with the bash loop.<br><br>\n          <em>If you understand Ralph, you understand the fundamental constraint of all LLM workflows.</em>"
    },
    {
      "id": "eff-27",
      "type": "effect",
      "linkedSection": "when",
      "title": "At scale: Ralph changes how you write specs",
      "content": "<strong>Before Ralph:</strong> Specs describe \"what to build\"<br>\n          <strong>After Ralph:</strong> Specs describe \"how to verify completion\"<br><br>\n          <strong>IMPLICATION:</strong> Teams using Ralph write better specs even for non-Ralph work. The discipline transfers.<br><br>\n          <em>Threshold: ~50 Ralph iterations = permanent spec improvement.</em>"
    }
  ]
}