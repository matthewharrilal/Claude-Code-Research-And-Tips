

      <!-- Section 1: ESSENCE -->
      <section id="essence" data-activity="essence">
        <div class="essence-box">
          <div class="essence-label">Essence (15 words)</div>
          <div class="essence-text">Pattern combinations multiply power when synergistic, destroy value when conflicting. Know which is which.</div>
        </div>
      </section>

      <!-- Section 2: CORE ABSTRACTION -->
      <section id="core-abstraction" data-activity="core">
        <h2 class="section-title">
          <span class="section-number">2</span>
          The Core Abstraction
        </h2>

        <div class="core-abstraction">
          <div class="core-philosophy">"Not all patterns compose. Some amplify. Some conflict. The matrix is your map."</div>

          <div class="core-anchor">Every cell in the matrix is a decision point. Know the terrain before you combine.</div>
        </div>

        <p class="text-text-secondary mb-6">
          This matrix captures the interaction between Claude Code's major patterns: Ralph Loop, CC Mirror, Gas Town, Hooks, Subagents, Git Worktrees, and Claude-Mem. Some combinations are documented and battle-tested. Some are synergistic but need careful setup. Some are anti-patterns that will fight each other.
        </p>

        <!-- Legend -->
        <div class="legend-box">
          <div class="legend-item">
            <span class="legend-badge matrix-documented">Documented</span>
            <span>Community-validated, examples exist</span>
          </div>
          <div class="legend-item">
            <span class="legend-badge matrix-synergistic">Synergistic</span>
            <span>Works well, complementary</span>
          </div>
          <div class="legend-item">
            <span class="legend-badge matrix-possible">Possible</span>
            <span>Can work with careful setup</span>
          </div>
          <div class="legend-item">
            <span class="legend-badge matrix-antipattern">Anti-pattern</span>
            <span>Conflicting approaches</span>
          </div>
          <div class="legend-item">
            <span class="legend-badge matrix-unexplored">Unexplored</span>
            <span>No known examples</span>
          </div>
        </div>

        <!-- The Matrix -->
        <h3 class="font-semibold text-lg mb-4">Quick Reference Matrix</h3>

        <div class="overflow-x-auto mb-8">
          <table class="matrix-table">
            <thead>
              <tr>
                <th></th>
                <th>Ralph Loop</th>
                <th>CC Mirror</th>
                <th>Gas Town</th>
                <th>Hooks</th>
                <th>Subagents</th>
                <th>Git Worktrees</th>
                <th>Claude-Mem</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Ralph Loop</td>
                <td>-</td>
                <td class="matrix-possible">Possible</td>
                <td class="matrix-possible">Possible</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-synergistic">Synergistic</td>
              </tr>
              <tr>
                <td>CC Mirror</td>
                <td class="matrix-possible">Possible</td>
                <td>-</td>
                <td class="matrix-antipattern">Anti-pattern</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-unexplored">Unexplored</td>
              </tr>
              <tr>
                <td>Gas Town</td>
                <td class="matrix-possible">Possible</td>
                <td class="matrix-antipattern">Anti-pattern</td>
                <td>-</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-possible">Possible</td>
                <td class="matrix-unexplored">Unexplored</td>
              </tr>
              <tr>
                <td>Hooks</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td>-</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-documented">Documented</td>
              </tr>
              <tr>
                <td>Subagents</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td>-</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-unexplored">Unexplored</td>
              </tr>
              <tr>
                <td>Git Worktrees</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-possible">Possible</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td>-</td>
                <td class="matrix-possible">Possible</td>
              </tr>
              <tr>
                <td>Claude-Mem</td>
                <td class="matrix-synergistic">Synergistic</td>
                <td class="matrix-unexplored">Unexplored</td>
                <td class="matrix-unexplored">Unexplored</td>
                <td class="matrix-documented">Documented</td>
                <td class="matrix-unexplored">Unexplored</td>
                <td class="matrix-possible">Possible</td>
                <td>-</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Section 3: DESIGN DECISIONS -->
      <section id="why-ratings" data-activity="decisions">
        <h2 class="section-title">
          <span class="section-number">3</span>
          Design Decisions
        </h2>

        <div class="decision-box">
          <div class="decision-why">WHY FIVE RATINGS?</div>
          <div class="decision-reasoning">
            Binary "works/doesn't" loses crucial nuance. "Documented" means battle-tested with examples. "Synergistic" means natural fit but needs your implementation. "Possible" means it CAN work but requires careful thought. "Anti-pattern" means actively harmful. "Unexplored" means opportunity or trap - we don't know yet.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Start with "Documented" combinations. Graduate to "Synergistic" when you understand both patterns. Approach "Possible" with experiments. Avoid "Anti-pattern" always. "Unexplored" is your chance to contribute back.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-roi">
          <div class="decision-why">WHY ROI MATTERS?</div>
          <div class="decision-reasoning">
            Every combination has setup cost and ongoing maintenance. Some combinations have 5/5 ROI (low effort, high payoff) while others have 2/5 ROI (high effort, medium payoff). The matrix tells you what's POSSIBLE. ROI tells you what's WORTH IT for your situation.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Don't chase the fanciest combination. Chase the highest ROI for your current stage. Ralph + Hooks is 5/5 ROI. Gas Town + Full Hierarchy is 3/5 ROI. Know your stage before choosing complexity.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-sequence">
          <div class="decision-why">WHY STAGED PROGRESSION?</div>
          <div class="decision-reasoning">
            Beginners who jump to Gas Town + Full Agent Hierarchy burn money and learn nothing. The combinations are ordered by prerequisite experience. Stage 1-3 combinations work with basic pattern knowledge. Stage 6-7 combinations require mastery of underlying patterns first.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Respect the progression. Master Ralph before combining Ralph + Worktrees. Master CC Mirror before CC Mirror + Worktrees + Hooks. Each stage builds on the previous. Skipping stages wastes money and creates fragile setups.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 4: DETAILED COMBINATIONS -->
      <section id="combinations" data-activity="combinations">
        <h2 class="section-title">
          <span class="section-number">4</span>
          Key Combinations
        </h2>

        <p class="text-text-secondary mb-6">
          Detailed analysis of the most important pattern combinations, with mechanisms, benefits, and code examples.
        </p>

        <!-- Ralph + Hooks -->
        <div class="combo-card" id="ralph-hooks">
          <div class="combo-header">
            <div class="combo-title">Ralph Loop + Hooks</div>
            <span class="combo-rating rating-documented">Documented</span>
          </div>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Evidence:</strong> Official Anthropic Ralph Wiggum plugin uses hooks for loop persistence
          </p>
          <p class="text-text-secondary text-sm mb-4">
            <strong>How It Works:</strong> PreToolUse hooks for notifications (e.g., Poke push notifications), Stop hooks for graceful loop termination, PostToolUse hooks for progress logging.
          </p>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Benefits:</strong> Mobile notifications during AFK runs, clean shutdown when human intervention needed, automatic progress tracking.
          </p>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre><span class="comment"># Hook triggers push notification when Claude needs input</span>
/ralph-loop <span class="string">"Build auth system"</span> --completion-promise <span class="string">"COMPLETE"</span> --max-iterations 25
<span class="comment"># Stop hook fires on SIGTERM, saves state to progress.txt</span></pre>
          </div>
        </div>

        <!-- Ralph + Subagents -->
        <div class="combo-card">
          <div class="combo-header">
            <div class="combo-title">Ralph Loop + Subagents</div>
            <span class="combo-rating rating-documented">Documented</span>
          </div>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Evidence:</strong> Matt Pocock's HOTL Ralph pattern, Ryan Carson's production use
          </p>
          <p class="text-text-secondary text-sm mb-4">
            <strong>How It Works:</strong> Each Ralph iteration can spawn subagents for specific tasks. Subagents complete, return results, die. Main loop continues with fresh context.
          </p>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Benefits:</strong> Parallel exploration within sequential loop, specialized subagents for specific file types, context isolation prevents bloat.
          </p>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre>{
  <span class="string">"userStory"</span>: <span class="string">"Add authentication"</span>,
  <span class="string">"subtasks"</span>: [
    {<span class="string">"spawn"</span>: <span class="string">"security-auditor"</span>, <span class="string">"task"</span>: <span class="string">"Review JWT implementation"</span>},
    {<span class="string">"spawn"</span>: <span class="string">"test-writer"</span>, <span class="string">"task"</span>: <span class="string">"Generate auth tests"</span>}
  ]
}</pre>
          </div>
        </div>

        <!-- CC Mirror + Subagents -->
        <div class="combo-card" id="cc-mirror-subagents">
          <div class="combo-header">
            <div class="combo-title">CC Mirror + Subagents</div>
            <span class="combo-rating rating-documented">Documented</span>
          </div>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Evidence:</strong> Core CC Mirror architecture, official demo
          </p>
          <p class="text-text-secondary text-sm mb-4">
            <strong>How It Works:</strong> Orchestrator uses Task tool to spawn workers. Workers are specialized subagents (Haiku, Sonnet, Opus). Task dependencies managed via addBlocks/addBlockedBy.
          </p>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Tool Ownership:</strong> Orchestrator gets Task tools, AskUserQuestion, limited Read. Workers get Read, Write, Edit, Bash, Glob, Grep.
          </p>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre>Task({
  <span class="variable">subagent_type</span>: <span class="string">"coder"</span>,
  <span class="variable">prompt</span>: <span class="string">"Implement auth in "</span> + WORKTREE_PATH,
  <span class="variable">worktree</span>: <span class="string">"../worktrees/feature-auth"</span>
});</pre>
          </div>
        </div>

        <!-- Ralph + Git Worktrees -->
        <div class="combo-card">
          <div class="combo-header">
            <div class="combo-title">Ralph Loop + Git Worktrees</div>
            <span class="combo-rating rating-synergistic">Synergistic</span>
          </div>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Evidence:</strong> @0xSero mentioned adding worktrees for parallelization
          </p>
          <p class="text-text-secondary text-sm mb-4">
            <strong>How It Works:</strong> Multiple Ralph loops run in parallel worktrees. Each worktree owns a feature branch. Human merges completed features.
          </p>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre><span class="comment"># Spawn parallel Ralph loops in worktrees</span>
<span class="keyword">for</span> feature <span class="keyword">in</span> auth payments notifications; <span class="keyword">do</span>
  git worktree add ../wt-$feature $feature-branch
  (cd ../wt-$feature &amp;&amp; ./ralph.sh 20) &amp;
<span class="keyword">done</span>
<span class="keyword">wait</span></pre>
          </div>
        </div>

        <!-- CC Mirror + Gas Town (Anti-pattern) -->
        <div class="combo-card">
          <div class="combo-header">
            <div class="combo-title">CC Mirror + Gas Town</div>
            <span class="combo-rating rating-antipattern">Anti-pattern</span>
          </div>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Why It Conflicts:</strong> Both try to be the "conductor." Different task graph models (CC Mirror: Linear-style, Gas Town: inbox-based). Different agent lifecycle management. Overlapping role definitions (Deacon vs CC Mirror orchestrator).
          </p>
          <p class="text-text-secondary text-sm mb-4">
            <strong>Instead:</strong> Choose one orchestration system. Use CC Mirror for 80% of cases (simpler). Use Gas Town only at Stage 7+ (10+ agents).
          </p>
        </div>

        <!-- ROI Table -->
        <h3 class="font-semibold text-lg mb-4 mt-8">ROI Matrix</h3>

        <div class="overflow-x-auto mb-8">
          <table class="roi-table">
            <thead>
              <tr>
                <th>Combination</th>
                <th>Setup</th>
                <th>Ongoing</th>
                <th>Payoff</th>
                <th>ROI</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Ralph + Hooks</td>
                <td>Low</td>
                <td>None</td>
                <td>High</td>
                <td>5/5</td>
                <td>Push notifications during AFK runs</td>
              </tr>
              <tr>
                <td>Hooks + Subagents</td>
                <td>Low</td>
                <td>Low</td>
                <td>High</td>
                <td>5/5</td>
                <td>Observable multi-agent workflows</td>
              </tr>
              <tr>
                <td>CC Mirror + Subagents</td>
                <td>None</td>
                <td>Low</td>
                <td>High</td>
                <td>5/5</td>
                <td>Already integrated</td>
              </tr>
              <tr>
                <td>Subagents + Worktrees</td>
                <td>Medium</td>
                <td>Low</td>
                <td>High</td>
                <td>4/5</td>
                <td>True parallel feature development</td>
              </tr>
              <tr>
                <td>Ralph + Worktrees</td>
                <td>Medium</td>
                <td>Low</td>
                <td>High</td>
                <td>4/5</td>
                <td>Parallel overnight loops</td>
              </tr>
              <tr>
                <td>CC Mirror + Hooks</td>
                <td>Low</td>
                <td>None</td>
                <td>High</td>
                <td>4/5</td>
                <td>Built-in observability</td>
              </tr>
              <tr>
                <td>Ralph + Claude-Mem</td>
                <td>Medium</td>
                <td>None</td>
                <td>Medium</td>
                <td>3/5</td>
                <td>Redundant state tracking possible</td>
              </tr>
              <tr>
                <td>Gas Town + Subagents</td>
                <td>High</td>
                <td>Medium</td>
                <td>Very High</td>
                <td>3/5</td>
                <td>Full agent factory (Stage 7+)</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Section 5: PATH OF A DECISION -->
      <section id="path" data-activity="path">
        <h2 class="section-title">
          <span class="section-number">5</span>
          The Decision Path
        </h2>

        <p class="text-text-secondary mb-6">
          Use this flowchart to select the right combination for your use case:
        </p>

        <div class="path-container">
          <div class="path-step">
            <div class="path-number">1</div>
            <div class="path-content"><strong>What's your use case?</strong> Identify the primary need.</div>
          </div>
          <div class="path-step">
            <div class="path-number">2</div>
            <div class="path-content"><strong>Single overnight feature?</strong> → Ralph + Hooks</div>
          </div>
          <div class="path-step">
            <div class="path-number">3</div>
            <div class="path-content"><strong>Multiple parallel features?</strong> → Ralph + Worktrees + Hooks</div>
          </div>
          <div class="path-step">
            <div class="path-number">4</div>
            <div class="path-content"><strong>Interactive multi-agent work?</strong> → CC Mirror + Subagents</div>
          </div>
          <div class="path-step">
            <div class="path-number">5</div>
            <div class="path-content"><strong>Complex project with memory?</strong> → Claude-Mem + (Ralph or CC Mirror)</div>
          </div>
          <div class="path-step">
            <div class="path-number">6</div>
            <div class="path-content"><strong>Mobile-first development?</strong> → Worktrees + Hooks (Poke) + Cloud VM</div>
          </div>
          <div class="path-step">
            <div class="path-number">7</div>
            <div class="path-content"><strong>10+ agents, factory-scale?</strong> → Gas Town (if Stage 7+)</div>
          </div>
          <div class="path-step">
            <div class="path-number">8</div>
            <div class="path-content"><strong>Just starting out?</strong> → Subagents only → add Hooks → add HUD</div>
          </div>
        </div>

        <!-- Quick Start Commands -->
        <h3 class="font-semibold text-lg mb-4 mt-8">Quick Start Commands</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Basic observability</span>
/plugin install claude-hud

<span class="comment"># Memory persistence</span>
/plugin marketplace add thedotmack/claude-mem
/plugin install claude-mem

<span class="comment"># CC Mirror orchestration</span>
npx cc-mirror quick --provider mirror --name mclaude

<span class="comment"># Ralph loop</span>
./ralph.sh 25

<span class="comment"># Git worktree for parallel agent</span>
git worktree add ../worktrees/feature-x feature-x-branch

<span class="comment"># tmux agent manager (for multiple instances)</span>
cargo install rpai &amp;&amp; rpai</pre>
        </div>
      </section>

      <!-- Section 6: GOTCHAS -->
      <section id="gotchas" data-activity="gotchas">
        <h2 class="section-title">
          <span class="section-number">6</span>
          Gotchas
        </h2>

        <p class="text-text-secondary mb-6">
          Real problems you'll hit when combining patterns:
        </p>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Pattern Combination Not Working
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> You've combined two patterns but they seem to interfere with each other</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Both patterns try to manage the same resource (context, files, state) without coordination</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Check if both patterns write to same files (e.g., both using progress.txt). Verify hooks aren't conflicting. Ensure only one orchestration system is active.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Context Explosion in Multi-Pattern Setup
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Context fills up rapidly (80%+ in HUD) when using multiple patterns</div>
          <div class="gotcha-detail"><strong>Threshold:</strong> Memory patterns + rich state files + verbose hooks = context bloat</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Use subagents to isolate expensive operations. Keep progress.txt lean. Configure Claude-Mem to inject only on-demand.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Hooks Not Firing for Subagent Operations
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> PostToolUse hooks work for main agent but not for spawned subagents</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Subagents may run in isolated contexts where project-level hooks aren't inherited</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Configure hooks at global level (<code>~/.claude/settings.json</code>) not project level. Or use CC Mirror which has built-in hook integration.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            CC Mirror and Gas Town Confusion
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Agents receiving conflicting instructions from two orchestration systems</div>
          <div class="gotcha-detail"><strong>Cause:</strong> CC Mirror uses TaskCreate/TaskUpdate. Gas Town uses inbox-based coordination. They cannot coexist.</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Choose ONE. CC Mirror for 80% of cases. Gas Town only for 10+ agent scenarios. Never mix them.</div>
        </div>
      </section>

      <!-- Section 7: WHAT'S HARD -->
      <section id="hard" data-activity="hard">
        <h2 class="section-title">
          <span class="section-number">7</span>
          What's Hard
        </h2>

        <p class="text-text-secondary mb-6">
          These are fundamental tensions in pattern combination, not bugs to fix:
        </p>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            The Composition Paradox
          </div>
          <div class="hard-detail"><strong>The tension:</strong> More patterns = more capability, but also more failure modes. Every combination adds interaction effects you can't predict from individual patterns.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> System works in testing, fails in production. Subtle bugs that only appear under specific pattern interaction conditions.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Add patterns incrementally. Master each combination before adding another. Keep logs of interaction effects. Accept that some compositions will surprise you.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            ROI Calculation Difficulty
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Setup cost is measurable. Ongoing benefit is not. You can't know if a combination is "worth it" until you've invested the setup time.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Spending 4 hours setting up a combination that saves 30 minutes per week. Or avoiding a 2-hour setup that would save 10 hours per week.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Trust community ROI ratings for initial guidance. Start with high-ROI combinations (5/5). Track your own time savings after setup. Adjust strategy based on personal data.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Orchestration Collision
          </div>
          <div class="hard-detail"><strong>The tension:</strong> CC Mirror and Gas Town are both orchestration systems. Both want to be "the conductor." Having two conductors in an orchestra creates cacophony.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Tasks assigned twice. Agents confused about who to report to. State synchronization failures.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Never use both. CC Mirror for 80% of multi-agent needs. Gas Town only for factory-scale (10+ agents) at Stage 7+. If transitioning, fully remove one before implementing the other.</div>
        </div>
      </section>

      <!-- Section 8: WHEN TO COMBINE -->
      <section id="when" data-activity="when">
        <h2 class="section-title">
          <span class="section-number">8</span>
          When to Combine / When Not
        </h2>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              COMBINE PATTERNS WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You've mastered both patterns individually first</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>The matrix shows "Documented" or "Synergistic"</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>ROI is 4/5 or 5/5 for your stage</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Patterns address different concerns (e.g., iteration + observability)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You have time to debug interaction effects</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              DON'T COMBINE WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Matrix shows "Anti-pattern" (CC Mirror + Gas Town)</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Both patterns manage same resource (state, context, task queue)</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>You haven't mastered either pattern individually</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Setup cost exceeds expected benefit for your timeline</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>You're at Stage 1-3 and eyeing Stage 7+ combinations</span>
            </div>
          </div>
        </div>

        <!-- Recommended First Combinations by Stage -->
        <h3 class="font-semibold text-lg mb-4 mt-8">Recommended First Combinations by Stage</h3>

        <div class="combo-card">
          <div class="combo-header">
            <div class="combo-title">Beginners (Stage 1-3)</div>
          </div>
          <ul class="text-text-secondary text-sm space-y-2">
            <li><strong>Hooks + HUD Plugin:</strong> Install claude-hud for visibility. Add PreToolUse hook for notifications. Zero code required.</li>
            <li><strong>Subagents Only:</strong> Use Task tool for parallel work. Let Claude manage spawning. Simplest multi-agent entry point.</li>
          </ul>
        </div>

        <div class="combo-card">
          <div class="combo-header">
            <div class="combo-title">Intermediate (Stage 4-5)</div>
          </div>
          <ul class="text-text-secondary text-sm space-y-2">
            <li><strong>Ralph + Hooks:</strong> Run overnight feature loops. Get notified when done. Setup time: 30 minutes.</li>
            <li><strong>Subagents + Worktrees:</strong> Parallel feature development. No merge conflicts. Setup time: 1 hour.</li>
            <li><strong>CC Mirror + Hooks:</strong> Native orchestration unlocked. Observable agent activity. Setup time: 15 minutes.</li>
          </ul>
        </div>

        <div class="combo-card">
          <div class="combo-header">
            <div class="combo-title">Advanced (Stage 6-7)</div>
          </div>
          <ul class="text-text-secondary text-sm space-y-2">
            <li><strong>Ralph + Worktrees + Hooks:</strong> Multiple parallel Ralph loops. Push notifications per loop. Setup time: 2 hours.</li>
            <li><strong>CC Mirror + Subagents + Worktrees:</strong> Full orchestration with isolation. Production-grade parallel work. Setup time: 2-3 hours.</li>
            <li><strong>Claude-Mem + Any Pattern:</strong> Persistent project memory. Reduces context re-explanation. Setup time: 30 minutes.</li>
          </ul>
        </div>
      </section>

    