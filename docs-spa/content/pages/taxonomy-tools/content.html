<!--
═══════════════════════════════════════════════════════════════════════════════
INLINE THREADING HEADER — Phase 2B
File: docs-spa/content/pages/taxonomy-tools/content.html
Tier: C | Batch: 13 | Generated: 2026-02-06

1. WHY THIS EXISTS
Rendered HTML content page for the taxonomy-tools synthesis document.

3. STATUS
ACTIVE

5. BUILT ON
Extracted from synthesis/taxonomy-tools.md by content extraction scripts.

8. CONSUMED BY
docs-spa/app/(docs)/synthesis/taxonomy-tools/page.tsx renders this content via dangerouslySetInnerHTML.

═══════════════════════════════════════════════════════════════════════════════
END INLINE THREADING HEADER
═══════════════════════════════════════════════════════════════════════════════
-->

      <!-- Section 1: ESSENCE -->
      <section id="essence" data-activity="essence">
        <div class="essence-box">
          <div class="essence-label">Essence (15 words)</div>
          <div class="essence-text">Hooks, MCP, plugins, skills, and sub-agents extend Claude Code through layered integration patterns.</div>
        </div>
      </section>

      <!-- Section 2: CORE ABSTRACTION + IMPLEMENTATION -->
      <section id="core-abstraction" data-activity="core">
        <h2 class="section-title">
          <span class="section-number">2</span>
          The Core Abstraction
        </h2>

        <div class="core-abstraction">
          <div class="core-philosophy">"Claude Code is the host. Everything else plugs in through standardized interfaces."</div>

          <div class="core-code">
            <button class="copy-btn" onclick="copyCode(this, 'Hooks (shell) + MCP (protocol) + Skills (markdown) + Plugins (bundles)')">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <code>Hooks (shell) + MCP (protocol) + Skills (markdown) + Plugins (bundles)</code>
          </div>

          <div class="core-anchor">Five extension points. Same host. Different abstraction levels.</div>
        </div>

        <p class="text-text-secondary mb-6">
          Claude Code exposes five distinct integration points, each at a different abstraction level. Hooks are shell commands triggered by lifecycle events. MCP is a protocol for external tools. Skills are markdown instructions. Plugins bundle multiple integration types. Sub-agents are isolated Claude instances.
        </p>

        <p class="text-text-secondary mb-6">
          The key insight: each extension type solves a different problem. Hooks are for automation (auto-format on save). MCP is for data access (connect to databases). Skills are for workflows (complex procedures). Plugins are for distribution (share your stack). Sub-agents are for parallelism (spawn workers).
        </p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Extension hierarchy (low to high abstraction)</span>

<span class="variable">HOOKS</span>        <span class="comment"># Shell commands on lifecycle events</span>
    ↓
<span class="variable">MCP</span>          <span class="comment"># JSON-RPC protocol for tools/resources</span>
    ↓
<span class="variable">SKILLS</span>       <span class="comment"># Markdown instruction sets</span>
    ↓
<span class="variable">SUB-AGENTS</span>   <span class="comment"># Isolated Claude instances</span>
    ↓
<span class="variable">PLUGINS</span>      <span class="comment"># Bundles of hooks + MCP + skills + commands</span></pre>
        </div>
      </section>

      <!-- Section 3: DESIGN DECISIONS -->
      <section id="why-hooks" data-activity="decisions">
        <h2 class="section-title">
          <span class="section-number">3</span>
          Design Decisions
        </h2>

        <div class="decision-box">
          <div class="decision-why">WHY HOOKS?</div>
          <div class="decision-reasoning">
            Hooks are shell commands, not AI prompts. They execute on lifecycle events (PreToolUse, PostToolUse, SessionStart, SessionEnd, Stop). This is automation at the lowest level - no LLM reasoning, just deterministic execution.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Use hooks for tasks that should ALWAYS happen: auto-formatting, security gates, notifications, audit logging. If you want Claude to reason about whether to do something, that's not a hook.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-mcp">
          <div class="decision-why">WHY MCP (MODEL CONTEXT PROTOCOL)?</div>
          <div class="decision-reasoning">
            MCP is "USB-C for AI" - a standardized protocol for connecting Claude to external data and tools. Instead of building custom integrations, MCP provides a single interface that works across different AI systems.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              When you need to access external data (databases, APIs, file systems), look for an MCP server first. The ecosystem has hundreds of pre-built servers. Only build custom if no server exists for your use case.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-skills">
          <div class="decision-why">WHY SKILLS?</div>
          <div class="decision-reasoning">
            Skills are markdown files that extend Claude's capabilities through instructions, not code. They load into context when relevant, teaching Claude new workflows without requiring API changes.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Write skills when you have a complex workflow Claude should follow. Skills are recipes. If you find yourself repeating the same multi-step instructions, that's a skill waiting to be extracted.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 4: TOOL CATEGORIES -->
      <section id="hooks-system" data-activity="categories">
        <h2 class="section-title">
          <span class="section-number">4</span>
          Tool Categories
        </h2>

        <h3 class="font-semibold text-lg mb-4">Hooks System</h3>

        <p class="text-text-secondary mb-4">
          Hooks are event-driven shell commands that execute automatically on Claude Code lifecycle events.
        </p>

        <table class="data-table">
          <thead>
            <tr>
              <th>Hook Event</th>
              <th>Trigger Point</th>
              <th>Common Use Cases</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>PreToolUse</code></td>
              <td>Before any tool runs</td>
              <td>Validation, security gates, approval flows</td>
            </tr>
            <tr>
              <td><code>PostToolUse</code></td>
              <td>After any tool completes</td>
              <td>Auto-formatting, linting, notifications</td>
            </tr>
            <tr>
              <td><code>SessionStart</code></td>
              <td>When session begins</td>
              <td>Context loading, environment setup</td>
            </tr>
            <tr>
              <td><code>SessionEnd</code></td>
              <td>When session ends</td>
              <td>Cleanup, summary generation</td>
            </tr>
            <tr>
              <td><code>Stop</code></td>
              <td>Exit/completion attempts</td>
              <td>Ralph loop continuation, cleanup</td>
            </tr>
          </tbody>
        </table>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment">// ~/.claude/settings.json</span>
{
  <span class="string">"hooks"</span>: {
    <span class="string">"PreToolUse"</span>: [{
      <span class="string">"matcher"</span>: <span class="string">"Bash"</span>,
      <span class="string">"hooks"</span>: [{
        <span class="string">"type"</span>: <span class="string">"command"</span>,
        <span class="string">"command"</span>: <span class="string">"~/.claude/hooks/security-gate.sh"</span>
      }]
    }],
    <span class="string">"PostToolUse"</span>: [{
      <span class="string">"matcher"</span>: <span class="string">"Edit"</span>,
      <span class="string">"command"</span>: <span class="string">"prettier --write $FILE"</span>
    }]
  }
}</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="mcp-servers">MCP Servers</h3>

        <p class="text-text-secondary mb-4">
          MCP (Model Context Protocol) is an open protocol enabling Claude to connect to external data sources and tools via JSON-RPC 2.0.
        </p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment">// MCP Architecture</span>
+--------------------------------------------------+
|            MCP Host (Claude Code)                 |
+-------------------+------------------------------+
                    |
         +----------+----------+
         |          |          |
     +---v--+   +---v--+  +---v--+
     |Client|   |Client|  |Client|
     +---+--+   +---+--+  +---+--+
         |          |          |
    +----v---+ +----v---+ +----v---+
    |Server A| |Server B| |Server C|
    |(STDIO) | |(STDIO) | |(HTTP)  |
    +--------+ +--------+ +--------+</pre>
        </div>

        <table class="data-table">
          <thead>
            <tr>
              <th>Server</th>
              <th>Package</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Filesystem</td>
              <td><code>@modelcontextprotocol/server-filesystem</code></td>
              <td>Secure file operations</td>
            </tr>
            <tr>
              <td>GitHub</td>
              <td><code>@modelcontextprotocol/server-github</code></td>
              <td>GitHub API integration</td>
            </tr>
            <tr>
              <td>Memory</td>
              <td><code>@modelcontextprotocol/server-memory</code></td>
              <td>Knowledge graph persistence</td>
            </tr>
            <tr>
              <td>Sequential Thinking</td>
              <td><code>@modelcontextprotocol/server-sequential-thinking</code></td>
              <td>Reflective problem-solving</td>
            </tr>
          </tbody>
        </table>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="plugins">Plugins</h3>

        <p class="text-text-secondary mb-4">
          Plugins are full packages combining code, hooks, commands, skills, and MCP integrations.
        </p>

        <div class="tool-card">
          <div class="tool-card-header">
            <div class="tool-card-title">code-review</div>
            <div class="tool-card-badge">Official</div>
          </div>
          <p class="text-text-secondary text-sm mb-2">5 parallel Sonnet agents for comprehensive code review.</p>
          <p class="text-text-muted text-xs">Command: <code>/code-review</code></p>
        </div>

        <div class="tool-card">
          <div class="tool-card-header">
            <div class="tool-card-title">ralph-wiggum</div>
            <div class="tool-card-badge">Official</div>
          </div>
          <p class="text-text-secondary text-sm mb-2">Self-perpetuating autonomous loops with Stop hook.</p>
          <p class="text-text-muted text-xs">Commands: <code>/ralph-loop</code>, <code>/cancel-ralph</code></p>
        </div>

        <div class="tool-card">
          <div class="tool-card-header">
            <div class="tool-card-title">Claude HUD</div>
            <div class="tool-card-badge">Community</div>
          </div>
          <p class="text-text-secondary text-sm mb-2">Context remaining, tools executing, subagents running, todo progress.</p>
          <p class="text-text-muted text-xs">Author: @jarrodwatts</p>
        </div>

        <div class="tool-card">
          <div class="tool-card-header">
            <div class="tool-card-title">Claude-Mem</div>
            <div class="tool-card-badge">Community</div>
          </div>
          <p class="text-text-secondary text-sm mb-2">Persistent memory with semantic compression. Up to 95% fewer tokens.</p>
          <p class="text-text-muted text-xs">Author: @thedotmack</p>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="skills">Skills System</h3>

        <p class="text-text-secondary mb-4">
          Skills are Markdown files that extend Claude Code's capabilities as recipes, templates, or instruction sets.
        </p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Skill locations</span>
.claude/skills/              <span class="comment"># Project-specific</span>
~/.claude/skills/            <span class="comment"># Global</span>

<span class="comment"># Skill structure</span>
<span class="keyword"># Skill Name</span>

<span class="keyword">## Purpose</span>
One-liner description

<span class="keyword">## Mental Model</span>
Metaphor/framework for understanding

<span class="keyword">## Instructions</span>
Detailed guidance

<span class="keyword">## Rules/Constraints</span>
What to do and not do</pre>
        </div>

        <table class="data-table">
          <thead>
            <tr>
              <th>Aspect</th>
              <th>Skills</th>
              <th>Sub-Agents</th>
              <th>Hooks</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>What</td>
              <td>Instruction sets</td>
              <td>Mini-Claudes</td>
              <td>Shell commands</td>
            </tr>
            <tr>
              <td>Context</td>
              <td>Main conversation</td>
              <td>Isolated window</td>
              <td>N/A</td>
            </tr>
            <tr>
              <td>Trigger</td>
              <td>Query relevance/manual</td>
              <td>Task tool</td>
              <td>Lifecycle events</td>
            </tr>
            <tr>
              <td>Best For</td>
              <td>Complex workflows</td>
              <td>Multi-step reasoning</td>
              <td>Automation</td>
            </tr>
          </tbody>
        </table>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="sub-agents">Sub-Agents</h3>

        <p class="text-text-secondary mb-4">
          Sub-agents are specialized mini-Claudes with isolated context windows for focused tasks.
        </p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># .claude/agents/react-specialist.yaml</span>
<span class="variable">name</span>: react-specialist
<span class="variable">description</span>: React component implementation
<span class="variable">model</span>: sonnet
<span class="variable">context</span>: fork

<span class="comment"># Model Selection Guidelines</span>
<span class="keyword">Haiku</span>   <span class="comment"># Errand runner: fetch files, grep, simple lookups</span>
<span class="keyword">Sonnet</span>  <span class="comment"># Capable worker: implementation, test generation</span>
<span class="keyword">Opus</span>    <span class="comment"># Complex reasoning: architecture decisions, ambiguous tasks</span></pre>
        </div>
      </section>

      <!-- Section 5: PATH OF A TOOL -->
      <section id="path" data-activity="path">
        <h2 class="section-title">
          <span class="section-number">5</span>
          The Path of a Tool
        </h2>

        <p class="text-text-secondary mb-6">
          Follow a hook through the system to see how the pieces connect:
        </p>

        <div class="path-container">
          <div class="path-step">
            <div class="path-number">1</div>
            <div class="path-content">You configure a hook in <code>~/.claude/settings.json</code> with a matcher and command</div>
          </div>
          <div class="path-step">
            <div class="path-number">2</div>
            <div class="path-content">Claude Code starts a session, loads hook configuration</div>
          </div>
          <div class="path-step">
            <div class="path-number">3</div>
            <div class="path-content">Claude decides to use a tool (e.g., Edit a file)</div>
          </div>
          <div class="path-step">
            <div class="path-number">4</div>
            <div class="path-content">Before execution: <code>PreToolUse</code> hooks matching "Edit" run</div>
          </div>
          <div class="path-step">
            <div class="path-number">5</div>
            <div class="path-content">Hook receives <code>$EVENT_DATA</code> JSON blob with tool input</div>
          </div>
          <div class="path-step">
            <div class="path-number">6</div>
            <div class="path-content">Hook script executes, can inspect/validate/block</div>
          </div>
          <div class="path-step">
            <div class="path-number">7</div>
            <div class="path-content">If hook exits 0: tool proceeds. If non-zero: tool blocked</div>
          </div>
          <div class="path-step">
            <div class="path-number">8</div>
            <div class="path-content">Tool executes (Edit writes to file)</div>
          </div>
          <div class="path-step">
            <div class="path-number">9</div>
            <div class="path-content">After execution: <code>PostToolUse</code> hooks matching "Edit" run</div>
          </div>
          <div class="path-step">
            <div class="path-number">10</div>
            <div class="path-content">PostToolUse hook receives <code>$FILE</code> env var with edited path</div>
          </div>
          <div class="path-step">
            <div class="path-number">11</div>
            <div class="path-content">Hook runs auto-formatter: <code>prettier --write $FILE</code></div>
          </div>
          <div class="path-step">
            <div class="path-number">12</div>
            <div class="path-content">Claude continues with formatted file in context</div>
          </div>
        </div>
      </section>

      <!-- Section 6: GOTCHAS -->
      <section id="gotchas" data-activity="gotchas">
        <h2 class="section-title">
          <span class="section-number">6</span>
          Gotchas
        </h2>

        <p class="text-text-secondary mb-6">
          Real problems you'll hit, with concrete numbers and fixes:
        </p>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Hook not triggering
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Your hook command doesn't execute when expected</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Incorrect matcher name (case-sensitive!), wrong file path, or missing execute permissions</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Valid matchers: Bash, Read, Write, Edit, Glob, Grep, AskUserQuestion, Task, WebFetch, WebSearch. Run <code>chmod +x</code> on your script.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            MCP server connection failed
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> <code>Error: Failed to connect to MCP server</code></div>
          <div class="gotcha-detail"><strong>Cause:</strong> Server not installed, wrong command path, or missing environment variables</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Test server manually: <code>npx @modelcontextprotocol/inspector npx @modelcontextprotocol/server-name</code></div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Skill not auto-loading
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Skill doesn't trigger when you expect it to</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Skill file in wrong location, invalid frontmatter, or query doesn't match triggers</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Use explicit invocation: <code>"Load the X skill and initiate"</code> or <code>/skill skill-name</code></div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Sub-agent spawns but doesn't return
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Task tool hangs or agent doesn't complete</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Task too large, context exhaustion, or missing completion criteria</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Add explicit completion instructions: "Report your results with absolute file paths when done"</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Plugin installation fails
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> <code>/plugin install</code> returns error</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Marketplace not added, version incompatibility, or network issues</div>
          <div class="gotcha-detail"><strong>Fix:</strong> First run <code>/plugin marketplace add author/repo</code>, then <code>/plugin install plugin-name</code></div>
        </div>
      </section>

      <!-- Section 7: WHAT'S HARD -->
      <section id="hard" data-activity="hard">
        <h2 class="section-title">
          <span class="section-number">7</span>
          What's Hard
        </h2>

        <p class="text-text-secondary mb-6">
          These are fundamental tensions, not bugs to fix:
        </p>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Tool Selection Paralysis
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Five extension types exist. Which one is right? Hooks, MCP, skills, plugins, sub-agents all solve overlapping problems. No clear decision tree exists.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Building a hook when you needed a skill. Using MCP when a simple hook would suffice. Over-engineering with plugins for a one-off task.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Start with the simplest option. Hook &gt; Skill &gt; MCP &gt; Sub-agent &gt; Plugin. Only escalate when simpler options fail. Ask: "Is this automation (hook) or reasoning (skill)?"</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Context Budget Management
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Every extension consumes context. MCP tool descriptions, skill instructions, sub-agent prompts all compete for the same 200K window. More tools = less room for actual work.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Quality degrades as you add more MCP servers. Claude "forgets" project details after loading a large skill. Sub-agents return incomplete results.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Audit your MCP servers - disable unused ones. Keep skills focused (one purpose per skill). Use Haiku sub-agents for simple lookups to save Opus context for reasoning.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Debugging Invisible Layers
          </div>
          <div class="hard-detail"><strong>The tension:</strong> When something fails, which layer broke? Hook didn't fire? MCP server crashed? Skill instruction unclear? Sub-agent context exhausted? The integration stack is invisible.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> "It worked yesterday." Hours spent on the wrong layer. Shotgun debugging across hooks, MCP, and skills simultaneously.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Add logging to every hook. Use MCP Inspector for protocol debugging. Keep audit trails. When debugging, disable all extensions and re-enable one at a time.</div>
        </div>
      </section>

      <!-- Section 8: WHEN TO USE -->
      <section id="when" data-activity="when">
        <h2 class="section-title">
          <span class="section-number">8</span>
          When to Use / When Not
        </h2>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              USE HOOKS WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Task should ALWAYS happen (auto-format, lint)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>No reasoning required (deterministic)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Shell command can do the job</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Security gates that must not be bypassed</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              DON'T USE HOOKS WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Claude needs to reason about whether to do it</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Task varies based on context</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>You want conditional behavior</span>
            </div>
          </div>
        </div>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              USE MCP WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Accessing external data (databases, APIs)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>A server already exists for your use case</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You need structured tool responses</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Integration should work across AI systems</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              DON'T USE MCP WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>A simple hook would work</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>No server exists and building one is overkill</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>You need workflow orchestration (use skills)</span>
            </div>
          </div>
        </div>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              USE SKILLS WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Complex multi-step workflow</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Repeating the same instructions</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Claude needs domain-specific reasoning</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Workflow can be expressed in markdown</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              DON'T USE SKILLS WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Simple automation (use hooks)</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Need external data access (use MCP)</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Need parallel execution (use sub-agents)</span>
            </div>
          </div>
        </div>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              USE SUB-AGENTS WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Parallel execution needed</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Task should be isolated from main context</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Different model needed for task (Haiku for lookups)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Specialized prompt for focused reasoning</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              DON'T USE SUB-AGENTS WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Task is simple enough for main context</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Result needs to be in main conversation</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Spawn overhead dominates task time</span>
            </div>
          </div>
        </div>
      </section>

    