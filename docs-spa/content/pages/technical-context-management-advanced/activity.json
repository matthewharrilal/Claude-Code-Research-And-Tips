{
  "items": [
    {
      "id": "inv-1",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if context were infinite?",
      "content": "<strong>You'd design:</strong> Never reset, accumulate everything, no external state needed.<br>\n          <strong>Why this fails:</strong> Attention scales O(n^2). Infinite context = infinite cost + quality degradation.<br>\n          <strong>Hidden constraint:</strong> Context management IS the skill because context is finite."
    },
    {
      "id": "min-2",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible core",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">if context &gt; 60%: reset</code><br>\n          <strong>Essential:</strong> The threshold. Proactive reset.<br>\n          <strong>Everything else:</strong> Refinement for sustainability."
    },
    {
      "id": "war-3",
      "type": "warstory",
      "linkedSection": "essence",
      "title": "Shrivu Shankar: Billion-token scale",
      "content": "Team consuming several billion tokens per month at enterprise scale. 13KB CLAUDE.md leaves 90% context for work. Most users do the opposite."
    },
    {
      "id": "grad-4",
      "type": "gradient",
      "linkedSection": "core",
      "title": "How context quality degrades (invisibly)",
      "content": "<strong>100% → 95%</strong> (&lt;40%): Perfect, ideal range<br>\n          <strong>95% → 85%</strong> (40-60%): Still good, safe zone<br>\n          <strong>85% → 70%</strong> (60-80%): Subtle drift begins<br>\n          <strong>70% → CLIFF</strong> (&gt;80%): Instructions ignored, contradictions<br><br>\n          <em>Critical: The gradient is invisible until the cliff.</em>"
    },
    {
      "id": "ana-5",
      "type": "analogy",
      "linkedSection": "core",
      "title": "Context = RAM, not Disk",
      "content": "Context window = Working RAM<br>\n          Files = Persistent disk storage<br>\n          /clear = Reboot<br>\n          thoughts/ = Swap file that persists across reboots<br><br>\n          <em>If you've managed memory in systems, you understand context management.</em>"
    },
    {
      "id": "inv-6",
      "type": "invariant",
      "linkedSection": "core",
      "title": "INV-003: External state > internal memory",
      "content": "Context management, Ralph, Gas Town, and CC Mirror all share this invariant. The pattern that persists state in files rather than conversation memory.<br><br>\n          <em>If you understand this for context, you understand it for all orchestration.</em>"
    },
    {
      "id": "con-7",
      "type": "constraint",
      "linkedSection": "decisions",
      "title": "One constraint → five decisions",
      "content": "<strong>ROOT:</strong> Context finite (200K) → Quality degrades past 60%<br>\n          → Must monitor context percentage proactively<br>\n          → Must reset before symptoms, not after<br>\n          → Must externalize state for persistence<br>\n          → Must keep CLAUDE.md lean (&lt;10%)<br>\n          → Must treat fresh context as better than extended"
    },
    {
      "id": "vio-8",
      "type": "violation",
      "linkedSection": "decisions",
      "title": "If you use /compact for resets",
      "content": "<strong>IF:</strong> You use /compact instead of /clear + /catchup<br>\n          <strong>THEN:</strong> Lossy compression loses instructions<br>\n          <strong>THEN:</strong> Claude \"forgets\" project conventions<br>\n          <strong>THEN:</strong> You debug phantom issues<br>\n          <strong>FINALLY:</strong> Hours lost to unpredictable state<br><br>\n          <em>The fix: /clear for resets, /compact only for mid-session room.</em>"
    },
    {
      "id": "trade-9",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "The CLAUDE.md Size Dilemma",
      "content": "<strong>Very small (&lt;5KB):</strong> More work budget, but missing guidance<br>\n          <strong>Medium (5-15KB):</strong> Balanced, 90% context for work<br>\n          <strong>Large (&gt;20KB):</strong> Comprehensive, but 20%+ context consumed before work<br><br>\n          <em>Heuristic: If you include tool docs, only for tools used 30%+ of sessions.</em>"
    },
    {
      "id": "exp-10",
      "type": "expertise",
      "linkedSection": "decisions",
      "title": "60% Rule Understanding",
      "content": "<strong>Beginner:</strong> \"What's the 60% rule?\" → Don't exceed 60% context<br>\n          <strong>Intermediate:</strong> \"Why 60%?\" → Headroom for reasoning<br>\n          <strong>Advanced:</strong> \"When does it not apply?\" → Quick tasks, exploration<br>\n          <strong>Staff:</strong> \"How do I monitor?\" → /context, character estimation<br>\n          <strong>Expert:</strong> \"What's the real threshold?\" → Varies by task complexity"
    },
    {
      "id": "comp-11",
      "type": "composition",
      "linkedSection": "architecture",
      "title": "thoughts/ + CLAUDE.md",
      "content": "<strong>Works:</strong> CLAUDE.md for permanent conventions, thoughts/ for session state.<br>\n          <strong>Danger:</strong> Don't duplicate. Permanent learnings go to CLAUDE.md, not thoughts/.<br>\n          <strong>Recommendation:</strong> Promote thoughts/ entries to CLAUDE.md monthly."
    },
    {
      "id": "hor-12",
      "type": "horizon",
      "linkedSection": "architecture",
      "title": "How thoughts/ perception evolves",
      "content": "<strong>Day 1:</strong> \"This is overhead, I'll just remember\"<br>\n          <strong>Day 3:</strong> \"Where was I? What did I decide?\"<br>\n          <strong>Day 7:</strong> \"thoughts/ saved me 2 hours today\"<br>\n          <strong>Day 30:</strong> \"This is how I work now\"<br><br>\n          <em>Don't judge by day 1. Judge by day 7.</em>"
    },
    {
      "id": "war-13",
      "type": "warstory",
      "linkedSection": "architecture",
      "title": "Ashley Ha: thoughts/ directory origin",
      "content": "ML background, systematic methodology. Created the thoughts/ pattern for complex projects. \"Claude's working memory is the conversation. Long-term memory must be files.\""
    },
    {
      "id": "eff-14",
      "type": "effect",
      "linkedSection": "architecture",
      "title": "At 50+ sessions, thoughts/ becomes institutional memory",
      "content": "What started as session state becomes project documentation. Decisions recorded, rationale preserved, onboarding accelerated for new team members reading thoughts/decisions/.<br><br>\n          <em>Emergent property: individual hygiene → team knowledge base.</em>"
    },
    {
      "id": "vio-15",
      "type": "violation",
      "linkedSection": "path",
      "title": "If you skip externalization at Step 8",
      "content": "<strong>IF:</strong> You /clear without externalizing state<br>\n          <strong>THEN:</strong> Critical context lost<br>\n          <strong>THEN:</strong> Next session starts from scratch<br>\n          <strong>THEN:</strong> You redo work already done<br>\n          <strong>FINALLY:</strong> Multi-day features take weeks<br><br>\n          <em>The fix: Every /clear preceded by thoughts/ update.</em>"
    },
    {
      "id": "inf-16",
      "type": "inflection",
      "linkedSection": "path",
      "title": "When debugging context exceeds implementation context",
      "content": "<strong>0-3 debug cycles:</strong> Normal iteration<br>\n          <strong>3-5 debug cycles:</strong> Context filling fast<br>\n          <strong>5-7 debug cycles:</strong> Approaching threshold<br>\n          <strong>7+ debug cycles:</strong> Reset now, you're debugging context rot<br><br>\n          <strong>THE INFLECTION:</strong> ~5 debug cycles<br>\n          <em>Detection: If fixes make things worse, it's context, not code.</em>"
    },
    {
      "id": "ana-17",
      "type": "analogy",
      "linkedSection": "path",
      "title": "Session lifecycle = Database transaction",
      "content": "Session start = BEGIN TRANSACTION<br>\n          Work = Operations<br>\n          thoughts/ update = Checkpoint<br>\n          /clear = COMMIT + new transaction<br>\n          No thoughts/ update = ROLLBACK risk<br><br>\n          <em>If you understand transactions, you understand session lifecycle.</em>"
    },
    {
      "id": "inv-18",
      "type": "inversion",
      "linkedSection": "gotchas",
      "title": "What if CLAUDE.md were unlimited?",
      "content": "<strong>You'd include:</strong> Every convention, every tool doc, every edge case.<br>\n          <strong>Why this fails:</strong> 50KB CLAUDE.md = 25% context consumed before work starts.<br>\n          <strong>Hidden constraint:</strong> CLAUDE.md size discipline IS context management."
    },
    {
      "id": "fron-19",
      "type": "frontier",
      "linkedSection": "gotchas",
      "title": "UNSOLVED: Optimal context monitoring UX",
      "content": "How should context percentage be surfaced? Always visible? Warning at threshold? Auto-suggest reset?<br><br>\n          <strong>Current state:</strong> Manual /context check. No automation.<br>\n          <strong>Open question:</strong> Would proactive warnings help or annoy?"
    },
    {
      "id": "exp-20",
      "type": "expertise",
      "linkedSection": "gotchas",
      "title": "Diagnosing \"quality degraded but <60%\"",
      "content": "<strong>Beginner:</strong> \"Bug in Claude?\" → No, check context.<br>\n          <strong>Intermediate:</strong> \"Measurement wrong?\" → Maybe, check turn count.<br>\n          <strong>Advanced:</strong> \"Recent compaction?\" → Verify critical context remains.<br>\n          <strong>Staff:</strong> \"Instruction drift?\" → Re-read CLAUDE.md explicitly.<br>\n          <strong>Expert:</strong> \"Just reset\" → Fresh session is fastest fix."
    },
    {
      "id": "grad-21",
      "type": "gradient",
      "linkedSection": "gotchas",
      "title": "How \"lost track of state\" cascades",
      "content": "<strong>Mild:</strong> \"Wait, what file was I editing?\" → 5 min recovery<br>\n          <strong>Moderate:</strong> \"What's the current approach?\" → 15 min git log review<br>\n          <strong>Severe:</strong> \"What was the goal?\" → Re-read thoughts/, 30 min<br>\n          <strong>Critical:</strong> \"Where's my work?\" → No external state, start over<br><br>\n          <em>Prevention cost: 2 min thoughts/ update. Recovery cost: 5 min to start over.</em>"
    },
    {
      "id": "trade-22",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "Fresh Context vs. Accumulated Learnings",
      "content": "<strong>THE DILEMMA:</strong><br>\n          <strong>Fresh context:</strong> Peak quality, but loses learnings<br>\n          <strong>Extended context:</strong> Preserves learnings, but quality degrades<br>\n          <strong>External state:</strong> Bridges both, but requires discipline<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> External state is lossy - you choose what to write.<br>\n          <em>Bias toward fresh. Accept some re-learning as the cost.</em>"
    },
    {
      "id": "hor-23",
      "type": "horizon",
      "linkedSection": "hard",
      "title": "External state discipline perception",
      "content": "<strong>Session 1:</strong> \"This is overhead, I'll just remember\"<br>\n          <strong>Session 3:</strong> \"I lost 30 minutes to missing state\"<br>\n          <strong>Session 10:</strong> \"External state saves time\"<br>\n          <strong>Session 30:</strong> \"How did I ever work without this?\"<br><br>\n          <em>The discipline investment pays back by session 10.</em>"
    },
    {
      "id": "war-24",
      "type": "warstory",
      "linkedSection": "hard",
      "title": "Matt Pocock: Context rot symptoms",
      "content": "Prolific practitioner, detailed explanations. Documented context rot: \"Claude starts repeating earlier statements, ignoring instructions, making contradictions. If iteration 20 is worse than iteration 5, your context is rotting.\""
    },
    {
      "id": "con-25",
      "type": "constraint",
      "linkedSection": "hard",
      "title": "Debug sessions → context explosion",
      "content": "<strong>ROOT:</strong> Debugging produces verbose output<br>\n          → Stack traces consume tokens<br>\n          → Failed attempts accumulate<br>\n          → Context fills faster than implementation<br>\n          → Quality degrades mid-debug<br>\n          → Debugging context rot looks like code bugs"
    },
    {
      "id": "alt-26",
      "type": "alternative",
      "linkedSection": "when",
      "title": "If full context management isn't right",
      "content": "<strong>Quick one-off tasks?</strong> → Just work, don't manage<br>\n          <strong>Learning/exploring?</strong> → Accept lower efficiency<br>\n          <strong>Chat-style interaction?</strong> → Quality degradation less critical<br>\n          <strong>Small codebase?</strong> → Won't hit 60% anyway"
    },
    {
      "id": "inv-27",
      "type": "inversion",
      "linkedSection": "when",
      "title": "What if you applied this to everything?",
      "content": "<strong>You'd do:</strong> Monitor context, externalize state, reset at 60% for every interaction.<br>\n          <strong>Why this fails:</strong> Overhead exceeds benefit for quick tasks.<br>\n          <strong>Hidden insight:</strong> Context management scales with session length."
    },
    {
      "id": "comp-28",
      "type": "composition",
      "linkedSection": "when",
      "title": "Context Management + Ralph",
      "content": "<strong>Works:</strong> Ralph's fresh-context-per-iteration IS context management.<br>\n          <strong>Benefit:</strong> Ralph automates the reset cycle.<br>\n          <strong>Key insight:</strong> Ralph is context management as architecture."
    },
    {
      "id": "eff-29",
      "type": "effect",
      "linkedSection": "when",
      "title": "At team scale, context discipline compounds",
      "content": "Individual context management → Shared CLAUDE.md conventions → Consistent team experience → Lower debugging time → Higher velocity.<br><br>\n          <em>Emergent property: individual discipline → team productivity multiplier.</em>"
    },
    {
      "id": "min-30",
      "type": "minimal",
      "linkedSection": "when",
      "title": "Minimum viable context management",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">/context</code> before heavy work<br>\n          <code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">/clear + /catchup</code> when &gt;60%<br><br>\n          <strong>That's it.</strong> Everything else is refinement."
    }
  ]
}