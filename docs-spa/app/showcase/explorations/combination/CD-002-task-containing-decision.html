<!-- ===============================================================================
INLINE THREADING HEADER -- CD Phase
File: explorations/combination/CD-002-task-containing-decision.html
Tier: A | Generated: 2026-02-11

1. WHY THIS EXISTS
Combination exploration testing whether PULSE density + TASK-BASED organization +
Z-PATTERN/SPIRAL compound axis can embed a Decision Matrix within a task workflow
without violating N1 (stack don't nest). Models a "Decision Guide" page where the
reader chooses CI/CD tools then acts on the choice.

2. QUESTION IT ANSWERS
Can a Decision Matrix live INSIDE a task-based flow as a natural PULSE sparse phase
(pause for thought) rather than a nested foreign element? Does BREATHING transition
(48px+) successfully bridge Z-Pattern task sections to Spiral confidence strata?

3. STATUS
v1 built

4. BUILT ON
| Dependency | Relationship |
|------------|-------------|
| AD-001-z-pattern.html | Z-Pattern axis reference (locked-layer source) |
| AD-004-spiral.html | Spiral axis reference (geological strata) |
| OD-003-task-based.html | Task-based OD reference |
| CD-CONVENTION-SPEC.md | Convention rules for CD CSS |
| research-package-cd-002.md | Pre-compiled research (R-5, R-4, AD-F, DD-F) |
| R5-COMBINATION-THEORY.md | Primary combination research (39 findings) |

5. MUST HONOR
Soul Pieces #1-#5: border-radius: 0, box-shadow: none, no drop-shadow,
Instrument Serif italic for Essence/Core ONLY, callout DNA. ANTI-PHYSICAL identity.

6. CONSUMED BY
| Consumer | How Used |
|----------|----------|
| CD-outbound-findings.md | CD-F-005 through CD-F-008 |
| CD-SYNTHESIS.md | Cross-exploration synthesis |
| CD-BUILD-STATE.md | Build tracking |

7. KEY FINDINGS PRODUCED
CD-F-005 (Decision-as-PULSE-pause), CD-F-006 (Breathing transition validated),
CD-F-007 (Task-Decision stacking via N1), CD-F-008 (Spiral confidence in task context)

     CD-002: Task Containing Decision -- v1 built
     Combination Exploration -- Decision Guide Layout

     SCORE: PENDING AUDIT

     Hypothesis: "Can a Decision Matrix embed within a task-based workflow as
     a natural PULSE sparse phase, using BREATHING transition to bridge
     Z-Pattern task clusters to Spiral confidence strata?"

     Identity: Decision Matrix IS a PULSE pause (CD-F-005)
     DD: PULSE (alternating dense/sparse)
     OD: TASK-BASED (discrete tasks with completion states)
     AD: Z-PATTERN + SPIRAL (compound, sequential via AD-F-024)
     Transition: Z-to-Spiral = BREATHING (48px+ gap, AD-F-025)
     Research: R5 (39 findings), R4 (referenced via AD), AD-F (28 findings)

     Applied Research (v1):
       R5-N1 (Stack don't nest) -- Decision Matrix stacks AFTER task context
       R5-A3 (Decision Paralysis) -- One matrix, one Reasoning with recommendation
       R5-H2 (Contrast Creates Harmony) -- Task + Decision Matrix as natural partners
       R5-H4 (Editorial Spread) -- Decision Matrix + Task = magazine spread
       R5-T2 (Velocity Mismatch) -- FAST buffer between SLOW components
       R5-N2 (Composite Pre-Composed) -- Task is not container for Decision Matrix
       R5-R1 (Kinship Model) -- Decision Matrix and Reasoning are analytical siblings
       R5-S1 (Setup-Payoff Arc) -- Info -> Task -> Decision -> Reasoning -> Task
       R5-S3 (First Component Rule) -- Starts with Info Callout for orientation
       R5-Recipe-3 (Decision Guide) -- Info -> Decision Matrix -> Reasoning -> Task

     AD-F Applied:
       AD-F-024 (Sequential not simultaneous) -- Z-section then Spiral section
       AD-F-025 (Transition grammar) -- Z-to-Spiral = BREATHING (48px+ gap)
       AD-F-023 (ATTENTION TOPOLOGY) -- governs component combination attention flow
       AD-F-004 (3-way unification) -- axis=org=density identity maintained
       AD-F-027 (5-scale fractal) -- verified at page/section/component/element/character

     DD-F Applied:
       DD-F-001 (PULSE rhythm) -- alternating dense/sparse visible throughout
       DD-F-006 (FRACTAL at 5 scales) -- page, section, component, element, character
       DD-F-014 (Max 2 callouts per viewport) -- enforced in all sections

     OD-F Applied:
       OD-F-005 (Organization IS Density) -- MANDATORY, task structure generates PULSE

     Anti-Patterns Avoided:
       A3 Decision Paralysis -- one matrix, one clear recommendation
       A1 Callout Cacophony -- max 2 per viewport, interleaved with task items
       A5 Temperature Whiplash -- neutral buffers between warm/cold
       A6 Missing Context Start -- Info Callout before first task cluster
       A7 Anxiety Ending -- Gotcha followed by Tip resolution
       N1 Stack Don't Nest -- Decision Matrix stacks after, never inside task items
       2px Border Epidemic -- ZERO 2px borders (only 1px, 3px, 4px)
       Semi-Transparent Backgrounds -- opacity === 1.0 everywhere
=============================================================================== -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CD-002: Task Containing Decision</title>

  <!-- Google Fonts: Instrument Serif, Inter, JetBrains Mono -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <!-- =========================================================================
       LOCKED LAYER -- DO NOT MODIFY
       All values from DESIGN-SYSTEM/tokens/ (colors.md, typography.md,
       spacing.md, geometry.md). Programmatic diff verification against
       CD-CONVENTION-SPEC.md Sections 10-11.
       ========================================================================= -->
  <style id="locked-layer">
    /* DO NOT MODIFY -- programmatic diff verification */

    /* =========================================================================
       :root -- ALL tokens from DESIGN-SYSTEM/tokens/ files
       ========================================================================= */
    :root {
      /* Colors -- LOCKED */
      --color-primary: #E83025;
      --color-background: #FEF9F5;
      --color-text: #1A1A1A;
      --color-text-secondary: #666666;
      --color-border: #E0D5C5;
      --color-border-subtle: #F0EBE3;

      /* Zone backgrounds (PULSE / WAVE differentiation) */
      --color-zone-sparse: #FEF9F5;   /* sparse zones */
      --color-zone-dense: #FFFFFF;    /* dense zones */
      --color-zone-breathing: #FAF5ED;/* chapter dividers, mode transitions */

      /* Typography -- LOCKED */
      --font-display: 'Instrument Serif', Georgia, serif;
      --font-body: 'Inter', system-ui, sans-serif;
      --font-mono: 'JetBrains Mono', 'SF Mono', monospace;

      /* Type Scale -- 5-level cascade (~1.5x ratio) */
      --type-page: 2.5rem;         /* 40px */
      --type-section: 1.625rem;    /* 26px */
      --type-subsection: 1.375rem; /* 22px */
      --type-body: 1rem;           /* 16px */
      --type-code: 0.875rem;       /* 14px */
      --type-meta: 0.75rem;        /* 12px */

      /* Geometry -- LOCKED */
      --border-radius: 0;
      --box-shadow: none;

      /* Spacing Scale */
      --space-1: 4px;
      --space-2: 8px;
      --space-3: 12px;
      --space-4: 16px;
      --space-5: 20px;
      --space-6: 24px;
      --space-8: 32px;
      --space-10: 40px;
      --space-12: 48px;
      --space-16: 64px;
      --space-20: 80px;

      /* Gestalt Semantic Aliases */
      --space-within: var(--space-2);    /* 8px */
      --space-between: var(--space-8);   /* 32px */
      --space-chapter: var(--space-16);  /* 64px */

      /* Callout Accents -- LOCKED */
      --accent-blue: #4A90D9;
      --accent-green: #4A9D6B;
      --accent-coral: #C97065;
      --accent-amber: #D97706;
      --accent-purple: #7C3AED;

      /* Standardized Border */
      --border-left-width: 4px;

      /* Solid Offset (EXT-CREATIVE-001) */
      --offset-x: 4px;
      --offset-y: 4px;
      --offset-color: #1A1A1A;

      /* Syntax Highlighting (dark background) -- LOCKED */
      --syntax-keyword: #E83025;
      --syntax-string: #6B9B7A;
      --syntax-comment: #666666;
      --syntax-function: #4A7C9B;
      --syntax-type: #C97065;
      --syntax-number: #D97706;
      --syntax-punctuation: #E0D5C5;

      /* Transition timing */
      --transition-standard: 0.3s ease;
    }

    /* =========================================================================
       Reset and Soul Enforcement
       ========================================================================= */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* Enforce sharp edges globally -- Soul Piece #1 */
    *:where(:not(input, button, select)) {
      border-radius: 0;
    }

    /* =========================================================================
       Base Typography
       ========================================================================= */
    body {
      font-family: var(--font-body);
      font-size: var(--type-body);
      line-height: 1.7;
      color: var(--color-text);
      background: var(--color-background);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-display);
      line-height: 1.2;
    }

    h1 { font-size: var(--type-page); }
    h2 { font-size: var(--type-section); }
    h3 {
      font-size: var(--type-subsection);
      font-style: italic;
    }

    p {
      max-width: 70ch;
      margin-bottom: var(--space-4);
      overflow-wrap: break-word;
    }

    a {
      color: var(--color-primary);
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }

    /* Selection -- Soul Piece branded */
    ::selection {
      background: var(--color-primary);
      color: var(--color-background);
    }

    /* Focus -- WCAG compliant */
    *:focus-visible {
      outline: 3px solid var(--color-primary);
      outline-offset: 2px;
    }

    /* Skip Link -- Accessibility */
    .skip-link {
      position: absolute;
      top: -100%;
      left: 0;
      background: var(--color-primary);
      color: var(--color-background);
      padding: 8px 16px;
      z-index: 1000;
      font-family: var(--font-body);
      font-size: 14px;
      text-decoration: none;
    }
    .skip-link:focus {
      top: 0;
    }

    /* Screen Reader Only */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    /* =========================================================================
       Header -- Full-bleed dark (Convention Section 4)
       ========================================================================= */
    header {
      background: var(--color-text); /* #1A1A1A */
      color: var(--color-background); /* #FEF9F5 */
      border-bottom: 3px solid var(--color-primary); /* Cat 1 structural */
    }

    .header-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: var(--space-16) var(--space-8); /* 64px 32px */
    }

    .meta-line {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 500;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--color-text-secondary);
      margin-bottom: var(--space-2);
      display: flex;
      align-items: center;
      gap: var(--space-4);
      flex-wrap: wrap;
    }

    .version-badge {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: var(--type-meta);
      font-weight: 500;
      letter-spacing: 0.05em;
      padding: 2px 8px;
      border: 1px solid var(--color-text-secondary); /* Cat 3 micro */
      color: var(--color-text-secondary);
    }

    header h1 {
      font-family: var(--font-display);
      font-size: var(--type-page);
      color: var(--color-background);
      margin-bottom: var(--space-4);
      line-height: 1.15;
    }

    header .subtitle {
      font-family: var(--font-body);
      font-size: var(--type-body);
      font-weight: 400;
      color: var(--color-text-secondary);
      max-width: 70ch;
      line-height: 1.7;
    }

    /* =========================================================================
       Page Container
       ========================================================================= */
    .page-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: var(--space-12) var(--space-6);
    }

    /* =========================================================================
       Code Block Theme -- Dark (Convention Section 3)
       ========================================================================= */
    pre {
      background: var(--color-text); /* #1A1A1A */
      color: var(--color-background); /* #FEF9F5 */
      border: 3px solid var(--color-border); /* Cat 1 structural */
      padding: var(--space-6) var(--space-8); /* 24px 32px */
      font-family: var(--font-mono);
      font-size: var(--type-code);
      line-height: 1.5;
      overflow-x: auto;
      margin-bottom: var(--space-8);
    }

    pre code {
      background: none;
      border: none;
      padding: 0;
      font-size: inherit;
    }

    /* Syntax highlighting tokens */
    .kw { color: var(--syntax-keyword); }
    .st { color: var(--syntax-string); }
    .cm { color: var(--syntax-comment); }
    .fn { color: var(--syntax-function); }
    .ty { color: var(--syntax-type); }
    .nu { color: var(--syntax-number); }
    .pu { color: var(--syntax-punctuation); }

    /* Inline code */
    code:not(pre code) {
      font-family: var(--font-mono);
      font-size: 0.9em;
      background: var(--color-border-subtle); /* #F0EBE3 */
      padding: 2px 6px;
      border: 1px solid var(--color-border); /* Cat 3 micro */
    }

    /* =========================================================================
       Callout System -- 5 accent variants (Convention Section 7)
       Family DNA: 2-zone (label + body), border-left: 4px solid
       ========================================================================= */
    .callout {
      border-left: 4px solid var(--accent-blue); /* default: blue */
      padding: var(--space-6) var(--space-5); /* 24px 20px */
      margin: var(--space-6) 0;
      background: var(--color-zone-sparse);
    }

    .callout__label {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: var(--space-2);
    }

    .callout__body {
      font-family: var(--font-body);
      font-size: var(--type-body);
      line-height: 1.7;
    }

    /* Accent variants */
    .callout--info { border-left-color: var(--accent-blue); }
    .callout--info .callout__label { color: var(--accent-blue); }

    .callout--tip { border-left-color: var(--accent-green); }
    .callout--tip .callout__label { color: var(--accent-green); }

    .callout--gotcha { border-left-color: var(--accent-coral); }
    .callout--gotcha .callout__label { color: var(--accent-coral); }

    .callout--caution { border-left-color: var(--accent-amber); }
    .callout--caution .callout__label { color: var(--accent-amber); }

    .callout--essence {
      border-left-color: var(--accent-purple);
    }
    .callout--essence .callout__label { color: var(--accent-purple); }
    .callout--essence .callout__body {
      font-family: var(--font-display);
      font-style: italic; /* Soul Piece #2: Archivist speaks in serif */
    }

    /* =========================================================================
       Tables -- Open grid, no vertical borders
       ========================================================================= */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: var(--space-8);
      display: block;
      overflow-x: auto;
    }

    th {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      text-align: left;
      padding: var(--space-3) var(--space-4);
      border-bottom: 3px solid var(--color-border); /* Cat 1 structural */
      color: var(--color-text-secondary);
    }

    td {
      font-family: var(--font-body);
      font-size: var(--type-body);
      padding: var(--space-3) var(--space-4);
      border-bottom: 1px solid var(--color-border-subtle); /* Cat 2 separator */
      vertical-align: top;
    }

    th, td {
      border-left: none;
      border-right: none;
    }

    /* =========================================================================
       Reduced Motion
       ========================================================================= */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* =========================================================================
       Print Styles
       ========================================================================= */
    @media print {
      body {
        background: white;
        color: black;
      }
      .skip-link {
        display: none;
      }
      header {
        background: white;
        color: black;
        border-bottom-color: black;
      }
      header h1,
      header .subtitle {
        color: black;
      }
      pre {
        background: #f5f5f5;
        color: black;
        border-color: #ccc;
      }
    }
  </style>

  <!-- =========================================================================
       COMBINATION LAYER -- CD-002: Z-Pattern + Spiral + PULSE + Task-Based
       Complies with CD-CONVENTION-SPEC.md Sections 12-20.
       Uses :root tokens only. No hardcoded values.
       ========================================================================= -->
  <style id="combination-layer">

    /* =========================================================================
       SECTION TITLES
       ========================================================================= */
    .section-title {
      font-family: var(--font-display);
      font-size: var(--type-section);
      margin-bottom: var(--space-6);
      padding-bottom: var(--space-3);
      border-bottom: 3px solid var(--color-border); /* Cat 1 structural */
    }

    /* =========================================================================
       RUNNING HEADER (Z-phase indicator)
       ========================================================================= */
    .running-header {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 500;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--color-text-secondary);
      padding: var(--space-3) 0;
      border-bottom: 1px solid var(--color-border-subtle); /* Cat 2 separator */
      margin-bottom: var(--space-8);
    }

    /* =========================================================================
       Z-PATTERN TASK CLUSTER -- Dense PULSE phase
       Task items displayed in Z-sweep order
       ========================================================================= */
    .task-cluster {
      margin-bottom: var(--space-between);
    }

    /* Task Component */
    .task-component {
      background: var(--color-zone-dense);
      border: 3px solid var(--color-border); /* Cat 1 structural */
      padding: var(--space-8);
      margin-bottom: var(--space-6);
    }

    .task-component__header {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--color-text-secondary);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-3);
      border-bottom: 1px solid var(--color-border-subtle); /* Cat 2 separator */
    }

    .task-component__title {
      font-family: var(--font-display);
      font-size: var(--type-subsection);
      margin-bottom: var(--space-6);
    }

    /* Task items -- checklist with clear completion states */
    .task-list {
      list-style: none;
      padding: 0;
    }

    .task-item {
      padding: var(--space-4) 0;
      border-bottom: 1px solid var(--color-border-subtle); /* Cat 2 separator */
      display: flex;
      align-items: flex-start;
      gap: var(--space-4);
    }

    .task-item:last-child {
      border-bottom: none;
    }

    .task-item__check {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 20px;
      min-width: 20px;
      border: 3px solid var(--color-border); /* Cat 1 structural */
      font-size: var(--type-meta);
      color: var(--color-text-secondary);
      flex-shrink: 0;
      margin-top: 2px;
    }

    .task-item__content {
      flex: 1;
    }

    .task-item__content strong {
      font-weight: 600;
    }

    .task-item__content code {
      font-family: var(--font-mono);
      font-size: 0.9em;
      background: var(--color-border-subtle);
      padding: 2px 6px;
      border: 1px solid var(--color-border);
    }

    /* =========================================================================
       DECISION MATRIX -- Analytical pause (PULSE sparse phase)
       R5-Recipe-3: Info -> Decision Matrix -> Reasoning -> Task
       ========================================================================= */
    .decision-matrix {
      background: var(--color-zone-sparse);
      padding: var(--space-8);
      margin-bottom: var(--space-6);
    }

    .decision-matrix__header {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--color-primary);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-3);
      border-bottom: 3px solid var(--color-primary); /* Cat 1 structural, primary accent */
    }

    .decision-matrix__title {
      font-family: var(--font-display);
      font-size: var(--type-subsection);
      margin-bottom: var(--space-6);
    }

    .decision-matrix table th {
      background: var(--color-zone-breathing);
    }

    .decision-matrix .recommendation {
      margin-top: var(--space-6);
      padding: var(--space-4) var(--space-5);
      border-left: 4px solid var(--color-primary); /* Cat 3 semantic, primary accent */
      background: var(--color-zone-dense);
    }

    .recommendation__label {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--color-primary);
      margin-bottom: var(--space-2);
    }

    /* =========================================================================
       REASONING COMPONENT -- Analytical sibling of Decision Matrix (R5-R1)
       ========================================================================= */
    .reasoning {
      background: var(--color-zone-sparse);
      border-left: 4px solid var(--accent-amber); /* Cat 3 semantic */
      padding: var(--space-6) var(--space-5);
      margin-bottom: var(--space-6);
    }

    .reasoning__label {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--accent-amber);
      margin-bottom: var(--space-2);
    }

    .reasoning__title {
      font-family: var(--font-display);
      font-size: var(--type-subsection);
      font-style: italic;
      margin-bottom: var(--space-4);
    }

    /* =========================================================================
       BREATHING TRANSITION -- Z-Pattern to Spiral (AD-F-025)
       48px+ gap with visual divider. Most isolated transition type.
       ========================================================================= */
    .breathing-transition {
      height: var(--space-12); /* 48px minimum */
      background: var(--color-zone-breathing);
      border-top: 3px solid var(--color-border); /* Cat 1 structural */
      border-bottom: 3px solid var(--color-border); /* Cat 1 structural */
      margin: var(--space-12) 0; /* 48px top and bottom = 48 + 48 + 48 total */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .breathing-transition__label {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 500;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--color-text-secondary);
    }

    /* =========================================================================
       SPIRAL SECTION -- Geological/Confidence strata
       AD-004 reference: border-weight gradient, confidence-based spacing
       Temperature gradient: warm (bedrock) -> neutral -> cool (atmosphere)
       ========================================================================= */

    /* Stratum 1: Bedrock -- highest confidence, thickest border */
    .stratum--bedrock {
      border-left: 4px solid var(--color-text); /* Cat 3 semantic, heaviest */
      padding: var(--space-8) var(--space-6);
      margin-bottom: var(--space-between);
      background: var(--color-zone-dense);
    }

    .stratum__label {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: var(--space-4);
    }

    .stratum--bedrock .stratum__label {
      color: var(--color-text);
    }

    .stratum__title {
      font-family: var(--font-display);
      font-size: var(--type-section);
      margin-bottom: var(--space-6);
    }

    /* Stratum 2: Subsoil -- moderate confidence, medium border */
    .stratum--subsoil {
      border-left: 3px solid var(--color-text-secondary); /* Cat 1 structural */
      padding: var(--space-6) var(--space-5);
      margin-bottom: var(--space-between);
      background: var(--color-zone-sparse);
    }

    .stratum--subsoil .stratum__label {
      color: var(--color-text-secondary);
    }

    /* Stratum 3: Atmosphere -- speculative, lightest border */
    .stratum--atmosphere {
      border-left: 1px solid var(--color-border); /* Cat 2 separator, lightest */
      padding: var(--space-5) var(--space-4);
      margin-bottom: var(--space-between);
      background: var(--color-zone-breathing);
    }

    .stratum--atmosphere .stratum__label {
      color: var(--color-border);
    }

    /* Challenge callout within atmosphere */
    .challenge {
      border: 3px solid var(--color-primary); /* Cat 1 structural */
      padding: var(--space-6);
      background: var(--color-zone-sparse);
    }

    .challenge__label {
      font-family: var(--font-body);
      font-size: var(--type-meta);
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--color-primary);
      margin-bottom: var(--space-4);
    }

    /* =========================================================================
       Responsive -- Collapse at 768px (Convention Section 12.5)
       ========================================================================= */
    @media (max-width: 768px) {
      .header-inner {
        padding: var(--space-12) var(--space-4);
      }

      .page-container {
        padding: var(--space-8) var(--space-4);
      }

      .task-component,
      .decision-matrix,
      .reasoning {
        padding: var(--space-6) var(--space-4);
      }

      .stratum--bedrock {
        padding: var(--space-6) var(--space-4);
      }

      .stratum--subsoil {
        padding: var(--space-5) var(--space-4);
      }

      .meta-line {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-2);
      }
    }
  </style>
</head>

<body>
  <!-- Skip Link -- Accessibility requirement -->
  <a href="#main-content" class="skip-link">Skip to content</a>

  <!-- Header -- Full-bleed dark (C-16) -->
  <header>
    <div class="header-inner">
      <div class="meta-line">
        <span>EXPLORATION CD-002</span>
        <span>COMBINATION: DECISION GUIDE</span>
        <span class="version-badge">v1</span>
      </div>
      <h1>Setting Up Your CI/CD Pipeline</h1>
      <p class="subtitle">
        Choosing tools and configuring stages. A task-based workflow with an
        embedded decision point -- demonstrating how a Decision Matrix lives
        inside a procedural flow as a natural pause for thought.
      </p>
    </div>
  </header>

  <!-- Main Content -->
  <main id="main-content">
    <div class="page-container">


      <!-- =================================================================
           Z-PATTERN SECTION -- PULSE dense/sparse alternation
           AD-F-024: Sequential, not simultaneous. Z-Pattern commits first.
           ================================================================= -->


      <!-- ═══════════════════════════════════════════════════════════════════
           Z-SWEEP 1 (SPARSE) -- Task overview, orientation
           PULSE: sparse phase -- setting context before dense action
           R5-S3: First component sets "practical tutorial" tone
           R5-A6: Info Callout prevents Missing Context Start
           ═══════════════════════════════════════════════════════════════════ -->
      <section aria-label="Pipeline Overview">
        <div class="running-header">Phase 1 -- Understanding the Pipeline</div>

        <h2 class="section-title">What Is a CI/CD Pipeline?</h2>

        <!-- R5-S3: First component sets tone. Info Callout for orientation (not raw Task). -->
        <!-- R5-A6: Missing Context Start prevented -- context before action. -->
        <div class="callout callout--info">
          <div class="callout__label">Context</div>
          <div class="callout__body">
            A CI/CD pipeline automates the process of testing, building, and deploying
            your application. Continuous Integration (CI) runs tests on every code change.
            Continuous Deployment (CD) pushes validated changes to production. This guide
            walks you through setting up both -- starting with tool selection, then
            configuration.
          </div>
        </div>

        <p>
          Every CI/CD pipeline follows the same fundamental structure: a trigger
          event (usually a git push or pull request) starts a sequence of automated
          stages. Each stage either passes and hands off to the next, or fails and
          halts the pipeline with a clear error message.
        </p>

        <p>
          The stages themselves are consistent across tools: install dependencies,
          run linting, execute tests, build artifacts, deploy to a target environment.
          What varies between tools is the configuration syntax, the runner infrastructure,
          and the integration depth with your existing platform.
        </p>

        <!-- Info Callout: Prerequisites -->
        <div class="callout callout--info">
          <div class="callout__label">Prerequisites</div>
          <div class="callout__body">
            Before starting, you need: a Git repository hosted on GitHub, GitLab, or
            a self-hosted Git server; a project with a test suite that can run headlessly;
            and basic familiarity with YAML configuration syntax. If your project has
            no tests yet, set up at least one smoke test before configuring CI.
          </div>
        </div>
      </section>


      <!-- ═══════════════════════════════════════════════════════════════════
           Z-SWEEP 2 (DENSE) -- Decision Matrix
           PULSE: dense phase -- the analytical core
           R5-Recipe-3: Info -> Decision Matrix -> Reasoning -> Task
           R5-N1: Decision Matrix STACKS after task context, not nested inside
           R5-A3: One matrix, one Reasoning with clear recommendation
           ═══════════════════════════════════════════════════════════════════ -->
      <section aria-label="CI Tool Selection">
        <div class="running-header">Phase 2 -- Choosing Your CI Tool</div>

        <h2 class="section-title">CI Tool Comparison</h2>

        <!-- Decision Matrix -- the PULSE pause point -->
        <!-- R5-N1: This is STACKED after the task overview section, not nested inside it -->
        <!-- R5-H2: Task (action) + Decision Matrix (options) = natural partners -->
        <div class="decision-matrix">
          <div class="decision-matrix__header">Decision Matrix</div>
          <h3 class="decision-matrix__title">Which CI/CD Platform Fits Your Project?</h3>

          <table>
            <thead>
              <tr>
                <th>Criterion</th>
                <th>GitHub Actions</th>
                <th>GitLab CI</th>
                <th>Jenkins</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Setup Complexity</td>
                <td>Low -- YAML in <code>.github/workflows/</code></td>
                <td>Low -- YAML in <code>.gitlab-ci.yml</code></td>
                <td>High -- requires server, Jenkinsfile, plugins</td>
              </tr>
              <tr>
                <td>Cost (Small Team)</td>
                <td>Free tier: 2,000 min/mo</td>
                <td>Free tier: 400 min/mo</td>
                <td>Free (self-hosted), but ops cost</td>
              </tr>
              <tr>
                <td>Runner Infrastructure</td>
                <td>Managed (GitHub-hosted) or self-hosted</td>
                <td>Managed or self-hosted runners</td>
                <td>Self-hosted only</td>
              </tr>
              <tr>
                <td>Ecosystem Integration</td>
                <td>Deep GitHub integration, marketplace</td>
                <td>Built into GitLab platform</td>
                <td>Plugin-based, broad but fragmented</td>
              </tr>
              <tr>
                <td>Configuration Language</td>
                <td>YAML with expressions</td>
                <td>YAML with includes and extends</td>
                <td>Groovy (Jenkinsfile) or YAML</td>
              </tr>
              <tr>
                <td>Secret Management</td>
                <td>Environment secrets + OIDC</td>
                <td>CI/CD variables + Vault integration</td>
                <td>Credentials plugin, manual config</td>
              </tr>
              <tr>
                <td>Parallelism</td>
                <td>Matrix strategy, concurrent jobs</td>
                <td>Parallel keyword, DAG pipelines</td>
                <td>Parallel stages, distributed builds</td>
              </tr>
            </tbody>
          </table>

          <!-- R5-A3: Decision Paralysis prevention -- clear recommendation, not open-ended -->
          <div class="recommendation">
            <div class="recommendation__label">Recommendation</div>
            <p>
              <strong>For teams already on GitHub:</strong> Use GitHub Actions. Zero
              infrastructure overhead, native integration with PRs and issues, and the
              marketplace provides pre-built actions for most common tasks. The free tier
              is generous for small-to-medium projects. Choose GitLab CI if your repository
              is on GitLab. Choose Jenkins only when you need fine-grained control over
              runner infrastructure or have regulatory requirements for self-hosted CI.
            </p>
          </div>
        </div>

        <!-- Reasoning Component -- analytical sibling of Decision Matrix (R5-R1) -->
        <!-- R5-R1: Decision Matrix and Reasoning are analytical siblings, placed adjacent -->
        <div class="reasoning">
          <div class="reasoning__label">Reasoning</div>
          <h3 class="reasoning__title">Why Platform Lock-in Matters Less Than You Think</h3>
          <p>
            The configuration syntax differs between platforms, but the underlying
            concepts are identical: triggers, jobs, steps, artifacts, and secrets.
            A well-structured pipeline on GitHub Actions can be ported to GitLab CI
            in an afternoon. The real cost of switching is not the configuration -- it
            is the accumulated knowledge of platform-specific edge cases (caching
            strategies, runner quirks, timeout behaviors).
          </p>
          <p>
            This means the most important decision criterion is not feature parity
            (all three platforms are feature-complete for standard workflows) but
            operational proximity: which platform is already in your team's daily
            workflow? CI that lives where your code lives gets maintained. CI on a
            separate platform gets neglected.
          </p>
        </div>

        <!-- Tip Callout -- R5-T2: FAST buffer after SLOW Reasoning -->
        <div class="callout callout--tip">
          <div class="callout__label">Tip</div>
          <div class="callout__body">
            Regardless of which platform you choose, keep your pipeline configuration
            in the repository root. Avoid external pipeline definitions that live outside
            your codebase. When the pipeline config is versioned with the code, you can
            always reconstruct the exact CI state for any historical commit.
          </div>
        </div>
      </section>


      <!-- ═══════════════════════════════════════════════════════════════════
           Z-SWEEP 3 (SPARSE) -- Pause between decision and implementation
           PULSE: sparse phase -- reader absorbs the decision before acting
           ═══════════════════════════════════════════════════════════════════ -->


      <!-- ═══════════════════════════════════════════════════════════════════
           Z-SWEEP 4 (DENSE) -- Code Snippet for chosen tool
           PULSE: dense phase -- implementation detail
           R5-S1: Setup-Payoff Arc -- context given, now delivering the payoff
           ═══════════════════════════════════════════════════════════════════ -->
      <section aria-label="GitHub Actions Configuration">
        <div class="running-header">Phase 3 -- Configuring GitHub Actions</div>

        <h2 class="section-title">Your First Workflow File</h2>

        <p>
          With GitHub Actions selected, the configuration lives in
          <code>.github/workflows/</code>. Each YAML file defines one workflow.
          The example below implements a complete CI pipeline: lint, test, and build
          on every push to <code>main</code> and every pull request.
        </p>

        <pre><code><span class="cm"># .github/workflows/ci.yml</span>
<span class="kw">name</span><span class="pu">:</span> <span class="st">CI Pipeline</span>

<span class="kw">on</span><span class="pu">:</span>
  <span class="kw">push</span><span class="pu">:</span>
    <span class="kw">branches</span><span class="pu">:</span> <span class="pu">[</span> <span class="st">main</span> <span class="pu">]</span>
  <span class="kw">pull_request</span><span class="pu">:</span>
    <span class="kw">branches</span><span class="pu">:</span> <span class="pu">[</span> <span class="st">main</span> <span class="pu">]</span>

<span class="kw">jobs</span><span class="pu">:</span>
  <span class="fn">lint</span><span class="pu">:</span>
    <span class="kw">runs-on</span><span class="pu">:</span> <span class="st">ubuntu-latest</span>
    <span class="kw">steps</span><span class="pu">:</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/checkout@v4</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/setup-node@v4</span>
        <span class="kw">with</span><span class="pu">:</span>
          <span class="kw">node-version</span><span class="pu">:</span> <span class="nu">20</span>
          <span class="kw">cache</span><span class="pu">:</span> <span class="st">npm</span>
      <span class="pu">-</span> <span class="kw">run</span><span class="pu">:</span> <span class="st">npm ci</span>
      <span class="pu">-</span> <span class="kw">run</span><span class="pu">:</span> <span class="st">npm run lint</span>

  <span class="fn">test</span><span class="pu">:</span>
    <span class="kw">runs-on</span><span class="pu">:</span> <span class="st">ubuntu-latest</span>
    <span class="kw">needs</span><span class="pu">:</span> <span class="st">lint</span>
    <span class="kw">steps</span><span class="pu">:</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/checkout@v4</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/setup-node@v4</span>
        <span class="kw">with</span><span class="pu">:</span>
          <span class="kw">node-version</span><span class="pu">:</span> <span class="nu">20</span>
          <span class="kw">cache</span><span class="pu">:</span> <span class="st">npm</span>
      <span class="pu">-</span> <span class="kw">run</span><span class="pu">:</span> <span class="st">npm ci</span>
      <span class="pu">-</span> <span class="kw">run</span><span class="pu">:</span> <span class="st">npm test -- --coverage</span>

  <span class="fn">build</span><span class="pu">:</span>
    <span class="kw">runs-on</span><span class="pu">:</span> <span class="st">ubuntu-latest</span>
    <span class="kw">needs</span><span class="pu">:</span> <span class="st">test</span>
    <span class="kw">steps</span><span class="pu">:</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/checkout@v4</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/setup-node@v4</span>
        <span class="kw">with</span><span class="pu">:</span>
          <span class="kw">node-version</span><span class="pu">:</span> <span class="nu">20</span>
          <span class="kw">cache</span><span class="pu">:</span> <span class="st">npm</span>
      <span class="pu">-</span> <span class="kw">run</span><span class="pu">:</span> <span class="st">npm ci</span>
      <span class="pu">-</span> <span class="kw">run</span><span class="pu">:</span> <span class="st">npm run build</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/upload-artifact@v4</span>
        <span class="kw">with</span><span class="pu">:</span>
          <span class="kw">name</span><span class="pu">:</span> <span class="st">build-output</span>
          <span class="kw">path</span><span class="pu">:</span> <span class="st">dist/</span></code></pre>

        <!-- Task Component: Configuration checklist (Z-sweep dense phase) -->
        <div class="task-component">
          <div class="task-component__header">Task: Setup Checklist</div>
          <h3 class="task-component__title">Configure Your CI Pipeline</h3>
          <ul class="task-list">
            <li class="task-item">
              <span class="task-item__check"></span>
              <div class="task-item__content">
                <strong>Create the workflow directory:</strong> <code>mkdir -p .github/workflows</code>
              </div>
            </li>
            <li class="task-item">
              <span class="task-item__check"></span>
              <div class="task-item__content">
                <strong>Create <code>ci.yml</code></strong> with the configuration above. Adjust
                the <code>node-version</code> to match your project's requirement.
              </div>
            </li>
            <li class="task-item">
              <span class="task-item__check"></span>
              <div class="task-item__content">
                <strong>Verify <code>npm run lint</code></strong> works locally before pushing.
                If your project uses a different linter command, update the step accordingly.
              </div>
            </li>
            <li class="task-item">
              <span class="task-item__check"></span>
              <div class="task-item__content">
                <strong>Verify <code>npm test</code></strong> runs successfully in a clean
                environment. Run <code>npm ci && npm test</code> to simulate what CI will do.
              </div>
            </li>
            <li class="task-item">
              <span class="task-item__check"></span>
              <div class="task-item__content">
                <strong>Push to a feature branch</strong> and open a pull request. Watch the
                Actions tab for the workflow run. Green checkmarks mean your pipeline works.
              </div>
            </li>
          </ul>
        </div>
      </section>


      <!-- =================================================================
           BREATHING TRANSITION -- Z-Pattern to Spiral (AD-F-025)
           48px+ gap. Most isolated transition type.
           CD-F-006: Breathing transition validated between Z and Spiral
           ================================================================= -->
      <div class="breathing-transition" role="separator" aria-label="Transition from task setup to deployment strategy">
        <span class="breathing-transition__label">Deployment Strategy</span>
      </div>


      <!-- =================================================================
           SPIRAL SECTION -- Geological/Confidence density
           AD-F-024: Sequential, not simultaneous. Spiral commits now.
           Temperature gradient: warm (bedrock) -> neutral -> cool (atmosphere)
           A5: No Temperature Whiplash -- gradient is monotonic
           ================================================================= -->


      <!-- ═══════════════════════════════════════════════════════════════════
           STRATUM 1: BEDROCK -- Core Abstraction (highest confidence)
           4px border-left (heaviest). Warm temperature.
           ═══════════════════════════════════════════════════════════════════ -->
      <section aria-label="Core Pipeline Philosophy">
        <div class="running-header">Stratum 1 -- Bedrock</div>

        <div class="stratum--bedrock">
          <div class="stratum__label">Core Abstraction</div>
          <h2 class="stratum__title">The Pipeline Is the Product</h2>

          <!-- Essence Callout -- Soul Piece #2: Archivist speaks in serif -->
          <div class="callout callout--essence">
            <div class="callout__label">Essence</div>
            <div class="callout__body">
              Your deployment pipeline is not a delivery mechanism. It is your quality
              statement. Every stage in the pipeline encodes a belief about what "ready"
              means. When you skip a stage, you are not saving time -- you are lowering
              your definition of quality.
            </div>
          </div>

          <p>
            A mature pipeline expresses the team's collective understanding of what
            constitutes a shippable change. Lint passes mean the team values consistent
            code style. Tests pass means the team values behavioral guarantees. Build
            succeeds means the team values reproducible artifacts. Each stage is not
            just a technical gate -- it is a social contract.
          </p>

          <p>
            The deployment workflow below extends the CI pipeline with a production
            deployment stage. It runs only on pushes to <code>main</code> (not on pull
            requests) and requires all CI stages to pass first.
          </p>

          <pre><code><span class="cm"># .github/workflows/deploy.yml</span>
<span class="kw">name</span><span class="pu">:</span> <span class="st">Deploy to Production</span>

<span class="kw">on</span><span class="pu">:</span>
  <span class="kw">push</span><span class="pu">:</span>
    <span class="kw">branches</span><span class="pu">:</span> <span class="pu">[</span> <span class="st">main</span> <span class="pu">]</span>

<span class="kw">jobs</span><span class="pu">:</span>
  <span class="fn">deploy</span><span class="pu">:</span>
    <span class="kw">runs-on</span><span class="pu">:</span> <span class="st">ubuntu-latest</span>
    <span class="kw">environment</span><span class="pu">:</span> <span class="st">production</span>
    <span class="kw">needs</span><span class="pu">:</span> <span class="pu">[</span> <span class="st">lint</span><span class="pu">,</span> <span class="st">test</span><span class="pu">,</span> <span class="st">build</span> <span class="pu">]</span>
    <span class="kw">steps</span><span class="pu">:</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/checkout@v4</span>
      <span class="pu">-</span> <span class="kw">uses</span><span class="pu">:</span> <span class="st">actions/download-artifact@v4</span>
        <span class="kw">with</span><span class="pu">:</span>
          <span class="kw">name</span><span class="pu">:</span> <span class="st">build-output</span>
          <span class="kw">path</span><span class="pu">:</span> <span class="st">dist/</span>
      <span class="pu">-</span> <span class="kw">name</span><span class="pu">:</span> <span class="st">Deploy to hosting</span>
        <span class="kw">env</span><span class="pu">:</span>
          <span class="kw">DEPLOY_TOKEN</span><span class="pu">:</span> <span class="st">${{ secrets.DEPLOY_TOKEN }}</span>
        <span class="kw">run</span><span class="pu">:</span> <span class="pu">|</span>
          <span class="st">npx vercel deploy --prod --token=$DEPLOY_TOKEN</span></code></pre>
        </div>
      </section>


      <!-- ═══════════════════════════════════════════════════════════════════
           STRATUM 2: SUBSOIL -- Deployment configuration (moderate confidence)
           3px border-left (medium). Neutral temperature.
           ═══════════════════════════════════════════════════════════════════ -->
      <section aria-label="Deployment Configuration">
        <div class="running-header">Stratum 2 -- Subsoil</div>

        <div class="stratum--subsoil">
          <div class="stratum__label">Implementation Detail</div>
          <h2 class="stratum__title">Deployment Stage Configuration</h2>

          <p>
            The deployment stage introduces new concerns that the CI stages did not
            have: secrets management, environment targeting, and rollback capability.
            Each of these requires deliberate configuration.
          </p>

          <!-- Task Component: Deployment checklist -->
          <div class="task-component">
            <div class="task-component__header">Task: Deployment Setup</div>
            <h3 class="task-component__title">Configure Production Deployment</h3>
            <ul class="task-list">
              <li class="task-item">
                <span class="task-item__check"></span>
                <div class="task-item__content">
                  <strong>Create a GitHub Environment</strong> named <code>production</code>
                  in your repository settings. Enable "Required reviewers" if you want
                  manual approval before deployment.
                </div>
              </li>
              <li class="task-item">
                <span class="task-item__check"></span>
                <div class="task-item__content">
                  <strong>Add deployment secrets:</strong> Navigate to Settings &gt; Secrets
                  &gt; Actions. Add <code>DEPLOY_TOKEN</code> with your hosting provider's
                  API token. Never commit secrets to the repository.
                </div>
              </li>
              <li class="task-item">
                <span class="task-item__check"></span>
                <div class="task-item__content">
                  <strong>Configure environment protection rules:</strong> Restrict which
                  branches can deploy to production. Typically only <code>main</code> should
                  have production deployment access.
                </div>
              </li>
              <li class="task-item">
                <span class="task-item__check"></span>
                <div class="task-item__content">
                  <strong>Test the deployment flow:</strong> Merge a small change to
                  <code>main</code> and verify the deployment runs successfully. Check your
                  hosting provider's dashboard to confirm the deployment landed.
                </div>
              </li>
            </ul>
          </div>

          <!-- Gotcha Callout -- A7 prevention: will be followed by Tip -->
          <div class="callout callout--gotcha">
            <div class="callout__label">Gotcha</div>
            <div class="callout__body">
              Secrets set at the repository level are available to all workflows and all
              branches. If you have forks or feature branches with workflow modifications,
              those branches can access your production secrets. Use environment-scoped
              secrets (tied to the <code>production</code> environment with branch restrictions)
              to prevent unauthorized access to deployment credentials.
            </div>
          </div>

          <!-- Tip follows Gotcha -- A7: Anxiety Ending prevention -->
          <div class="callout callout--tip">
            <div class="callout__label">Tip</div>
            <div class="callout__body">
              To verify your secret scoping is correct, check Settings &gt; Environments &gt;
              production &gt; Environment secrets. Secrets listed here are only available to
              workflows that reference the <code>production</code> environment. Repository-level
              secrets under Settings &gt; Secrets are available everywhere -- move sensitive
              deployment credentials to environment-level.
            </div>
          </div>
        </div>
      </section>


      <!-- ═══════════════════════════════════════════════════════════════════
           STRATUM 3: ATMOSPHERE -- Speculative/Challenge (lowest confidence)
           1px border-left (lightest). Cool temperature.
           ═══════════════════════════════════════════════════════════════════ -->
      <section aria-label="Advanced Challenge">
        <div class="running-header">Stratum 3 -- Atmosphere</div>

        <div class="stratum--atmosphere">
          <div class="stratum__label">Speculative</div>
          <h2 class="stratum__title">Beyond the Happy Path</h2>

          <p>
            The pipeline so far assumes every deployment succeeds. Real systems fail.
            Network timeouts, cloud provider outages, misconfigured environment variables,
            race conditions in database migrations -- production deployment is where
            theoretical correctness meets operational reality.
          </p>

          <!-- Challenge Callout -- speculative, reader extends knowledge -->
          <div class="challenge">
            <div class="challenge__label">Challenge</div>
            <p>
              <strong>Add a rollback stage to your pipeline.</strong> When the
              deployment health check fails, the pipeline should automatically
              revert to the previous known-good deployment. Consider: What does
              "health check" mean for your application? Is it an HTTP 200 from a
              <code>/healthz</code> endpoint? Is it a Lighthouse score threshold?
              Is it zero JavaScript console errors?
            </p>
            <p style="margin-top: var(--space-4); margin-bottom: 0;">
              The harder question: What happens to your team's confidence when
              failure is <em>expected</em> and planned for? Does designing for
              rollback make you more willing to deploy frequently -- or does it
              make you question whether the pipeline is truly ready?
            </p>
          </div>
        </div>
      </section>


      <!-- Closing statement -->
      <div style="padding: var(--space-12) 0 var(--space-8); text-align: center;">
        <p style="font-family: var(--font-display); font-size: var(--type-section); font-style: italic; color: var(--color-text-secondary); max-width: 100%;">
          The pipeline is not infrastructure.<br>
          It is the team's definition of done.
        </p>
      </div>

    </div>
  </main>

  <!-- Footer -- 3px Cat 1 structural border-top (C-02, C-04) -->
  <footer style="border-top: 3px solid var(--color-border); padding: var(--space-8) 0;">
    <div style="max-width: 1100px; margin: 0 auto; padding: 0 var(--space-6); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: var(--space-4);">
      <span style="font-family: var(--font-body); font-size: var(--type-meta); font-weight: 500; letter-spacing: 0.1em; text-transform: uppercase; color: var(--color-text-secondary);">CD-002 &middot; Task Containing Decision</span>
      <span style="font-family: var(--font-body); font-size: var(--type-meta); color: var(--color-text-secondary);">DD:PULSE &middot; OD:TASK-BASED &middot; AD:Z+SPIRAL &middot; v1</span>
    </div>
  </footer>

<!-- =========================================================================
     RESEARCH APPLICATION RECORD
     ========================================================================= -->
<section class="rar-section" style="display: none;" aria-hidden="true">
  <h2>Research Application Record</h2>

  <h3>Research Identified as Applicable</h3>
  <table>
    <tr><td>R5-N1</td><td>Stack don't nest</td><td>Decision Matrix stacks after task context</td></tr>
    <tr><td>R5-A3</td><td>Decision Paralysis</td><td>One matrix, one Reasoning with recommendation</td></tr>
    <tr><td>R5-H2</td><td>Contrast Creates Harmony</td><td>Task + Decision Matrix as natural partners</td></tr>
    <tr><td>R5-H4</td><td>Editorial Spread</td><td>Decision Matrix + Task feel like same spread</td></tr>
    <tr><td>R5-T2</td><td>Velocity Mismatch</td><td>Tip (FAST) after Reasoning (SLOW)</td></tr>
    <tr><td>R5-R1</td><td>Kinship Model</td><td>Decision Matrix + Reasoning adjacent</td></tr>
    <tr><td>R5-S1</td><td>Setup-Payoff Arc</td><td>Info -> Task -> Decision -> Action</td></tr>
    <tr><td>R5-S3</td><td>First Component Rule</td><td>Info Callout sets practical tone</td></tr>
    <tr><td>R5-Recipe-3</td><td>Decision Guide</td><td>Info -> Decision Matrix -> Reasoning -> Task</td></tr>
    <tr><td>AD-F-024</td><td>Sequential axis</td><td>Z-section then Spiral section</td></tr>
    <tr><td>AD-F-025</td><td>Transition grammar</td><td>Breathing transition 48px+</td></tr>
    <tr><td>DD-F-001</td><td>PULSE rhythm</td><td>Dense/sparse alternation</td></tr>
    <tr><td>DD-F-006</td><td>Fractal at 5 scales</td><td>Page, section, component, element, character</td></tr>
    <tr><td>DD-F-014</td><td>Max 2 callouts/viewport</td><td>Enforced in all sections</td></tr>
  </table>

  <h3>Research Actually Applied</h3>
  <table>
    <tr><td>R5-N1</td><td>Decision Matrix is a sibling section, not nested in Task</td><td>Sections are stacked vertically</td></tr>
    <tr><td>R5-A3</td><td>Recommendation box with clear "Use GitHub Actions" directive</td><td>One matrix, one reasoning</td></tr>
    <tr><td>R5-R1</td><td>Decision Matrix immediately followed by Reasoning</td><td>Adjacent analytical siblings</td></tr>
    <tr><td>R5-S3</td><td>Page opens with Info Callout</td><td>First component is context-setter</td></tr>
    <tr><td>AD-F-025</td><td>Breathing transition div between Z and Spiral sections</td><td>48px+ gap with structural borders</td></tr>
    <tr><td>DD-F-001</td><td>Z-sweeps alternate sparse/dense</td><td>Overview(sparse) -> Matrix(dense) -> Config(dense)</td></tr>
    <tr><td>DD-F-014</td><td>Max 2 callouts in any viewport</td><td>Gotcha+Tip pair is maximum adjacent</td></tr>
  </table>

  <h3>Anti-Patterns Checked</h3>
  <table>
    <tr><td>A3 Decision Paralysis</td><td>YES</td><td>Clear recommendation in matrix</td></tr>
    <tr><td>A1 Callout Cacophony</td><td>YES</td><td>Max 2 consecutive callouts</td></tr>
    <tr><td>A5 Temperature Whiplash</td><td>YES</td><td>Spiral strata monotonic warm->cool</td></tr>
    <tr><td>A6 Missing Context Start</td><td>YES</td><td>Info Callout opens page</td></tr>
    <tr><td>A7 Anxiety Ending</td><td>YES</td><td>Gotcha followed by Tip</td></tr>
    <tr><td>N1 Stack Don't Nest</td><td>YES</td><td>Components stacked, never nested</td></tr>
    <tr><td>2px Border</td><td>YES</td><td>Zero 2px borders -- only 1px, 3px, 4px</td></tr>
    <tr><td>Semi-Transparent BG</td><td>YES</td><td>All backgrounds opacity 1.0</td></tr>
  </table>

  <h3>Soul Verification</h3>
  <ul>
    <li>border-radius: 0 everywhere? YES (enforced by *:where selector)</li>
    <li>box-shadow: none everywhere? YES (no box-shadow in any rule)</li>
    <li>Colors correct? YES (all from :root tokens)</li>
    <li>Typography correct? YES (Instrument Serif for display/essence, Inter for body, JetBrains Mono for code)</li>
    <li>Spacing correct? YES (all from spacing scale tokens)</li>
    <li>No filter: drop-shadow? YES (no filter property used)</li>
    <li>No physical-movement animation? YES (no translateY, scale, physical motion)</li>
    <li>Opacity 1.0 on all backgrounds? YES (no rgba alpha &lt; 1.0)</li>
  </ul>
</section>

<!-- =========================================================================
     FINDINGS
     ========================================================================= -->

<!-- CD-F-005: Decision-as-PULSE-Pause
Finding: A Decision Matrix functions naturally as a PULSE sparse phase when
placed between two task-dense clusters. The analytical nature of comparison
tables creates a reading velocity reduction that maps perfectly to PULSE's
"inhale" rhythm. The reader pauses to think, which is the sparse phase
embodied in content rather than whitespace.
Evidence: The Decision Matrix section (Phase 2) sits between the overview
(Phase 1, sparse) and configuration (Phase 3, dense), creating the PULSE
pattern: sparse -> dense(matrix) -> dense(config). The matrix itself is
informationally dense but cognitively sparse -- the reader is choosing, not
executing.
Chain Impact: CD combinations that embed decision points should treat the
Decision Matrix as the natural PULSE pause. This extends DD-F-001 by proving
that PULSE rhythm can be semantic (choice vs action) not just visual
(whitespace vs content).
-->

<!-- CD-F-006: Breathing Transition Validated Between Z and Spiral
Finding: The BREATHING transition type (AD-F-025) successfully bridges
Z-Pattern task sections to Spiral confidence strata. The 48px+ gap with
structural borders creates sufficient visual separation for the reader to
"reset" their scanning pattern from horizontal Z-sweeps to vertical
geological reading.
Evidence: The breathing-transition div between Z-sweep 4 and Stratum 1
uses 48px margin + 48px height + 48px margin = 144px total breathing space
with structural 3px borders. The label "Deployment Strategy" provides
cognitive anchoring for the pattern shift.
Chain Impact: Z-to-Spiral is the most isolated transition type in the 5x5
matrix. This validation confirms that BREATHING transitions require both
spatial gap AND cognitive anchoring (a label indicating what comes next) to
function. Pure whitespace is insufficient.
-->

<!-- CD-F-007: Task-Decision Stacking via N1
Finding: N1 (stack don't nest) is the correct model for embedding decisions
within task flows. The Decision Matrix is not "inside" a task -- it is a
sibling component that interrupts the task sequence at a natural decision
point, then the task sequence resumes with the decision's outcome assumed.
This creates a Setup-Payoff Arc (R5-S1): tasks set up the context, the
decision provides the pivot, and subsequent tasks pay off the decision.
Evidence: Phase 1 (task overview) -> Phase 2 (decision matrix + reasoning) ->
Phase 3 (configuration based on chosen tool). The Decision Matrix is a
section-level peer to the Task Components, not a child element.
Chain Impact: CD-006 (pilot migration) should use this N1 stacking pattern
for any page that requires both procedural steps and analytical decisions.
The anti-pattern A3 (Decision Paralysis) is prevented by R5-S1's arc
structure: the decision is bounded by context before and action after.
-->

<!-- CD-F-008: Spiral Confidence Strata in Task Context
Finding: Spiral confidence strata (bedrock/subsoil/atmosphere) work within a
task-based organization when they represent the confidence gradient of the
deployment process itself. Bedrock = core philosophy (highest confidence),
Subsoil = configuration details (moderate confidence, platform-specific),
Atmosphere = speculative challenges (lowest confidence, reader-dependent).
The border-weight gradient (4px -> 3px -> 1px) provides an implicit reading
priority that task-based organization alone cannot express.
Evidence: Stratum 1 (4px, essence + deploy config) -> Stratum 2 (3px, task
checklist + gotcha/tip) -> Stratum 3 (1px, challenge prompt). Temperature
goes warm -> neutral -> cool without whiplash (A5 avoided).
Chain Impact: Confidence strata add a dimension that flat task lists lack:
they communicate how certain the author is about each piece of guidance.
This is especially valuable for deployment documentation where best practices
(bedrock) are well-established but edge cases (atmosphere) are speculative.
-->

</body>
</html>
