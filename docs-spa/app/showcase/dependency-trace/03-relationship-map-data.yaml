# Relationship Map Data -- Phase 1B Dependency Trace
# Generated: 2026-02-05
# Sources: showcase-analysis.md, design-extraction-analysis.md, design-system-analysis.md,
#           cross-pollination-investigation.md, CRITICAL-TRUST-RULES.md

directories:
  - name: showcase
    path: docs-spa/app/showcase/
    file_count: 83
    tier_counts:
      T1: 10
      T2: 25
      T3: 18
      T4: 15
      S: 15
      O: 0
    soul_compliant: true
    has_claude_md: true
    has_provenance_chain: true

  - name: design-extraction
    path: design-extraction/
    file_count: 350
    junk_files: 205
    tier_counts:
      T1: 17
      T2: 140
      S: 120
      O: 205
    soul_compliant: true
    has_claude_md: true
    has_provenance_chain: false
    notes: "CLAUDE.md stale for Phase 4+; does not reference T1 synthesis files"

  - name: design-system
    path: design-system/
    file_count: 30
    tier_counts:
      Production: 26
      Documentation: 4
    soul_compliant: false
    has_claude_md: false
    has_provenance_chain: false
    critical_divergences: 4
    token_namespaces: 8
    notes: "Independent system; 4 critical token divergences from soul; zero structured finding IDs"

cross_directory_edges:
  - id: E-001
    source: design-extraction/component-system/perceptual-audit-v2/synthesis/MASTER-SOUL-SYNTHESIS.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/provenance/stage-1-components/
    type: soul_definition_source
    documented: true
    evidence: SOURCE-OF-TRUTH-REGISTRY.md lines 21-51

  - id: E-002
    source: design-extraction/component-system/perceptual-audit-v2/synthesis/DESIGN-TOKEN-SUMMARY.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/tokens/
    type: token_values_identical_core
    documented: true
    evidence: FINDINGS-INDEX.md line 278

  - id: E-003
    source: design-extraction/component-system/perceptual-audit-v2/synthesis/DESIGN-TOKEN-SUMMARY.md
    target: docs-spa/app/showcase/explorations/density/DD-*.html
    type: css_variable_values
    documented: true
    evidence: "CSS comment in DD HTML: 'LOCKED DESIGN TOKENS -- From DESIGN-TOKEN-SUMMARY.md'"

  - id: E-004
    source: design-extraction/component-system/perceptual-audit-v2/synthesis/CHARACTER-FAMILY-COMPLETE.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/components/OVERVIEW.md
    type: character_names_condensed_enriched
    documented: true
    evidence: SOURCE-OF-TRUTH-REGISTRY.md lines 28-30

  - id: E-005
    source: design-extraction/component-system/perceptual-audit-v2/synthesis/ANTI-PATTERNS-REGISTRY.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/anti-patterns/registry.md
    type: anti_patterns_condensed_reorganized
    documented: true
    evidence: FINDINGS-INDEX.md line 351; SOURCE-OF-TRUTH-REGISTRY.md line 44

  - id: E-006
    source: design-extraction/component-system/perceptual-audit-v2/synthesis/PRODUCTION-RULES.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/
    type: implementation_guidelines
    documented: true
    evidence: SOURCE-OF-TRUTH-REGISTRY.md

  - id: E-007
    source: design-extraction/component-system/perceptual-audit-v2/synthesis/CONSISTENCY-VERIFICATION.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/
    type: verification_checklists
    documented: true
    evidence: SOURCE-OF-TRUTH-REGISTRY.md

  - id: E-008
    source: design-extraction/component-system/perceptual-audit-v2/tracking/COLOR-TOKENS.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/tokens/colors.md
    type: color_reference
    documented: true
    evidence: checkpoints/MASTER-STATE.md lines 209-226
    drift_notes: "Core locked tokens identical; secondary tokens (accent-amber, accent-purple, bg-info, bg-tip) show drift"

  - id: E-009
    source: design-extraction/component-system/perceptual-audit-v2/tracking/TYPOGRAPHY-TOKENS.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/tokens/typography.md
    type: typography_reference
    documented: true
    evidence: checkpoints/MASTER-STATE.md

  - id: E-010
    source: design-extraction/component-system/perceptual-audit-v2/tracking/SPACING-TOKENS.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/tokens/spacing.md
    type: spacing_reference
    documented: true
    evidence: checkpoints/MASTER-STATE.md

  - id: E-011
    source: design-extraction/component-system/perceptual-audit-v2/tracking/CONTAINER-TOKENS.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/tokens/geometry.md
    type: container_geometry_reference
    documented: true
    evidence: checkpoints/MASTER-STATE.md

  - id: E-012
    source: design-extraction/component-system/perceptual-audit-v2/tracking/PERCEPTUAL-TRUTHS.md
    target: docs-spa/app/showcase/checkpoints/SOUL-DISCOVERIES.md
    type: soul_piece_source
    documented: true
    evidence: KA-POSITION.md lines 80-83

  - id: E-013
    source: design-extraction/component-system/perceptual-audit-v2/tracking/NAMED-CHARACTERS.md
    target: docs-spa/app/showcase/DESIGN-SYSTEM/components/OVERVIEW.md
    type: character_name_source
    documented: true
    evidence: SOURCE-OF-TRUTH-REGISTRY.md

  - id: E-014
    source: design-extraction/typography-system/typography.css
    target: design-system/src/styles/tokens.css
    type: font_family_choice
    documented: false
    evidence: "tokens.css uses 'Instrument Serif' which was discovered in typography research; no provenance marker"
    notes: "UNDOCUMENTED dependency -- design-system consumed font choice without acknowledgment"

confirmed_non_edges:
  - direction: "showcase -> design-extraction"
    evidence: "Zero reverse references found in any showcase file"
  - direction: "design-system -> showcase"
    evidence: "Zero references; completely different token values"
  - direction: "showcase -> design-system"
    evidence: "Zero references; no awareness of design-system/"
  - direction: "design-extraction -> design-system (beyond E-014)"
    evidence: "Different token values, different type scales, no shared references"

supersession_chains:
  - name: Typography Token Chain
    steps:
      - file: design-extraction/archive/tokens/typography.css
        value: "--font-display: 'Bebas Neue'"
        status: SUPERSEDED
        date: "~Feb 1"
        evidence: "README.md: 'Superseded by typography-system'"
      - file: design-extraction/typography-system/typography.css
        value: "--font-display: 'Instrument Serif'"
        status: CURRENT
        date: "Feb 2"
        evidence: "Font research FINAL-DECISION.md (30/40 match score)"
      - file: design-extraction/component-system/perceptual-audit-v2/synthesis/DESIGN-TOKEN-SUMMARY.md
        value: "--font-display: 'Instrument Serif', Georgia, serif"
        status: T1_CANONICAL
        date: "Feb 4"
        evidence: "T1 Foundation synthesis"

  - name: Soul Definition Chain
    steps:
      - file: design-extraction/card-system/SOUL-DEFINITION.md
        value: "10 soul principles from card research"
        size: "10,437 bytes"
        status: SUPERSEDED
        date: "Feb 2-3"
        evidence: "card.css line 3 references this; component-system expanded it"
      - file: design-extraction/component-system/SOUL-DEFINITION.md
        value: "6 Universal Rules + component-specific rules"
        size: "58,009 bytes"
        status: REFINED-INTO
        date: "Feb 3"
        evidence: "Full 11-component audit revealed needs beyond cards"
      - file: design-extraction/component-system/perceptual-audit-v2/synthesis/MASTER-SOUL-SYNTHESIS.md
        value: "'The Unhurried Editor' + complete soul definition"
        size: "15,658 bytes"
        status: T1_CANONICAL
        date: "Feb 4"
        evidence: "T1 Foundation synthesis; used in all DD explorations"

  - name: Anti-Pattern Knowledge Chain
    steps:
      - file: design-extraction/card-system/research/3B-anti-patterns.md
        value: "Card-focused anti-patterns"
        size: "17,312 bytes"
        status: EXPANDED
        date: "Feb 2-3"
        evidence: "Initial anti-pattern research from card system"
      - file: design-extraction/component-system/ANTI-PATTERNS.md
        value: "All-component anti-patterns"
        size: "55,870 bytes"
        status: CONSOLIDATED
        date: "Feb 3"
        evidence: "Full component audit expanded scope; V8 markers"
      - file: design-extraction/component-system/perceptual-audit-v2/synthesis/ANTI-PATTERNS-REGISTRY.md
        value: "Authoritative registry with 'The Soul Test'"
        size: "19,493 bytes"
        status: T1_CANONICAL
        date: "Feb 4"
        evidence: "Consolidates 56KB into 19KB authoritative T1"

  - name: Perceptual Audit Chain
    steps:
      - file: design-extraction/component-system/archive/perceptual-audit-phase-2.5/
        value: "7 soul pieces, initial audit methodology (8 files)"
        status: SUPERSEDED
        date: "Feb 3"
        evidence: "MASTER-INDEX.md line 141"
      - file: design-extraction/component-system/perceptual-audit-v2/
        value: "5 refined soul pieces, full 11-component audit, 6 T1 synthesis files (176 files)"
        status: T1_CANONICAL
        date: "Feb 4"
        evidence: "Complete Phase 4A-E output; all showcase work derives from this"

critical_nodes:
  - file: docs-spa/app/showcase/explorations/density/DD-006-fractal.html
    inbound_refs: "20+"
    tier: T1
    blast_radius: CRITICAL
    notes: "Highest-referenced artifact in entire showcase; DD-F-006 (fractal self-similarity) is connective tissue of entire design system"

  - file: design-extraction/component-system/perceptual-audit-v2/synthesis/MASTER-SOUL-SYNTHESIS.md
    inbound_refs: "15+"
    tier: T1
    blast_radius: CRITICAL
    notes: "THE master soul document; defines 'The Unhurried Editor'; all components and explorations derive from this"

  - file: design-extraction/component-system/perceptual-audit-v2/synthesis/DESIGN-TOKEN-SUMMARY.md
    inbound_refs: "15+"
    tier: T1
    blast_radius: CRITICAL
    notes: "Complete :root block with every locked CSS variable; cited in DD HTML CSS comments"

  - file: docs-spa/app/showcase/checkpoints/RESEARCH-ACTIVE.md
    inbound_refs: "15+"
    tier: T3
    blast_radius: HIGH
    notes: "Central tracking; mandatory reading per CLAUDE.md; tracks all 337 R-findings"

  - file: docs-spa/app/showcase/checkpoints/SOUL-DISCOVERIES.md
    inbound_refs: "15+"
    tier: T3
    blast_radius: HIGH
    notes: "5 non-negotiable soul constraints; synced to provenance/"

  - file: docs-spa/app/showcase/DESIGN-SYSTEM/BACKBONE.md
    inbound_refs: "12+"
    tier: T2
    blast_radius: HIGH
    notes: "Master pipeline narrative; traces R3-023 through entire chain"

  - file: docs-spa/app/showcase/DESIGN-SYSTEM/provenance/PIPELINE-MANIFEST.md
    inbound_refs: "10+"
    tier: T2
    blast_radius: HIGH
    notes: "Master finding registry; links every finding to source, status, consumer"

  - file: docs-spa/app/showcase/DESIGN-SYSTEM/provenance/stage-2-density-dd/DD-outbound-findings.md
    inbound_refs: "12+"
    tier: T2
    blast_radius: HIGH
    notes: "DD-F-001 through DD-F-018 definitions; DD-F-006 (FRACTAL) marked as strongest"

  - file: docs-spa/app/showcase/DESIGN-SYSTEM/provenance/stage-2-density-dd/HANDOFF-DD-TO-OD.md
    inbound_refs: "8+"
    tier: T2
    blast_radius: HIGH
    notes: "Gate file between DD and OD stages; contains mandatory DD-F-006 fractal constraint"

  - file: docs-spa/app/showcase/research/R3-DENSITY-DIMENSIONS.md
    inbound_refs: "15+"
    tier: T2
    blast_radius: HIGH
    notes: "Foundational research for DD stage; 51 findings; 76% applied"

token_divergences:
  - token: "--sanrok-red / --color-primary"
    design_system_value: "#FF0000"
    t1_value: "#E83025"
    severity: CRITICAL
    resolution: "T1 DESIGN-TOKEN-SUMMARY.md is authoritative"

  - token: "--radius-* (all)"
    design_system_value: "0.25rem to 9999px"
    t1_value: "0 (always)"
    severity: CRITICAL
    resolution: "T1 soul piece #1: Sharp Edges Only"

  - token: "--shadow-* (all)"
    design_system_value: "6 tokens with actual shadow values"
    t1_value: "none (always)"
    severity: CRITICAL
    resolution: "T1 soul piece #4: No Shadows"

  - token: "type scale approach"
    design_system_value: "Perfect Fourth (1.333) ratio"
    t1_value: "editorial proportions with clamp()"
    severity: CRITICAL
    resolution: "T1 type-scale.css calibrated during perceptual audit"

intentional_duplicates:
  - original: showcase/research/R1-DOCUMENTATION-PATTERNS.md
    copy: showcase/DESIGN-SYSTEM/provenance/original-research/R1-DOCUMENTATION-PATTERNS.md
    size_match: true
    purpose: chain_integration

  - original: showcase/research/R2-CREATIVE-LAYOUTS.md
    copy: showcase/DESIGN-SYSTEM/provenance/original-research/R2-CREATIVE-LAYOUTS.md
    size_match: true
    purpose: chain_integration

  - original: showcase/research/R3-DENSITY-DIMENSIONS.md
    copy: showcase/DESIGN-SYSTEM/provenance/original-research/R3-DENSITY-DIMENSIONS.md
    size_match: true
    purpose: chain_integration

  - original: showcase/research/R4-AXIS-INNOVATIONS.md
    copy: showcase/DESIGN-SYSTEM/provenance/original-research/R4-AXIS-INNOVATIONS.md
    size_match: true
    purpose: chain_integration

  - original: showcase/research/R5-COMBINATION-THEORY.md
    copy: showcase/DESIGN-SYSTEM/provenance/original-research/R5-COMBINATION-THEORY.md
    size_match: true
    purpose: chain_integration

  - original: showcase/research/RESEARCH-SYNTHESIS.md
    copy: showcase/DESIGN-SYSTEM/provenance/original-research/RESEARCH-SYNTHESIS.md
    size_match: true
    purpose: chain_integration

  - original: showcase/checkpoints/SOUL-DISCOVERIES.md
    copy: showcase/DESIGN-SYSTEM/provenance/SOUL-DISCOVERIES.md
    size_match: true
    size_bytes: 10683
    purpose: archival_sync

  - original: showcase/checkpoints/RESEARCH-ACTIVE.md
    copy: showcase/DESIGN-SYSTEM/provenance/RESEARCH-ACTIVE.md
    size_match: true
    size_bytes: 30252
    purpose: archival_sync

  - original: showcase/checkpoints/FOUNDATION-REMEDIATION-SYNTHESIS.md
    copy: showcase/DESIGN-SYSTEM/provenance/stage-1-components/FOUNDATION-REMEDIATION-SYNTHESIS.md
    size_match: true
    size_bytes: 11420
    purpose: stage_archive

  - original: showcase/checkpoints/DD-REAUDIT-CHECKPOINT.md
    copy: showcase/DESIGN-SYSTEM/provenance/stage-2-density-dd/DD-REAUDIT-CHECKPOINT.md
    size_match: true
    size_bytes: 10749
    purpose: stage_archive

  - original: showcase/checkpoints/DD-REAUDIT-PERCEPTUAL-SYNTHESIS.md
    copy: showcase/DESIGN-SYSTEM/provenance/stage-2-density-dd/DD-REAUDIT-PERCEPTUAL-SYNTHESIS.md
    size_match: true
    size_bytes: 24673
    purpose: stage_archive

anomalies:
  - id: A-001
    description: "archive/tokens/effects.css defines non-zero border-radius and box-shadow tokens"
    severity: DANGEROUS
    location: design-extraction/archive/tokens/
    impact: "Agent reading without context would produce soul-violating CSS"

  - id: A-002
    description: "design-extraction/CLAUDE.md does not reference Phase 4 (perceptual-audit-v2)"
    severity: HIGH
    location: design-extraction/CLAUDE.md
    impact: "Agents entering via CLAUDE.md miss 6 T1 Foundation files"

  - id: A-003
    description: "design-extraction/README.md phase table is stale"
    severity: MODERATE
    location: design-extraction/README.md

  - id: A-004
    description: "R2-CREATIVE-LAYOUTS.md finding count discrepancy (78 claimed vs 27 in tables)"
    severity: LOW
    location: showcase/research/

  - id: A-005
    description: "medieval-blend.css sets tokens on :root, corrupting base tokens"
    severity: HIGH
    location: design-system/src/styles/themes/

  - id: A-006
    description: "205 node_modules files committed to repo"
    severity: LOW
    location: design-extraction/*/tests/

  - id: A-007
    description: "README.md (109K) contains hypothetical OD examples"
    severity: MODERATE
    location: showcase/DESIGN-SYSTEM/

  - id: A-008
    description: "Token drift in secondary values between tracking sheets and showcase tokens"
    severity: LOW
    location: "Between design-extraction tracking and showcase DESIGN-SYSTEM tokens"
