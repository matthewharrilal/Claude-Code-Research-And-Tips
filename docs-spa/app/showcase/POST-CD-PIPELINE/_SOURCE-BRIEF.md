# SOURCE BRIEF — Conversation Insights for Post-CD Documentation

This file captures EVERYTHING discussed in the conversation session that produced this documentation. Agents writing documents in this directory should read this file AND the two synthesis files referenced below for complete context.

## Source Files (READ THESE)

- **CD Synthesis**: `../knowledge-architecture/_cd-research/09-CD-SYNTHESIS-BRIEFING.md` (40KB, 645 lines) — comprehensive synthesis of what CD is
- **Migration Synthesis**: `../knowledge-architecture/_migration-research/10-MIGRATION-SYNTHESIS.md` (43KB, 780 lines) — comprehensive synthesis of post-CD pipeline
- **CD Raw Research** (8 files): `../knowledge-architecture/_cd-research/01-*.md` through `08-*.md`
- **Migration Raw Research** (9 files): `../knowledge-architecture/_migration-research/01-*.md` through `09-*.md`
- **HANDOFF-AD-TO-CD**: `../DESIGN-SYSTEM/provenance/stage-4-axis-ad/HANDOFF-AD-TO-CD.md` (234 lines)
- **R5-COMBINATION-THEORY**: `../DESIGN-SYSTEM/provenance/original-research/R5-COMBINATION-THEORY.md` (756 lines, 39 findings)
- **Stage-5 Placeholder**: `../DESIGN-SYSTEM/provenance/stage-5-combination-cd/STAGE-HEADER.md` (139 lines)
- **Combination Rules**: `../DESIGN-SYSTEM/patterns/combination-rules.md` (177 lines)

---

## SECTION 1: WHAT CD IS (Evolved Understanding)

### Original Plan
CD (Combination Dimension) was Stage 5 — the terminal exploration stage. 6 planned explorations:
- CD-001: Reasoning Inside Code (code blocks + reasoning callouts + step indicators)
- CD-002: Task Containing Decision (task steps + decision points + outcome branches)
- CD-003: File Tree with Callouts (file trees + annotation callouts + code previews)
- CD-004: Essence as Background (essence callouts as persistent background + foreground content)
- CD-005: All Callouts as Conversation (callout types in dialogue format)
- CD-006: Creative/Crown Jewel (designer's choice, most ambitious combination)

### Evolved Understanding
CD is NOT discovering a new dimension. It's a **stress test of the 3-way equivalence** (axis = organization = density = ATTENTION TOPOLOGY, established as AD-F-023). CD tests whether this identity holds under combination pressure — when multiple patterns coexist on the same page.

**The pipeline metaphor**: DD = vocabulary, OD = syntax, AD = geometry, CD = grammar. CD is writing the first sentences in the visual language.

### 8 Recommendations for CD Evolution
1. **CD-005 (All Callouts as Conversation) may be redundant** with OD-001. Evaluate during pre-build research whether it adds genuinely new combination knowledge.
2. **CD-006 should become a pilot migration of REAL content** — not a standalone HTML exploration. If it succeeds at 39-40/40 without requiring design system updates, that PROVES completeness. If it fails, the failure happens during CD where you CAN fix things.
3. **HANDOFF-CD-TO-MIGRATION should become a playbook** — not just "here's what we did" but "here's exactly how to do your job" with a pattern selection guide for every content type.
4. **Completeness Gate added** — CD can't declare done until: every component used in at least one exploration, every R-5 finding validated or deferred, density tolerance table complete, CD-006 pilot succeeded.
5. **Convention spec written BEFORE building** (proven in AD — AD-CONVENTION-SPEC was 822 lines, zero quality dialect divergence).
6. **Component chemistry validated** — 3 measurable properties (velocity, temperature, weight) governing combination behavior must be tested.
7. **5x5 transition grammar extended** — AD produced a 5x5 transition grammar. CD must validate and potentially extend it for combinations.
8. **R-5 is ~75-80% unapplied** — CD's PRIMARY research source. 39 findings covering harmony, tension, sequence, grouping, nesting, relationships, anti-patterns, recipes, quantitative guidelines.

### What CD Inherits (MANDATORY Consumed)
- 84 prior findings: 21 COMP-F, 18 DD-F, 17 OD-F, 28 AD-F
- 20 documented patterns
- R-5 Combination Theory (39 findings, ~75-80% unapplied)
- 27 R-2 findings (evaluated during AD, ~67% applied)
- Accumulated Identity v2 (produced by AD)
- Soul pieces: COMP-F-001 (sharp edges), COMP-F-002 (serif accents), COMP-F-003 (warm palette), COMP-F-004 (no shadows), COMP-F-005 (generous whitespace)
- Component chemistry: 4 combination rules (velocity sequencing, temperature flow, weight balance, semantic spacing)
- 3-way equivalence: ATTENTION TOPOLOGY (AD-F-023)
- DD-F-013: density tolerance (gate finding for CD)
- Convention spec pattern from AD

### What CD Produces
- 15-25 CD-F findings
- 6 HTML explorations (~400-600KB)
- CD Convention Spec
- Validated/extended transition grammar
- Combination recipes (from R-5 testing)
- ACCUMULATED-IDENTITY-v3
- HANDOFF-CD-TO-MIGRATION (evolved into playbook)
- Completeness certification

### Expected Scale
- ~18-20 agents, ~4-5 hours wall time
- Team structure: similar to AD (convention spec first, then parallel builders, then audit)

---

## SECTION 2: THE 5 MISSING POST-CD PHASES

Research discovered 5 phases between CD completion and migration start that nobody had originally planned:

### Phase B: Component Extraction + Pattern Library (~6-10 hours)
**The "printing press" phase.** Bridges the gap between 15,000 lines of research prose / 30 HTML explorations and implementable React/JSX code. Without this, migration degrades to "apply soul tokens, keep existing structure" — using 0% of OD/AD/CD research.

Produces:
- Reusable layout primitives (React components encoding the patterns)
- Pattern library (documented, composable components)
- Soul token system (CSS custom properties)
- Density rhythm implementations
- Axis layout templates

### Phase F: Content Analysis (~2-4 hours)
**Reading all the texts that need translation.** Inventory all ~75+ documentation pages, classify each by content type and attention topology, assign patterns.

Produces:
- Complete content inventory with classifications
- Pattern assignments per page
- Dependency map (pages that reference each other)
- Priority ordering (which pages to migrate first)

### Phase E: Migration Playbook v2 (~3-4 hours)
**The translation guide.** Replaces the existing 265-line CSS-only migration guide with a comprehensive process specification. This phase produces TWO outputs:

1. **Migration Execution Spec** — comprehensive spec for the one-time migration project (like the Master AD Execution Spec, ~1,400 lines). Team structure, task decomposition, quality gates.
2. **Ingestion Operational Spec** — lightweight, single-agent spec for processing new pages on an ongoing basis. Derivative of #1, stripped to what one agent needs.

### Phase G: Pilot Migration (~3-5 hours)
**Translating a few paragraphs to test.** 2-3 real documentation pages migrated through the full pipeline. Tests:
- Does the pipeline actually work end-to-end?
- Does the output match expectations?
- Does the printing press produce legible pages?
- What breaks that the theory didn't predict?

### Phase H: Playbook Refinement (~1-2 hours)
**Updating from pilot learnings.** Every discovery from pilot migration feeds back into the playbook. The pipeline specification gets battle-tested corrections.

### === DESIGN SYSTEM FROZEN HERE ===
After Phase H: No new tokens. No new patterns. No soul changes. Everything below uses ONLY what exists above. This is the user's NON-NEGOTIABLE requirement.

### Phase I+J: Full Migration + Verification (~15-40 hours)
All ~75+ pages migrated through the pipeline. Each page goes through the 6-phase per-page process. Discoveries documented but do NOT change the system — they enrich the application notes.

---

## SECTION 3: THE PER-PAGE MIGRATION PIPELINE (Concrete Walkthrough)

This was developed through conversation. A concrete example of what happens when "Setting Up Authentication" enters the pipeline:

### Phase 1: Page Analysis (Classification)
The agent reads the content — not the HTML, but what the content IS. It asks: what is this page's job? What attention shape does this content need?

For "Setting Up Authentication":
- Primary classification: **Tutorial** (step-by-step, "how do I do X")
- Secondary: has a troubleshooting FAQ at the end (Q&A style)
- Classification: **HYBRID** — primarily tutorial with Q&A tail
- Content inventory: 3 code blocks, 1 callout, 8 steps, 1 troubleshooting section with 4 Q&As
- Key insight: there's a pivotal moment at step 5 where the auth token is first generated — this is the CLIMAX

Classification is NOT a guess. It's deterministic from the accumulated identity. Tutorial → task-based organization (OD established this). Hybrid tail → transition grammar from AD handles the shift.

### Phase 2: Pattern Selection
~60% deterministic (from rules DD/OD/AD/CD established), ~40% judgment (accumulated identity reasoning):

**Deterministic:**
- Tutorial → CRESCENDO density (content builds toward climax)
- Tutorial → F-Pattern axis (eye descends left spine, scans right into code)
- Troubleshooting tail → PULSE rhythm (alternating dense/sparse Q&A pairs)
- Fractal self-similarity mandatory (DD-F-006) at 5 scales

**Judgment:**
- WHERE does CRESCENDO peak? Agent reads content, determines step 5 = climax
- HOW does CRESCENDO→PULSE transition happen? Transition grammar says bridge needed. Agent decides: 64px recovery zone
- SHOULD there be an Essence Callout? Agent reads step 5, decides YES — key insight deserves serif treatment

### Phase 3: Composition Design (Spatial Plan)
The agent sketches the page before building:

```
HERO — sparse, generous, 64-80px padding. Title + orientation.
PREREQUISITES — compact ISLANDS, each prereq a discrete bordered block.
STEPS 1-4 — building density. Spacing compresses: 64px → 48px → 32px. Code blocks grow.
STEP 5 — CLIMAX. Densest. Tightest spacing (24px). Largest code block. Border-left accent.
ESSENCE CALLOUT — serif, set apart. Recovery breath.
STEPS 6-8 — exhale. Spacing reopens: 24px → 40px → 48px.
BRIDGE ZONE — 64px recovery. Visual signal: tutorial done, something different coming.
TROUBLESHOOTING — PULSE. Q/A pairs: dense question, sparse answer.
FOOTER — recovery zone, 64-80px.
```

### Phase 4: Build
Construct using extracted components from the pattern library. Not writing CSS from scratch — composing from existing pieces. Soul tokens baked into every component. Component sequencing follows velocity and temperature rules from CD.

### Phase 5: Perceptual Audit
7-gate audit protocol. 28 questions. Checks at 1440px AND 768px. Verifies:
- CRESCENDO rhythm perceptible on scroll
- Fractal self-similarity at 5 scales (page → section → step → component → character)
- Soul compliance: zero border-radius, zero box-shadow, zero drop-shadow
- Component chemistry: no temperature collisions
- F-Pattern guides eye correctly

If fails a gate → back to Phase 4 (not Phase 1 — classification was right, execution needs adjustment).

### Phase 6: Discovery Documentation
Records application notes:
- "3-code-block crescendo: spacing 48→32→24 works well for progressive complexity"
- "CRESCENDO-to-PULSE transition needs at least 64px bridge, 48px felt too abrupt"
- "Essence Callout after climax step highly effective — consider this a recipe"

These feed into accumulated intelligence. Page 50 benefits from pages 1-49 learnings. Nothing about the system itself changed.

---

## SECTION 4: WHAT CHANGES FOR NEW CONTENT VS EXISTING CONTENT

Almost nothing. Pipeline is identical. Only difference is Step 0: where content comes from.

- Existing pages: content already exists as HTML/markdown. Agent reads what's there.
- New content: someone writes content first (or CMS, API, etc.). Then enters same pipeline at Phase 1.

The design system doesn't care when content was written. It reads content, classifies attention topology, selects patterns, composes, builds, audits. The printing press doesn't ask when the manuscript was written.

**Key insight: the pipeline input is CONTENT, not HTML.** You're not restyling an existing page. You're taking the MEANING and expressing it through the visual language.

New content ingestion = same pipeline, lighter oversight. Migration is a PROJECT (one-time, team). Ingestion is an OPERATION (ongoing, single agent).

| Dimension | Migration (project) | Ingestion (operation) |
|---|---|---|
| Volume | ~75 pages, known upfront | Unknown, one at a time |
| Oversight | Full team, heavy review | Lightweight, maybe 1 agent |
| Consistency | All done in one campaign | Must match pages done months ago |
| Context | Full accumulated identity loaded | Needs to load same context cold |
| Discovery | Feeds back into playbook | Feeds into application notes |

---

## SECTION 5: THE OPERATIONAL WRAPPER CONCEPT

### Who/What Executes the Pipeline?
Every post-CD phase produces DOCUMENTATION. The pipeline isn't separate software — it's an agent with the right context. A Claude instance loads the playbook, accumulated identity, pattern library, component library, and perceptual audit skill — and it BECOMES the pipeline.

### The Pipeline Is Emergent, Not Separate
Every post-CD phase produces a piece of the pipeline:
- Component Extraction → building blocks
- Content Analysis → classification engine
- Migration Playbook → process specification
- Pilot Migration → worked examples
- Playbook Refinement → battle-tested version

When all five are done, the pipeline EXISTS. No separate assembly phase.

### What's Actually Missing: The Operational Wrapper
After migration, ongoing ingestion needs a **one-page operational spec** (~50-100 lines):
"You are receiving a new documentation page. Here is what you do:
1. Load these 4 files [paths]
2. Classify this content [rules]
3. Select patterns [lookup table]
4. Compose using these components [library path]
5. Build [conventions ref]
6. Run perceptual audit [skill invocation]
7. Record discoveries [append to file]
8. Output [write here]"

This is a natural output of the Playbook Refinement phase — not a separate phase.

### Two Outputs from the Playbook Phase
1. **Migration Execution Spec** — comprehensive spec for the one-time migration (team structure, task decomposition, ~1,400 lines)
2. **Ingestion Operational Spec** — lightweight single-agent spec for ongoing use (derivative of #1, ~50-100 lines)

---

## SECTION 6: THE WRITTEN LANGUAGE ANALOGY

This analogy was developed in conversation to explain the ideological depth of each stage:

### DD = Inventing the Alphabet
Not letters — rhythm marks. DD discovered that visual density has a finite set of patterns: CRESCENDO, PULSE, TIDAL, WAVE, ISLANDS, GEOLOGICAL, BOOKENDS. These are atomic units of how a page BREATHES. Before DD: "make it look good." After DD: "this page uses CRESCENDO because the content builds." The difference between scribbling and writing — symbols that mean specific things.

**Implication**: every page ever built uses these rhythm marks. They don't change. They're the alphabet.

### OD = Discovering Word Formation
Given rhythm marks, how do they combine into recognizable TYPES of expression? A tutorial is a "word" — specific structure (task-based, progressive disclosure). An API reference is a different "word" (spatial organization, random-access). OD proved the same alphabet forms DIFFERENT words depending on content structure. CRESCENDO in a tutorial feels different from CRESCENDO in an architecture overview — like "a" in "father" vs "cat."

**Implication**: you now have a vocabulary. New content gets classified as one of these word-types. Classification determines downstream behavior.

### AD = The Discovery That Changed Everything
AD was supposed to be spatial layout. But it discovered spatial arrangement isn't separate from density or organization. **The writing direction IS part of what the words mean.** F-Pattern isn't "put things in an F shape" — it IS progressive disclosure. Z-sweep IS one PULSE beat. Grid cells ARE dense islands.

3-way equivalence: axis = organization = density = ATTENTION TOPOLOGY. One thing, three lenses. You're not choosing three independent variables — you're choosing ONE topology expressed across three dimensions.

**Implication**: why every page MUST look different. You're expressing different attention topologies. Tutorial and reference doc have fundamentally different topologies. Sameness would be a bug.

### CD = Writing the First Sentences
Alphabet (DD), words (OD), writing direction as meaning (AD). Now: can you write a coherent sentence? CD tests whether components combine grammatically. Can CRESCENDO + F-Pattern + Narrative coexist? What happens when Bento Grid cells contain PULSE rhythm? 6 CD explorations = 6 test sentences.

**Implication**: CD is the last time the language can change. After CD, the language is what it is.

### Post-CD Phases in the Analogy
- **Component Extraction = building a printing press.** Handwriting → movable type.
- **Content Analysis = reading texts that need translation.**
- **Migration Playbook = the translation guide.**
- **Pilot Migration = translating a few paragraphs to test.**
- **FREEZE = the language is complete.** No new letters, no new grammar.
- **Full Migration = translating the library.**

### New Content in the Analogy
A complete language can express any new thought in its domain without changing. English didn't need new letters for the internet. But English DID create new words (blog, tweet) — not grammar changes, but vocabulary expansions. Similarly, the design system might discover new component combinations (new sentences), but the alphabet, grammar, and writing direction stay the same.

What GROWS isn't the system — it's the documentation of applications. The system is frozen. Its demonstrated capabilities expand forever.

---

## SECTION 7: WHY SAMENESS IS ARCHITECTURALLY IMPOSSIBLE

Three forces prevent uniform output:

### Force 1: Content Classification Is the Entry Point
Different content types enter through different doors and never converge:

| Content Type | Organization | Density | Axis | Feels Like |
|---|---|---|---|---|
| "How do I do X?" (steps) | Task-Based | ISLANDS + BOOKENDS | Bento Grid | Recipe cards on counter |
| "How does X work?" (progressive) | Narrative | CRESCENDO | F-Pattern | A well-paced article |
| "What is X?" (Q&A) | Conversational | PULSE + TIDAL | Z-Pattern | Interview transcript |
| "Should I use X?" (evaluation) | Confidence-Based | GEOLOGICAL | Spiral | Geological cross-section |
| "What's available?" (map) | Spatial | WAVE + ISLANDS | Choreography | Museum floor plan |
| Multiple of above | Creative | ALL (FRACTAL) | Compound | Magazine feature |

### Force 2: Fractal Self-Similarity Looks DIFFERENT Per Pattern
F-Pattern "sparse" = generous 64px padding and large headings.
Bento Grid "sparse" = empty grid cells and wide gaps.
Same principle, visually different.

### Force 3: Component Combination Variety
Even within same archetype, pages differ based on component count and sequencing. Tutorial with 6 code blocks looks different from tutorial with 3 code blocks and 5 callouts — even though both use CRESCENDO + F-Pattern.

---

## SECTION 8: WHERE EMERGENCE CONTINUES

5 specific points where dynamicness continues during migration:

1. **Hybrid content types** — Real pages are rarely pure archetypes. "Getting Started" = part tutorial, part FAQ. Transition grammar theorizes this; real pages test and sometimes extend it.
2. **Content-pattern tension** — Some content resists its assigned pattern. 12-scenario troubleshooting guide might outgrow PULSE rhythm. The tension IS the discovery.
3. **Scale effects** — Explorations are standalone. Migration happens in a SITE with shared navigation. 5th fractal scale (navigation) never tested in real multi-page context.
4. **New component combinations** — R5 has 6 recipes. Migration applies across 75+ pages. New effective combinations will emerge (like "Diff Sandwich" — code/reasoning/code for before/after patterns).
5. **Soul constraints as generative force** — When border-radius: 0 forced angular spirals, it discovered geological stratification. Real pages will have more moments where constraints generate unexpected solutions.

The design system GROWS more capable through migration — not by changing rules, but by accumulating documented applications. Page 1 is pure vocabulary application. By page 50: 20 refinements, 3 extensions, 2 new recipes.

---

## SECTION 9: USER'S NON-NEGOTIABLE REQUIREMENTS

### The Freeze Guarantee
"Once we start migrating actual documentation pages, I don't want to have to update the design system or anything like it. I want all this work, all these layerings, all these weeks of work to be what it is."

This works because:
1. Intermediate phases build the bridge. By migration start: extracted components, content inventory, tested playbook, 2-3 pilot pages proving it works.
2. Accumulated identity gives REASONING, not just rules. When rules don't cover a case, reasoning still does. Agent can make NEW decisions consistent with prior ones because system teaches HOW TO THINK, not just WHAT TO DO.

**What's frozen**: tokens, soul pieces, patterns, findings, convention spec.
**What can evolve**: implementation details, playbook wording, page classifications, verification checklists, application notes.

### The Variety Expectation
User explicitly expects every page to look different — not stamped from templates but expressing different attention topologies while sharing family resemblance through soul pieces.

### Documentation Requirement
User wants heavy documentation so that no future Claude instance or human operates from inference. Everything should be explicit, organized, and navigable.

---

## SECTION 10: COMPLETE ROADMAP

| Phase | Hours | What It Produces |
|---|---|---|
| CD | 4-5 | 6 explorations, identity v3, completeness gate |
| Component Extraction | 6-10 | Reusable layout primitives, pattern library |
| Content Analysis | 2-4 | 75-page inventory with pattern assignments |
| Migration Playbook | 3-4 | Complete per-page migration process + operational spec |
| Pilot Migration | 3-5 | 2-3 validated pages, process proof |
| Playbook Refinement | 1-2 | Updated process from pilot learnings |
| **FREEZE LINE** | | |
| Full Migration | 15-40 | All 75+ pages migrated with provenance |

**Total: ~34-68 hours across 8-13 sessions**

---

## OUTPUT DIRECTORY STRUCTURE

The agents in this team are producing:

```
docs-spa/app/showcase/POST-CD-PIPELINE/
├── CLAUDE.md                        # Agent navigation (auto-read on entry)
├── README.md                        # Comprehensive overview — the main document
├── 01-CD-EVOLVED-VISION.md          # What CD looks like with all accumulated learnings
├── 02-POST-CD-PHASES.md             # The 5+ intermediate phases between CD and migration
├── 03-MIGRATION-PIPELINE.md         # The per-page 6-phase pipeline (concrete walkthrough)
├── 04-CONTENT-INGESTION.md          # New content ingestion + operational wrapper
├── 05-COMPLETE-ROADMAP.md           # Full timeline CD → Migration with estimates
├── 06-KEY-INSIGHTS.md               # Deeper insights (language analogy, emergence, sameness impossibility)
└── _SOURCE-BRIEF.md                 # This file (source material reference)
```

Each file should be comprehensive, well-organized, with clear headers and sections. Use the hybrid format: structured narrative docs with provenance-style headers for agent navigation.
