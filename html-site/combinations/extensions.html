<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Extensions as Composition Layer - Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .bionic { font-weight: 700; }

    /* Extension Cards */
    .extension-card {
      background: white;
      border: 1px solid var(--border);
      border-radius: 12px;
      margin: 20px 0;
      overflow: hidden;
    }
    .extension-header {
      background: var(--bg-secondary);
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 12px;
    }
    .extension-name {
      font-size: 1.1em;
      font-weight: 600;
      color: var(--heading);
      margin: 0;
    }
    .extension-author {
      font-size: 0.85em;
      color: var(--text-muted);
    }
    .extension-content {
      padding: 20px;
    }
    .extension-meta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      font-size: 0.85em;
    }
    .stars-badge {
      background: #fdf6e9;
      color: var(--warning);
      padding: 4px 8px;
      border-radius: 4px;
      font-weight: 600;
    }

    /* Tier Badges */
    .tier-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 0.75em;
      font-weight: 600;
      text-transform: uppercase;
    }
    .tier-official { background: #e8f5e8; color: var(--success); }
    .tier-community { background: #e8f4f4; color: var(--accent); }
    .tier-standalone { background: #fdf6e9; color: var(--warning); }
    .tier-mcp { background: #f0ebe3; color: var(--heading); }

    /* Primitive Table */
    .primitive-table td:first-child {
      font-weight: 600;
      color: var(--heading);
    }

    /* Composition Pattern Cards */
    .pattern-card {
      background: linear-gradient(135deg, #f5f0e8 0%, #fefcf3 100%);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px 24px;
      margin: 16px 0;
    }
    .pattern-name {
      font-weight: 600;
      color: var(--heading);
      margin: 0 0 12px 0;
    }

    /* Combo Cards */
    .combo-card {
      background: white;
      border: 2px solid var(--accent);
      border-radius: 12px;
      padding: 20px 24px;
      margin: 20px 0;
    }
    .combo-title {
      font-weight: 600;
      color: var(--accent);
      margin: 0 0 12px 0;
    }

    /* Sample Output */
    .sample-output {
      background: #1a1a1a;
      color: #e0e0e0;
      border-radius: 8px;
      padding: 16px 20px;
      font-family: 'SF Mono', monospace;
      font-size: 0.85em;
      line-height: 1.6;
      margin: 16px 0;
      overflow-x: auto;
    }

    /* Gap Table */
    .gap-table td:first-child {
      font-weight: 600;
    }

    /* Quick Install */
    .quick-install {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }
    .quick-install h4 {
      margin-top: 0;
      color: var(--heading);
    }

    .copy-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      background: var(--accent);
      color: white;
      border: none;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 0.75em;
      cursor: pointer;
    }
    .code-block-wrapper {
      position: relative;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Breadcrumb Navigation -->
    <nav class="nav-breadcrumb">
      <a href="../index.html">Home</a>
      <span>/</span>
      <a href="index.html">Combinations</a>
      <span>/</span>
      Extensions
    </nav>

    <!-- You Are Here Context Box -->
    <div class="you-are-here" style="background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%); border-left: 4px solid var(--accent); border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
      <h3 style="margin-top: 0; color: var(--accent);"><span class="bionic">You</span> Are <span class="bionic">Her</span>e</h3>
      <p style="margin-bottom: 0;"><strong><span class="bionic">Con</span>text:</strong> Extensions transform Claude Code from a single-agent tool into a <span class="bionic">com</span>posable platform. This page maps the extension ecosystem and shows how to <span class="bionic">com</span>bine extensions as building blocks.</p>
      <p style="margin-bottom: 0; margin-top: 12px;"><strong><span class="bionic">Thi</span>nk of extensions as:</strong> LEGO blocks. Each provides one capability. Power comes from combination.</p>
    </div>

    <h1><span class="bionic">Ext</span>ensions as <span class="bionic">Com</span>position <span class="bionic">Lay</span>er</h1>

    <p class="conversational-lead"><strong>Single Extension = Capability</strong><br><strong>Multiple Extensions = Workflow</strong><br><strong>Coordinated Extensions = System</strong></p>

    <!-- Table of Contents -->
    <div class="toc">
      <div class="toc-title"><span class="bionic">Tab</span>le of <span class="bionic">Con</span>tents</div>
      <ul>
        <li><a href="#ecosystem">Plugin Ecosystem Overview</a></li>
        <li><a href="#key-extensions">Key Extension Types</a></li>
        <li><a href="#primitives">Extensions as Primitives</a></li>
        <li><a href="#composition">Extension Composition Patterns</a></li>
        <li><a href="#proven-combos">Proven Extension Combinations</a></li>
        <li><a href="#building">Building Custom Extensions</a></li>
        <li><a href="#gaps">Extension Gaps</a></li>
        <li><a href="#quick-ref">Quick Reference</a></li>
      </ul>
    </div>

    <hr class="section-divider divider-context">

    <!-- Plugin Ecosystem Overview -->
    <h2 id="ecosystem"><span class="bionic">Plu</span>gin <span class="bionic">Eco</span>system <span class="bionic">Ove</span>rview</h2>

    <h3><span class="bionic">Eco</span>system <span class="bionic">Tie</span>rs</h3>
    <table>
      <thead>
        <tr>
          <th>Tier</th>
          <th>Description</th>
          <th>Examples</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="tier-badge tier-official">Official Anthropic</span></td>
          <td>Maintained by Claude Code team</td>
          <td>code-simplifier, ralph-wiggum</td>
        </tr>
        <tr>
          <td><span class="tier-badge tier-community">Community Marketplace</span></td>
          <td>Installable via /plugin marketplace</td>
          <td>claude-mem, claude-hud</td>
        </tr>
        <tr>
          <td><span class="tier-badge tier-standalone">Standalone Tools</span></td>
          <td>External utilities that complement Claude Code</td>
          <td>rpai, CC Mirror, Infinite Orchestra</td>
        </tr>
        <tr>
          <td><span class="tier-badge tier-mcp">MCP Servers</span></td>
          <td>Protocol-compliant tool integrations</td>
          <td>filesystem, github, memory, fetch</td>
        </tr>
      </tbody>
    </table>

    <h3><span class="bionic">Ins</span>tallation <span class="bionic">Pat</span>terns</h3>
    <div class="code-block-wrapper">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code># Official plugins
/plugin install code-simplifier

# Marketplace plugins
/plugin marketplace add jarrodwatts/claude-hud
/plugin install claude-hud

# MCP servers (in settings.json)
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": { "GITHUB_PERSONAL_ACCESS_TOKEN": "..." }
    }
  }
}</code></pre>
    </div>

    <h3><span class="bionic">Plu</span>gin <span class="bionic">Dis</span>covery <span class="bionic">Res</span>ources</h3>
    <ul>
      <li><strong>Sub-Agents Directory:</strong> <a href="https://sub-agents.directory">sub-agents.directory</a> (200+ prompts)</li>
      <li><strong>MCP Server Registry:</strong> <a href="https://mcp.so">mcp.so</a>, <a href="https://smithery.ai">smithery.ai</a></li>
      <li><strong>VoltAgent Collection:</strong> github.com/VoltAgent/awesome-claude-code-subagents</li>
    </ul>

    <hr class="section-divider divider-procedure">

    <!-- Key Extension Types -->
    <h2 id="key-extensions"><span class="bionic">Key</span> <span class="bionic">Ext</span>ension <span class="bionic">Typ</span>es</h2>

    <!-- Claude HUD -->
    <div class="extension-card">
      <div class="extension-header">
        <div>
          <h3 class="extension-name"><span class="bionic">Cla</span>ude <span class="bionic">HUD</span></h3>
          <div class="extension-author">@jarrodwatts</div>
        </div>
        <div class="extension-meta">
          <span class="tier-badge tier-community">Community</span>
          <span class="stars-badge">1.8K stars</span>
        </div>
      </div>
      <div class="extension-content">
        <p><span class="bionic">Rea</span>l-time visibility into Claude Code sessions.</p>

        <h4><span class="bionic">Wha</span>t It <span class="bionic">Sho</span>ws</h4>
        <ul>
          <li>Context percentage with color-coded bar (green/yellow/red)</li>
          <li>Model in use, plan tier, session duration</li>
          <li>Tool activity (spinners for running, checkmarks for complete)</li>
          <li>Subagent status and elapsed time</li>
          <li>Todo progress counter</li>
        </ul>

        <h4><span class="bionic">Sam</span>ple <span class="bionic">Out</span>put</h4>
        <div class="sample-output">[Opus 4.5] ########-- 35% | 1 MCPs | timer 1m
check Read x2 | check WebFetch x1 | check Edit x1</div>

        <h4><span class="bionic">Ins</span>tallation</h4>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <pre><code>/plugin marketplace add jarrodwatts/claude-hud
/plugin install claude-hud
/claude-hud:setup</code></pre>
        </div>

        <h4><span class="bionic">Use</span> in <span class="bionic">Com</span>positions</h4>
        <ul>
          <li>Monitor Ralph loops for context exhaustion</li>
          <li>Debug multi-agent workflows</li>
          <li>Track token budget during long sessions</li>
        </ul>
      </div>
    </div>

    <!-- Claude-Mem -->
    <div class="extension-card">
      <div class="extension-header">
        <div>
          <h3 class="extension-name"><span class="bionic">Cla</span>ude-<span class="bionic">Mem</span></h3>
          <div class="extension-author">@thedotmack</div>
        </div>
        <div class="extension-meta">
          <span class="tier-badge tier-community">Community</span>
        </div>
      </div>
      <div class="extension-content">
        <p><span class="bionic">Per</span>sistent memory across sessions via semantic compression.</p>

        <h4><span class="bionic">Key</span> <span class="bionic">Sta</span>ts</h4>
        <table>
          <tr>
            <td>Token usage</td>
            <td>Up to 95% fewer per session</td>
          </tr>
          <tr>
            <td>Tool calls before limit</td>
            <td>~20x more</td>
          </tr>
          <tr>
            <td>Storage</td>
            <td>Local SQLite + Chroma vector DB</td>
          </tr>
        </table>

        <h4><span class="bionic">Arc</span>hitecture</h4>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <pre><code>Claude Code Session
  -> Lifecycle Hooks capture events
    -> Worker Service (port 37777)
      -> SQLite (raw data)
      -> Chroma Vector DB (embeddings)
      -> Claude Agent SDK (compression)
    -> Future Session
      -> Auto-inject relevant context</code></pre>
        </div>

        <h4><span class="bionic">Pri</span>vacy <span class="bionic">Con</span>trols</h4>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <pre><code><private>
API_KEY=sk-xxx
DATABASE_PASSWORD=secret
</private></code></pre>
        </div>

        <h4><span class="bionic">Use</span> in <span class="bionic">Com</span>positions</h4>
        <ul>
          <li>Long-term project continuity</li>
          <li>Multi-session feature development</li>
          <li>Team knowledge persistence</li>
        </ul>
      </div>
    </div>

    <!-- Code-Simplifier -->
    <div class="extension-card">
      <div class="extension-header">
        <div>
          <h3 class="extension-name"><span class="bionic">Cod</span>e-<span class="bionic">Sim</span>plifier</h3>
          <div class="extension-author">@bcherny - Official Anthropic</div>
        </div>
        <div class="extension-meta">
          <span class="tier-badge tier-official">Official</span>
        </div>
      </div>
      <div class="extension-content">
        <p>The actual tool the Claude Code team uses internally for code polish.</p>

        <h4><span class="bionic">Wha</span>t It <span class="bionic">Doe</span>s</h4>
        <ul>
          <li>Simplifies code structure</li>
          <li>Reduces unnecessary complexity and nesting</li>
          <li>Eliminates redundant code and abstractions</li>
          <li>Improves variable and function names</li>
          <li>Removes obvious comments</li>
          <li><strong>Preserves functionality</strong> (stylistic changes only)</li>
        </ul>

        <h4><span class="bionic">Wor</span>kflow <span class="bionic">Pat</span>tern</h4>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <pre><code>Feature Agent -> Implementation Agent -> Test Agent -> Code-Simplifier -> Commit</code></pre>
        </div>

        <h4><span class="bionic">Usa</span>ge</h4>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <pre><code>Use the code simplifier agent to clean up this code</code></pre>
        </div>
      </div>
    </div>

    <!-- Ralph Wiggum -->
    <div class="extension-card">
      <div class="extension-header">
        <div>
          <h3 class="extension-name"><span class="bionic">Ral</span>ph <span class="bionic">Wig</span>gum Plugin</h3>
          <div class="extension-author">Official Anthropic</div>
        </div>
        <div class="extension-meta">
          <span class="tier-badge tier-official">Official</span>
        </div>
      </div>
      <div class="extension-content">
        <p><span class="bionic">Sel</span>f-referential loop for autonomous task completion.</p>

        <h4><span class="bionic">Qui</span>ck <span class="bionic">Sta</span>rt</h4>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <pre><code>/ralph-loop "Build a REST API for todos. Requirements: CRUD operations, input validation, tests. Output <promise>COMPLETE</promise> when done." --completion-promise "COMPLETE" --max-iterations 50</code></pre>
        </div>

        <h4><span class="bionic">How</span> It <span class="bionic">Wor</span>ks</h4>
        <ol>
          <li>You run <code>/ralph-loop</code> once with task description</li>
          <li>Claude Code works on task</li>
          <li>Stop hook blocks exit</li>
          <li>Stop hook feeds SAME prompt back</li>
          <li>Repeats until completion promise found</li>
        </ol>

        <h4><span class="bionic">Bes</span>t <span class="bionic">Pra</span>ctices</h4>
        <ul>
          <li>Clear completion criteria (not "make it good")</li>
          <li>Incremental goals (phases, not monoliths)</li>
          <li>Self-correction instructions (TDD pattern)</li>
          <li>Escape hatches (<code>--max-iterations</code>)</li>
        </ul>
      </div>
    </div>

    <!-- CC Mirror -->
    <div class="extension-card">
      <div class="extension-header">
        <div>
          <h3 class="extension-name"><span class="bionic">CC</span> <span class="bionic">Mir</span>ror</h3>
          <div class="extension-author">@nummanali</div>
        </div>
        <div class="extension-meta">
          <span class="tier-badge tier-standalone">Standalone</span>
        </div>
      </div>
      <div class="extension-content">
        <p><span class="bionic">Unl</span>ocks Claude Code's disabled multi-agent orchestration feature.</p>

        <h4><span class="bionic">Set</span>up (3 commands)</h4>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <pre><code>npx cc-mirror quick --provider mirror --name mclaude
mclaude
"Load the orchestration skill and initiate"</code></pre>
        </div>

        <h4><span class="bionic">Wha</span>t You <span class="bionic">Get</span></h4>
        <ul>
          <li>Agents break down tasks</li>
          <li>Track dependencies/blockers</li>
          <li>Collaborate on implementation</li>
          <li>Natural language direction</li>
        </ul>

        <h4><span class="bionic">Sam</span>ple <span class="bionic">Out</span>put</h4>
        <div class="sample-output">Agent #1 completed! It chose FastAPI (Python)

Task List:
[x] #1 Design API architecture
[ ] #2 Create project structure
[ ] #3 Implement data models
[blocked] #4 Implement REST API endpoints (blocked by #3)</div>
      </div>
    </div>

    <!-- rpai -->
    <div class="extension-card">
      <div class="extension-header">
        <div>
          <h3 class="extension-name"><span class="bionic">rpa</span>i</h3>
          <div class="extension-author">@radoslav11</div>
        </div>
        <div class="extension-meta">
          <span class="tier-badge tier-standalone">Standalone</span>
        </div>
      </div>
      <div class="extension-content">
        <p><span class="bionic">TUI</span> tool for tmux that monitors multiple parallel AI agents.</p>

        <h4><span class="bionic">Ins</span>tallation</h4>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <pre><code>cargo install rpai
rpai  # Run in tmux session</code></pre>
        </div>

        <h4><span class="bionic">Wha</span>t It <span class="bionic">Doe</span>s</h4>
        <ul>
          <li>Scans tmux panes for running agents (Claude, Cursor, Codex)</li>
          <li>Displays TUI with agent list, status, output previews</li>
          <li>Jump to any agent with selection</li>
          <li>Mouse support</li>
        </ul>

        <div class="sample-output">+-------------------------------------------+
|  RPAI - Agent Monitor                      |
+-------------------------------------------+
|  [1] CURSOR AGENT    ====== running        |
|  [2] CLAUDE AGENT    ====== running        |
|  [3] CODEX AGENT     ====== idle           |
+-------------------------------------------+
|  Preview: Claude is executing Python...    |
|  > import pandas as pd                     |
+-------------------------------------------+</div>
      </div>
    </div>

    <hr class="section-divider divider-checkpoint">

    <!-- Extensions as Primitives -->
    <h2 id="primitives"><span class="bionic">Ext</span>ensions as <span class="bionic">Pri</span>mitives</h2>

    <div class="decision-point">
      <p><strong><span class="bionic">Ext</span>ensions are not monolithic features</strong> - they are <strong><span class="bionic">com</span>posable primitives</strong> that stack.</p>
    </div>

    <table class="primitive-table">
      <thead>
        <tr>
          <th>Extension Type</th>
          <th>Primitive Capability</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Claude HUD</td>
          <td>Observability</td>
        </tr>
        <tr>
          <td>Claude-Mem</td>
          <td>Persistence</td>
        </tr>
        <tr>
          <td>Code-Simplifier</td>
          <td>Polish</td>
        </tr>
        <tr>
          <td>Ralph</td>
          <td>Iteration</td>
        </tr>
        <tr>
          <td>CC Mirror</td>
          <td>Coordination</td>
        </tr>
        <tr>
          <td>MCP Servers</td>
          <td>External Integration</td>
        </tr>
        <tr>
          <td>Hooks</td>
          <td>Event Automation</td>
        </tr>
      </tbody>
    </table>

    <hr class="section-divider divider-procedure">

    <!-- Extension Composition Patterns -->
    <h2 id="composition"><span class="bionic">Ext</span>ension <span class="bionic">Com</span>position <span class="bionic">Pat</span>terns</h2>

    <!-- Pattern 1: Chain -->
    <div class="pattern-card">
      <h3 class="pattern-name"><span class="bionic">Pat</span>tern 1: Chain Extensions (A -> B -> C)</h3>
      <p><strong>Ralph + Code-Simplifier Chain:</strong></p>
      <ol>
        <li>Ralph iterates on feature implementation</li>
        <li>On completion, trigger code-simplifier</li>
        <li>Final polish before commit</li>
      </ol>
      <div class="code-block-wrapper">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>/ralph-loop "Build user auth. When done, use code-simplifier agent. Output <promise>COMPLETE</promise> after polish."</code></pre>
      </div>
    </div>

    <!-- Pattern 2: Parallel -->
    <div class="pattern-card">
      <h3 class="pattern-name"><span class="bionic">Pat</span>tern 2: Parallel Extensions</h3>
      <p><strong>Multi-Agent with Monitoring:</strong></p>
      <div class="code-block-wrapper">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Terminal 1
tmux new-session -d -s backend "cd ~/project/backend && ./ralph.sh 20"

# Terminal 2
tmux new-session -d -s frontend "cd ~/project/frontend && ./ralph.sh 20"

# Terminal 3
rpai  # Monitor all</code></pre>
      </div>
    </div>

    <!-- Pattern 3: Conditional -->
    <div class="pattern-card">
      <h3 class="pattern-name"><span class="bionic">Pat</span>tern 3: Conditional Extensions</h3>
      <p><strong>HUD-Triggered Actions:</strong></p>
      <div class="code-block-wrapper">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>IF context > 80% (via HUD observation)
THEN trigger new Ralph iteration (fresh context)
ELSE continue current session</code></pre>
      </div>
    </div>

    <!-- Pattern 4: Stacked Persistence -->
    <div class="pattern-card">
      <h3 class="pattern-name"><span class="bionic">Pat</span>tern 4: Stacked Persistence</h3>
      <p>Each layer provides different persistence granularity:</p>
      <div class="code-block-wrapper">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>Claude-Mem: Long-term semantic memory
     |
Ralph prd.json: Task state tracking
     |
progress.txt: Append-only session learnings
     |
Git: Code change history</code></pre>
      </div>
    </div>

    <hr class="section-divider divider-context">

    <!-- Proven Extension Combinations -->
    <h2 id="proven-combos"><span class="bionic">Pro</span>ven <span class="bionic">Ext</span>ension <span class="bionic">Com</span>binations</h2>

    <!-- Combo 1 -->
    <div class="combo-card">
      <h3 class="combo-title"><span class="bionic">Com</span>bo 1: "AGI Stack" (Opus 4.5 + Ralph + Playwright)</h3>
      <p><em>Source: @weswinder</em></p>
      <table>
        <tr>
          <td><strong>Opus 4.5</strong></td>
          <td>Strong reasoning model</td>
        </tr>
        <tr>
          <td><strong>Ralph Wiggum</strong></td>
          <td>Iterative persistence</td>
        </tr>
        <tr>
          <td><strong>Playwright</strong></td>
          <td>Browser verification</td>
        </tr>
      </table>
      <div class="why-matters">
        <p><span class="bionic">Why</span> It Works: Ralph feeds same prompt repeatedly until success. Playwright enables real-world UI verification. Opus 4.5 reduces iterations needed.</p>
      </div>
      <blockquote>"Put costly tools like browser control in subagents to protect your main context window tokens" - @TendiesOfWisdom</blockquote>
    </div>

    <!-- Combo 2 -->
    <div class="combo-card">
      <h3 class="combo-title"><span class="bionic">Com</span>bo 2: Long-Session Development</h3>
      <p><strong>Stack:</strong> Claude-Mem + Claude HUD + Code-Simplifier + Auto-formatting hooks</p>
      <ol>
        <li>Claude-Mem loads relevant context from past sessions</li>
        <li>HUD shows real-time context usage</li>
        <li>At 85%, HUD token breakdown appears</li>
        <li>Every N edits, trigger code-simplifier</li>
        <li>PostToolUse hooks auto-format files</li>
      </ol>
    </div>

    <!-- Combo 3 -->
    <div class="combo-card">
      <h3 class="combo-title"><span class="bionic">Com</span>bo 3: Overnight Autonomous Development</h3>
      <p><strong>Stack:</strong> Ralph loop + Mobile notifications + CC Mirror + Git worktrees</p>
      <div class="code-block-wrapper">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Create worktrees for parallel work
git worktree add ../wt-auth auth-branch
git worktree add ../wt-api api-branch

# Run Ralph in each (separate terminals)
(cd ../wt-auth && ./ralph.sh 25) &
(cd ../wt-api && ./ralph.sh 25) &

# Notifications on AskUserQuestion (configured in hooks)</code></pre>
      </div>
    </div>

    <hr class="section-divider divider-procedure">

    <!-- Building Custom Extensions -->
    <h2 id="building"><span class="bionic">Bui</span>lding <span class="bionic">Cus</span>tom <span class="bionic">Ext</span>ensions</h2>

    <h3><span class="bionic">Plu</span>gin <span class="bionic">Str</span>ucture</h3>
    <div class="code-block-wrapper">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code>my-plugin/
  - .claude-plugin/
    - plugin.json       # Manifest
  - commands/
    - my-command.md     # Slash commands
  - hooks/
    - hooks.json        # Hook configuration
    - my-hook.sh        # Hook scripts
  - agents/
    - my-agent.yaml     # Custom agents</code></pre>
    </div>

    <h3><span class="bionic">plu</span>gin.json</h3>
    <div class="code-block-wrapper">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code>{
  "name": "my-plugin",
  "version": "1.0.0",
  "description": "My custom extension",
  "author": "me",
  "commands": ["commands/my-command.md"],
  "hooks": "hooks/hooks.json"
}</code></pre>
    </div>

    <h3><span class="bionic">Hoo</span>k <span class="bionic">Con</span>figuration</h3>
    <div class="code-block-wrapper">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code>{
  "hooks": {
    "PreToolUse": [{
      "matcher": "Bash",
      "hooks": [{ "type": "command", "command": "./validate.sh" }]
    }],
    "PostToolUse": [{
      "matcher": "Edit",
      "hooks": [{ "type": "command", "command": "./format.sh" }]
    }],
    "SessionStart": [{
      "type": "command",
      "command": "./init.sh"
    }],
    "SessionEnd": [{
      "type": "command",
      "command": "./cleanup.sh"
    }]
  }
}</code></pre>
    </div>

    <h3><span class="bionic">Int</span>egration <span class="bionic">Poi</span>nts</h3>
    <table>
      <thead>
        <tr>
          <th>Point</th>
          <th>Type</th>
          <th>Use Case</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>/commands</code></td>
          <td>Slash commands</td>
          <td>Quick actions</td>
        </tr>
        <tr>
          <td><code>hooks/</code></td>
          <td>Event handlers</td>
          <td>Automation on events</td>
        </tr>
        <tr>
          <td><code>agents/</code></td>
          <td>Sub-agents</td>
          <td>Specialized tasks</td>
        </tr>
        <tr>
          <td><code>skills/</code></td>
          <td>Skills</td>
          <td>Reusable capabilities</td>
        </tr>
        <tr>
          <td>MCP servers</td>
          <td>External tools</td>
          <td>API/DB/browser access</td>
        </tr>
      </tbody>
    </table>

    <hr class="section-divider divider-warning">

    <!-- Extension Gaps -->
    <h2 id="gaps"><span class="bionic">Ext</span>ension <span class="bionic">Gap</span>s</h2>

    <p>What the ecosystem currently lacks:</p>

    <table class="gap-table">
      <thead>
        <tr>
          <th>Gap</th>
          <th>Description</th>
          <th>Workaround</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Visual Diff Viewer</td>
          <td>Side-by-side code diffs in terminal</td>
          <td>Use git diff, external tools</td>
        </tr>
        <tr>
          <td>Cost Tracker</td>
          <td>Real-time token/$ spending</td>
          <td>Manual estimation</td>
        </tr>
        <tr>
          <td>Session Recording</td>
          <td>Full replay of sessions</td>
          <td>Log to files manually</td>
        </tr>
        <tr>
          <td>Team Collaboration</td>
          <td>Shared memory across users</td>
          <td>External DB, shared files</td>
        </tr>
        <tr>
          <td>Automated Testing</td>
          <td>Built-in test runner integration</td>
          <td>Hooks + external runners</td>
        </tr>
        <tr>
          <td>Rollback Manager</td>
          <td>Undo sequences of changes</td>
          <td>Git reset</td>
        </tr>
        <tr>
          <td>Context Compactor</td>
          <td>Automatic context summarization</td>
          <td>Manual or Claude-Mem</td>
        </tr>
        <tr>
          <td>Multi-Model Router</td>
          <td>Route tasks to best model</td>
          <td>CC Mirror partial support</td>
        </tr>
      </tbody>
    </table>

    <hr class="section-divider divider-checkpoint">

    <!-- Quick Reference -->
    <h2 id="quick-ref"><span class="bionic">Qui</span>ck <span class="bionic">Ref</span>erence: <span class="bionic">Ext</span>ension Installation</h2>

    <div class="quick-install">
      <h4>All-in-One Installation</h4>
      <div class="code-block-wrapper">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># HUD - Visibility
/plugin marketplace add jarrodwatts/claude-hud && /plugin install claude-hud

# Memory - Persistence
/plugin marketplace add thedotmack/claude-mem && /plugin install claude-mem

# Code-Simplifier - Polish
/plugin install code-simplifier

# Ralph - Iteration
# (Built-in or use bash scripts)

# CC Mirror - Multi-Agent
npx cc-mirror quick --provider mirror --name mclaude

# rpai - Monitoring
cargo install rpai</code></pre>
      </div>
    </div>

    <!-- Summary Table -->
    <h3><span class="bionic">Ext</span>ension <span class="bionic">Sum</span>mary</h3>
    <table>
      <thead>
        <tr>
          <th>Capability</th>
          <th>Extension</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>See what Claude is doing</td>
          <td>Claude HUD</td>
        </tr>
        <tr>
          <td>Remember across sessions</td>
          <td>Claude-Mem</td>
        </tr>
        <tr>
          <td>Iterate until done</td>
          <td>Ralph</td>
        </tr>
        <tr>
          <td>Polish code automatically</td>
          <td>Code-Simplifier</td>
        </tr>
        <tr>
          <td>Coordinate multiple agents</td>
          <td>CC Mirror</td>
        </tr>
        <tr>
          <td>Connect external tools</td>
          <td>MCP Servers</td>
        </tr>
        <tr>
          <td>Automate on events</td>
          <td>Hooks</td>
        </tr>
        <tr>
          <td>Monitor parallel agents</td>
          <td>rpai</td>
        </tr>
      </tbody>
    </table>

    <!-- Checkpoint -->
    <div class="checkpoint" style="background: #f0ebe3; border-left: 4px solid var(--success); border-radius: 8px; padding: 1.5rem; margin: 2rem 0;">
      <div class="checkpoint-header" style="color: var(--success); font-weight: 600;">Checkpoint Complete</div>
      <p>You now understand how <span class="bionic">ext</span>ensions serve as composable building blocks. <span class="bionic">Key</span> takeaways:</p>
      <ul>
        <li><span class="bionic">Ext</span>ensions are primitives: Observability, Persistence, Iteration, Coordination, etc.</li>
        <li><span class="bionic">Com</span>position patterns: Chain, Parallel, Conditional, Stacked</li>
        <li><span class="bionic">Pro</span>ven combos: AGI Stack, Long-Session, Overnight Autonomous</li>
        <li>The power is in <span class="bionic">com</span>bination - stack primitives to build systems</li>
      </ul>
    </div>

    <!-- Related Pages -->
    <div class="related-pages">
      <h3><span class="bionic">Rel</span>ated <span class="bionic">Pag</span>es</h3>
      <ul>
        <li><a href="pairwise.html">Pairwise Analysis</a> - How patterns combine</li>
        <li><a href="matrix.html">Combination Matrix</a> - Compatibility reference</li>
        <li><a href="triple-plus.html">Triple+ Stacks</a> - Higher-order combinations</li>
        <li><a href="unexplored.html">Unexplored Territory</a> - Innovation opportunities</li>
      </ul>
    </div>

    <!-- Footer Navigation -->
    <div class="footer-nav">
      <a href="unexplored.html">Previous: Unexplored Territory</a>
      <a href="../index.html">Back to Home</a>
    </div>
  </div>

  
  <script src="../js/copy-code.js"></script>
</body>
</html>
