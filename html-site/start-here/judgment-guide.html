<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Judgment Guide | Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .bionic { font-weight: 700; }

    .you-are-here {
      background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%);
      border-left: 4px solid var(--accent);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .checkpoint {
      background: #f0ebe3;
      border-left: 4px solid var(--success);
      border-radius: 8px;
      padding: 1.5rem;
      margin: 2rem 0;
    }

    .checkpoint-header {
      color: var(--success);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .milestone {
      background: linear-gradient(90deg, var(--success) 0%, var(--accent) 100%);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      text-align: center;
      margin: 2rem 0;
      font-weight: 600;
    }

    .divider-procedure { border-top: 3px solid var(--accent); margin: 2rem 0; padding-top: 1rem; }

    .decision-tree {
      background: white;
      border: 2px solid var(--accent);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 0.9em;
      line-height: 1.6;
      overflow-x: auto;
      white-space: pre-wrap;
    }

    .decision-tree-title {
      background: var(--accent);
      color: white;
      padding: 0.75rem 1rem;
      margin: -1.5rem -1.5rem 1rem -1.5rem;
      border-radius: 10px 10px 0 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 600;
    }

    .scenario-card {
      background: white;
      border: 1px solid var(--border);
      border-radius: 12px;
      margin: 1.5rem 0;
      overflow: hidden;
    }

    .scenario-header {
      background: var(--bg-secondary);
      padding: 1rem 1.5rem;
      border-bottom: 1px solid var(--border);
    }

    .scenario-title {
      font-weight: 600;
      color: var(--heading);
      margin: 0;
      font-size: 1.1em;
    }

    .scenario-content {
      padding: 1.5rem;
    }

    .scenario-table {
      width: 100%;
      margin-bottom: 1rem;
    }

    .scenario-table td {
      padding: 0.5rem 0;
      border: none;
    }

    .scenario-table td:first-child {
      font-weight: 600;
      color: var(--heading);
      width: 40%;
    }

    .mistake-card {
      background: #fdf0ef;
      border: 1px solid var(--error);
      border-left: 4px solid var(--error);
      border-radius: 0 12px 12px 0;
      padding: 1.25rem;
      margin: 1.5rem 0;
    }

    .mistake-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.75rem;
    }

    .mistake-badge {
      background: var(--error);
      color: white;
      font-size: 0.7em;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 4px;
      text-transform: uppercase;
    }

    .mistake-title {
      font-weight: 600;
      color: var(--error);
      margin: 0;
    }

    .fix-block {
      background: #eef6f0;
      border-left: 3px solid var(--success);
      padding: 0.75rem 1rem;
      margin-top: 0.75rem;
      border-radius: 0 8px 8px 0;
    }

    .fix-block::before {
      content: "Fix: ";
      font-weight: 600;
      color: var(--success);
    }

    .framework-step {
      background: white;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.25rem;
      margin: 1rem 0;
      display: flex;
      gap: 1rem;
    }

    .step-number {
      background: var(--accent);
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
    }

    .step-content {
      flex: 1;
    }

    .step-content h4 {
      margin: 0 0 0.5rem 0;
      color: var(--heading);
    }

    .break-rules-card {
      background: #fdf6e9;
      border: 1px solid var(--warning);
      border-left: 4px solid var(--warning);
      border-radius: 0 12px 12px 0;
      padding: 1.25rem;
      margin: 1.5rem 0;
    }

    .break-rules-header {
      font-weight: 600;
      color: var(--warning);
      margin-bottom: 0.75rem;
    }

    .cost-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }

    .cost-table th, .cost-table td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    .cost-table th {
      background: var(--heading);
      color: white;
    }

    .copy-btn {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 4px;
      padding: 0.25rem 0.5rem;
      cursor: pointer;
      font-size: 0.75em;
    }

    .copy-btn:hover {
      background: var(--accent-light);
    }

    .code-block {
      position: relative;
    }

    .checklist {
      background: var(--bg-secondary);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }

    .checklist-title {
      font-weight: 600;
      color: var(--heading);
      margin-bottom: 1rem;
    }

    .checklist ul {
      margin: 0;
      list-style: none;
      padding: 0;
    }

    .checklist li {
      padding: 0.5rem 0;
      padding-left: 2rem;
      position: relative;
    }

    .checklist li::before {
      content: "[ ]";
      position: absolute;
      left: 0;
      font-family: 'SF Mono', Monaco, monospace;
      color: var(--text-muted);
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- Breadcrumb -->
    <nav class="nav-breadcrumb">
      <a href="../index.html">Home</a>
      <span>&#8250;</span>
      <a href="./index.html">Start Here</a>
      <span>&#8250;</span>
      <strong>Judgment Guide</strong>
    </nav>

    <!-- Title -->
    <h1><span class="bionic">Jud</span>gment <span class="bionic">Gui</span>de</h1>
    <p style="font-size: 1.15em; color: var(--text-muted); margin-bottom: 2rem;">
      <span class="bionic">Dec</span>ision support for <span class="bionic">sel</span>ecting the right <span class="bionic">pat</span>terns, tools, and approaches.<br>
      <strong>Philosophy:</strong> Start simple, add complexity only when simpler approaches demonstrably fail.
    </p>

    <!-- You Are Here -->
    <div class="you-are-here">
      <h3 style="margin-top: 0; color: var(--accent);"><span class="bionic">You</span> Are Here</h3>
      <p style="margin-bottom: 0.5rem;">
        You've read the <a href="./master-playbook.html">Master Playbook</a> and understand the patterns. Now you need to know <strong>when to use what</strong>. This guide provides:
      </p>
      <ul style="margin: 0.5rem 0 0 0;">
        <li><span class="bionic">Dec</span>ision trees for pattern selection</li>
        <li><span class="bionic">Sce</span>nario-based recommendations</li>
        <li><span class="bionic">Com</span>mon mistakes and their fixes</li>
        <li><span class="bionic">Whe</span>n to break the rules</li>
      </ul>
    </div>

    <!-- Table of Contents -->
    <div class="toc">
      <div class="toc-title">On This Page</div>
      <ul>
        <li><a href="#decision-trees">Quick Decision Trees</a>
          <ul>
            <li><a href="#which-orchestration">Which Orchestration Pattern?</a></li>
            <li><a href="#which-memory">Which Memory Pattern?</a></li>
            <li><a href="#when-autonomous">When Should I Go Autonomous?</a></li>
            <li><a href="#which-model">What Model Should This Task Use?</a></li>
          </ul>
        </li>
        <li><a href="#scenarios">Pattern Selection by Scenario</a></li>
        <li><a href="#mistakes">Common Mistakes and Fixes</a></li>
        <li><a href="#framework">The Judgment Framework</a></li>
        <li><a href="#break-rules">When to Break the Rules</a></li>
        <li><a href="#reference">Quick Reference</a></li>
      </ul>
    </div>

    <!-- Quick Decision Trees -->
    <h2 id="decision-trees"><span class="bionic">Qui</span>ck Decision <span class="bionic">Tre</span>es</h2>
    <p class="conversational-lead">
      When you're stuck on "which approach should I use?", start here. Follow the tree to your answer.
    </p>

    <h3 id="which-orchestration">"Which <span class="bionic">Orc</span>hestration Pattern Should I Use?"</h3>

    <div class="decision-point">
      <div class="decision-tree">
        <div class="decision-tree-title">Orchestration Pattern Decision Tree</div>
Is this a simple, single task?
|
+-- Yes --> Single interactive session
|
+-- No --> Do you need to walk away (AFK)?
    |
    +-- No --> Multiple distinct domains?
    |   |
    |   +-- Yes --> CC Mirror (hub-and-spoke)
    |   |
    |   +-- No --> Single session with subagents
    |
    +-- Yes --> Can you write clear acceptance criteria?
        |
        +-- No --> Not ready for autonomous (refine first)
        |
        +-- Yes --> Need parallelism across features?
            |
            +-- Yes --> Need deep specialization (10+ agents)?
            |   |
            |   +-- Yes --> Gas Town (agent factory)
            |   |
            |   +-- No --> Parallel Ralph + Git Worktrees
            |
            +-- No --> PRD-driven Ralph loop</div>
    </div>

    <div class="checkpoint">
      <div class="checkpoint-header">Key Insight</div>
      <p style="margin-bottom: 0;">The critical question is: <strong>"Can you walk away?"</strong> If yes, you need autonomous patterns (Ralph). If no, you need interactive patterns (CC Mirror, subagents).</p>
    </div>

    <div class="divider-procedure"></div>

    <h3 id="which-memory">"Which <span class="bionic">Mem</span>ory Pattern Should I Use?"</h3>

    <div class="decision-point">
      <div class="decision-tree">
        <div class="decision-tree-title">Memory Pattern Decision Tree</div>
How long does this need to persist?
|
+-- Just this session --> No special setup needed
|
+-- Across sessions in one project --> CLAUDE.md
|   |
|   +-- Team knowledge? --> Git-tracked CLAUDE.md
|   +-- Personal/secrets? --> CLAUDE.local.md (gitignored)
|
+-- Within an autonomous loop --> progress.txt + prd.json + git
|
+-- Across many projects --> Claude-Mem (semantic memory)
|
+-- Across multiple life domains --> Panopticon (isolated directories)</div>
    </div>

    <div class="divider-procedure"></div>

    <h3 id="when-autonomous">"When Should I Go <span class="bionic">Aut</span>onomous?"</h3>

    <div class="decision-point">
      <div class="decision-tree">
        <div class="decision-tree-title">Autonomous Readiness Decision Tree</div>
Can you define "done" in verifiable terms?
|
+-- No --> Stay interactive (refine requirements)
|
+-- Yes --> Do you have test coverage?
    |
    +-- No --> Add tests first, then go autonomous
    |
    +-- Yes --> Can tasks fit in one context window each?
        |
        +-- No --> Split tasks smaller
        |
        +-- Yes --> Is this security-critical code?
            |
            +-- Yes --> Use HOTL Ralph (human on the loop)
            |
            +-- No --> READY FOR RALPH
                |
                +-- Setup: prd.json + ralph.sh + progress.txt
                +-- Run: ./ralph.sh 25
                +-- Go: Sleep / Do something else</div>
    </div>

    <div class="divider-procedure"></div>

    <h3 id="which-model">"What <span class="bionic">Mod</span>el Should This Task Use?"</h3>

    <div class="decision-point">
      <div class="decision-tree">
        <div class="decision-tree-title">Model Selection Decision Tree</div>
What type of work is this?
|
+-- Simple lookup, file search, formatting --> Haiku ($0.25/$1.25 per 1M)
|
+-- Implementation, test generation, standard coding --> Sonnet ($3/$15 per 1M)
|
+-- Architecture, complex reasoning, ambiguous decisions --> Opus ($15/$75 per 1M)
|
+-- Security review, critical system design --> Opus (worth the cost)</div>
    </div>

    <div class="checkpoint">
      <div class="checkpoint-header">Checkpoint: Decision Trees</div>
      <p style="margin-bottom: 0;">You should now be able to quickly determine: <strong>orchestration pattern + memory pattern + autonomy readiness + model selection</strong> for any task.</p>
    </div>

    <!-- Pattern Selection by Scenario -->
    <h2 id="scenarios"><span class="bionic">Pat</span>tern Selection by <span class="bionic">Sce</span>nario</h2>
    <p class="conversational-lead">
      Real-world scenarios with specific recommendations. Find your situation, get your answer.
    </p>

    <div class="scenario-card">
      <div class="scenario-header">
        <h4 class="scenario-title">"Ship a feature overnight"</h4>
      </div>
      <div class="scenario-content">
        <table class="scenario-table">
          <tr><td>Pattern</td><td>PRD-driven Ralph</td></tr>
          <tr><td>Why</td><td>Fresh context each iteration, quality gates, autonomous</td></tr>
          <tr><td>Setup time</td><td>30-60 minutes</td></tr>
          <tr><td>Success rate</td><td>High (with good PRD)</td></tr>
          <tr><td>Prerequisites</td><td>Clear acceptance criteria, test coverage</td></tr>
          <tr><td>Cost</td><td>$10-30 depending on complexity</td></tr>
        </table>

        <div class="code-block">
          <pre><code># Quick start:
# 1. Create prd.json with 5-10 atomic stories
# 2. Each story: 2-3 sentence description, verifiable criteria
# 3. Include "npm run typecheck passes" in every story
./scripts/ralph/ralph.sh 25</code></pre>
        </div>
      </div>
    </div>

    <div class="scenario-card">
      <div class="scenario-header">
        <h4 class="scenario-title">"Build a complex multi-domain feature"</h4>
      </div>
      <div class="scenario-content">
        <table class="scenario-table">
          <tr><td>Pattern</td><td>CC Mirror (hub-and-spoke)</td></tr>
          <tr><td>Why</td><td>Parallelism, specialization, cost optimization</td></tr>
          <tr><td>Setup time</td><td>1-2 hours</td></tr>
          <tr><td>Success rate</td><td>Medium (coordination overhead)</td></tr>
          <tr><td>Prerequisites</td><td>Comfort with multi-agent mental model</td></tr>
          <tr><td>Cost</td><td>$30-80/day</td></tr>
        </table>

        <div class="ascii-diagram">
         Orchestrator (YOU DO NOT WRITE CODE)
                     |
     +---------------+---------------+
     |               |               |
  Coder          Tester           Docs
  (Sonnet)       (Sonnet)         (Haiku)</div>
      </div>
    </div>

    <div class="scenario-card">
      <div class="scenario-header">
        <h4 class="scenario-title">"Parallel features on separate branches"</h4>
      </div>
      <div class="scenario-content">
        <table class="scenario-table">
          <tr><td>Pattern</td><td>Ralph + Git Worktrees</td></tr>
          <tr><td>Why</td><td>True file isolation, shared git history</td></tr>
          <tr><td>Setup time</td><td>30 minutes</td></tr>
          <tr><td>Success rate</td><td>High (no conflicts during work)</td></tr>
          <tr><td>Prerequisites</td><td>Git worktree familiarity</td></tr>
          <tr><td>Cost</td><td>2-3x single Ralph cost</td></tr>
        </table>

        <div class="code-block">
          <pre><code>for feature in auth payments notifications; do
  git worktree add ../wt-$feature $feature-branch
  (cd ../wt-$feature && ./ralph.sh 20) &
done
wait</code></pre>
        </div>
      </div>
    </div>

    <div class="scenario-card">
      <div class="scenario-header">
        <h4 class="scenario-title">"Life automation across multiple domains"</h4>
      </div>
      <div class="scenario-content">
        <table class="scenario-table">
          <tr><td>Pattern</td><td>Panopticon (isolated directories)</td></tr>
          <tr><td>Why</td><td>Complete domain isolation, no cross-contamination</td></tr>
          <tr><td>Setup time</td><td>4-8 hours</td></tr>
          <tr><td>Success rate</td><td>High (simplicity in isolation)</td></tr>
          <tr><td>Prerequisites</td><td>Cron job setup, directory discipline</td></tr>
        </table>

        <div class="ascii-diagram">
~/nox        # Company work
~/metrics    # Analytics
~/trades     # Finance
~/health     # Wellness
~/writing    # Content</div>
      </div>
    </div>

    <div class="scenario-card">
      <div class="scenario-header">
        <h4 class="scenario-title">"10+ agents, team-scale output solo"</h4>
      </div>
      <div class="scenario-content">
        <table class="scenario-table">
          <tr><td>Pattern</td><td>Gas Town (agent factory)</td></tr>
          <tr><td>Why</td><td>Self-improving, persistent workers, factory production</td></tr>
          <tr><td>Setup time</td><td>8+ hours</td></tr>
          <tr><td>Success rate</td><td>Variable (requires Stage 7+ experience)</td></tr>
          <tr><td>Prerequisites</td><td>Go runtime, tmux, $50-200/day budget</td></tr>
          <tr><td>Cost</td><td>$50-200/day</td></tr>
        </table>

        <div class="callout callout-warning">
          <div class="callout-title">Warning Signs You're Not Ready</div>
          <ul style="margin: 0;">
            <li>Fewer than 100 hours with multi-agent setups</li>
            <li>Uncomfortable with emergence and chaos</li>
            <li>Need predictable, controlled outcomes</li>
            <li>Budget-constrained</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="milestone">Scenario Selection Complete!</div>

    <!-- Common Mistakes and Fixes -->
    <h2 id="mistakes"><span class="bionic">Com</span>mon Mistakes and <span class="bionic">Fix</span>es</h2>
    <p class="conversational-lead">
      Learn from these failures to avoid them. Each mistake has a clear symptom and a concrete fix.
    </p>

    <div class="mistake-card">
      <div class="mistake-header">
        <span class="mistake-badge">Mistake</span>
        <h4 class="mistake-title">Tasks too large</h4>
      </div>
      <p><strong>Symptom:</strong> Context overflows, quality degrades, agent loses track</p>
      <p><strong>Diagnosis:</strong> Task takes more than one context window</p>
      <div class="fix-block">
        Apply the 2-3 sentence rule. Sweet spot: 100-500 lines changed, 1-3 files modified, 15-60 minutes equivalent human time.
      </div>
    </div>

    <div class="mistake-card">
      <div class="mistake-header">
        <span class="mistake-badge">Mistake</span>
        <h4 class="mistake-title">Skipping verification</h4>
      </div>
      <p><strong>Symptom:</strong> Errors compound, broken code accumulates, future iterations inherit bugs</p>
      <blockquote style="margin: 0.5rem 0;">"If you don't do this, you're hamstringing future agent runs with bad code"</blockquote>
      <div class="fix-block">
        Quality gates on EVERY commit: <code>npm run typecheck passes</code> and <code>npm run test passes</code> in every story.
      </div>
    </div>

    <div class="mistake-card">
      <div class="mistake-header">
        <span class="mistake-badge">Mistake</span>
        <h4 class="mistake-title">Vague acceptance criteria</h4>
      </div>
      <p><strong>Symptom:</strong> Agent marks tasks complete prematurely, Claude claims done without proof</p>
      <p><strong>Bad:</strong> "Works correctly", "Good UX", "Handles edge cases"</p>
      <div class="fix-block">
        "Login form renders at /login", "Email validation rejects 'notanemail'", "Submit button disabled when form invalid"
      </div>
    </div>

    <div class="mistake-card">
      <div class="mistake-header">
        <span class="mistake-badge">Mistake</span>
        <h4 class="mistake-title">Context rot in long sessions</h4>
      </div>
      <p><strong>Symptom:</strong> Quality drops after 60-70% context, Claude forgets earlier decisions</p>
      <div class="fix-block">
        Use fresh context pattern (Ralph). Each iteration = new Claude instance. Memory lives in external files.
      </div>
    </div>

    <div class="mistake-card">
      <div class="mistake-header">
        <span class="mistake-badge">Mistake</span>
        <h4 class="mistake-title">progress.txt overwriting instead of appending</h4>
      </div>
      <p><strong>Symptom:</strong> Learnings lost between iterations</p>
      <div class="fix-block">
        Use the word "APPEND" explicitly in your prompt: "APPEND to progress.txt (never update or overwrite previous entries)"
      </div>
    </div>

    <div class="mistake-card">
      <div class="mistake-header">
        <span class="mistake-badge">Mistake</span>
        <h4 class="mistake-title">Workers spawning sub-agents</h4>
      </div>
      <p><strong>Symptom:</strong> Recursion chaos, runaway costs, coordination breakdown</p>
      <div class="fix-block">
        Clear role separation: Orchestrator can spawn workers via Task tool. Workers CANNOT spawn sub-agents, use tools directly.
      </div>
    </div>

    <div class="mistake-card">
      <div class="mistake-header">
        <span class="mistake-badge">Mistake</span>
        <h4 class="mistake-title">UI verification without browser</h4>
      </div>
      <p><strong>Symptom:</strong> Visual bugs, rendering issues, Claude claims complete but UI broken</p>
      <div class="fix-block">
        Add Playwright verification: "Verify at localhost:3000/login using Playwright screenshot" in acceptance criteria.
      </div>
    </div>

    <div class="mistake-card">
      <div class="mistake-header">
        <span class="mistake-badge">Mistake</span>
        <h4 class="mistake-title">Jumping to complexity too fast</h4>
      </div>
      <p><strong>Symptom:</strong> Setup overhead exceeds value, debugging difficulty, frustration</p>
      <div class="fix-block">
        Follow the progression: Level 0 -> 1 -> 2 -> 3 -> 4 -> 5 -> 6 -> 7. Master each level before advancing. Don't skip.
      </div>
    </div>

    <div class="checkpoint">
      <div class="checkpoint-header">Checkpoint: Mistakes</div>
      <p style="margin-bottom: 0;">For each mistake, you should now know: <strong>the symptom to watch for and the concrete fix to apply.</strong></p>
    </div>

    <!-- The Judgment Framework -->
    <h2 id="framework">The <span class="bionic">Jud</span>gment <span class="bionic">Fra</span>mework</h2>
    <p class="conversational-lead">
      A 5-step process for making pattern decisions. Use this when the decision trees don't give you a clear answer.
    </p>

    <div class="framework-step">
      <div class="step-number">1</div>
      <div class="step-content">
        <h4><span class="bionic">Ass</span>ess Complexity</h4>
        <table>
          <tr><th>Complexity</th><th>Indicators</th><th>Typical Pattern</th></tr>
          <tr><td>Simple</td><td>One task, < 30 min, exploratory</td><td>Single session</td></tr>
          <tr><td>Medium</td><td>Multi-part, defined end state</td><td>Ralph loop</td></tr>
          <tr><td>High</td><td>Multi-domain, needs parallelism</td><td>CC Mirror</td></tr>
          <tr><td>Very High</td><td>10+ agents, team-scale</td><td>Gas Town</td></tr>
        </table>
      </div>
    </div>

    <div class="framework-step">
      <div class="step-number">2</div>
      <div class="step-content">
        <h4><span class="bionic">Che</span>ck Constraints</h4>
        <table>
          <tr><th>Constraint</th><th>Impact on Pattern Selection</th></tr>
          <tr><td>Budget limited</td><td>Stick to Haiku/Sonnet, avoid Gas Town</td></tr>
          <tr><td>Must walk away</td><td>Need Ralph (autonomous) pattern</td></tr>
          <tr><td>Security-critical</td><td>Use HOTL (human on the loop)</td></tr>
          <tr><td>No test coverage</td><td>Cannot go autonomous safely</td></tr>
          <tr><td>Exploratory work</td><td>Stay interactive, no loops</td></tr>
        </table>
      </div>
    </div>

    <div class="framework-step">
      <div class="step-number">3</div>
      <div class="step-content">
        <h4><span class="bionic">Sel</span>ect Pattern</h4>
        <table>
          <tr><th>Scenario</th><th>Pattern</th><th>Setup</th><th>Cost/Day</th></tr>
          <tr><td>Quick task</td><td>Interactive</td><td>0</td><td>$5-10</td></tr>
          <tr><td>Feature overnight</td><td>PRD-Ralph</td><td>30 min</td><td>$10-30</td></tr>
          <tr><td>Multi-domain</td><td>CC Mirror</td><td>1-2 hr</td><td>$30-80</td></tr>
          <tr><td>Parallel features</td><td>Ralph + Worktrees</td><td>30 min</td><td>$30-90</td></tr>
          <tr><td>Life automation</td><td>Panopticon</td><td>4-8 hr</td><td>Variable</td></tr>
          <tr><td>Team-scale solo</td><td>Gas Town</td><td>8+ hr</td><td>$50-200</td></tr>
        </table>
      </div>
    </div>

    <div class="framework-step">
      <div class="step-number">4</div>
      <div class="step-content">
        <h4><span class="bionic">Con</span>figure Appropriately</h4>
        <p><strong>For Ralph loops:</strong></p>
        <ul>
          <li>Max iterations: 25 (default reasonable)</li>
          <li>Task size: 2-3 sentence rule</li>
          <li>Always include typecheck in criteria</li>
          <li>Use <code>--dangerously-skip-permissions</code> for unattended</li>
        </ul>

        <p><strong>For multi-agent:</strong></p>
        <ul>
          <li>Clear role boundaries</li>
          <li>Model selection per role</li>
          <li>File ownership rules if parallel</li>
        </ul>
      </div>
    </div>

    <div class="framework-step">
      <div class="step-number">5</div>
      <div class="step-content">
        <h4><span class="bionic">Mon</span>itor and Adapt</h4>
        <p><strong>Watch for:</strong></p>
        <ul>
          <li>Stuck loops (same commit for 3+ iterations)</li>
          <li>Context warnings (approaching limits)</li>
          <li>Quality degradation (tests failing after passing)</li>
          <li>Cost spikes (unexpected token usage)</li>
        </ul>

        <p><strong>Adapt when:</strong></p>
        <ul style="margin-bottom: 0;">
          <li>Tasks consistently too large: Split further</li>
          <li>Loop always hitting max: Increase max or improve PRD</li>
          <li>Quality dropping: Add verification steps</li>
          <li>Cost too high: Switch to cheaper models for simple tasks</li>
        </ul>
      </div>
    </div>

    <!-- When to Break the Rules -->
    <h2 id="break-rules">When to <span class="bionic">Bre</span>ak the Rules</h2>
    <p class="conversational-lead">
      Every rule has exceptions. Here's when the standard patterns don't apply.
    </p>

    <div class="break-rules-card">
      <div class="break-rules-header">Exploration Mode</div>
      <p><strong>Rules to break:</strong> Structured PRD, defined completion, verification gates</p>
      <p><strong>Why:</strong> Discovery needs freedom. You don't know what "done" looks like yet.</p>
      <p style="margin-bottom: 0;"><strong>Instead:</strong> Interactive session, let Claude explore, document findings as you go.</p>
    </div>

    <div class="break-rules-card">
      <div class="break-rules-header">Prototyping</div>
      <p><strong>Rules to break:</strong> Test coverage, quality gates, careful task sizing</p>
      <p><strong>Why:</strong> Speed over correctness. Throw it away anyway.</p>
      <p style="margin-bottom: 0;"><strong>Instead:</strong> Single session, rapid iteration, accept technical debt.</p>
    </div>

    <div class="break-rules-card">
      <div class="break-rules-header">Learning</div>
      <p><strong>Rules to break:</strong> Autonomous execution, efficiency optimization</p>
      <p><strong>Why:</strong> The goal is understanding, not output.</p>
      <p style="margin-bottom: 0;"><strong>Instead:</strong> HOTL (human on the loop), review every step, ask "why" frequently.</p>
    </div>

    <div class="break-rules-card">
      <div class="break-rules-header">Debugging Complex Issues</div>
      <p><strong>Rules to break:</strong> Fresh context per iteration, atomic tasks</p>
      <p><strong>Why:</strong> Context continuity helps trace causation.</p>
      <p style="margin-bottom: 0;"><strong>Instead:</strong> Long interactive session, follow the thread, let context accumulate (just know quality will degrade).</p>
    </div>

    <!-- Quick Reference -->
    <h2 id="reference"><span class="bionic">Qui</span>ck Reference</h2>

    <h3>Pattern Costs</h3>
    <table class="cost-table">
      <thead>
        <tr>
          <th>Pattern</th>
          <th>Setup</th>
          <th>Daily Cost</th>
          <th>Break-even</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>Single session</td><td>0</td><td>$5-20</td><td>Immediate</td></tr>
        <tr><td>CLAUDE.md + commands</td><td>30 min</td><td>$5-20</td><td>1 week</td></tr>
        <tr><td>Ralph loops</td><td>1-2 hr</td><td>$10-50</td><td>1 week</td></tr>
        <tr><td>CC Mirror</td><td>2-4 hr</td><td>$30-80</td><td>2 weeks</td></tr>
        <tr><td>Parallel Ralph</td><td>2-4 hr</td><td>$50-100</td><td>2 weeks</td></tr>
        <tr><td>Panopticon</td><td>8+ hr</td><td>Variable</td><td>1 month</td></tr>
        <tr><td>Gas Town</td><td>1+ day</td><td>$50-200</td><td>2+ months</td></tr>
      </tbody>
    </table>

    <h3>The Complexity Ladder</h3>
    <div class="ascii-diagram">
Level 7: Gas Town Factory           [$800+/mo]   <- Team-scale solo
         |
Level 6: Parallel Swarms            [$400-800]   <- Massive parallelization
         |
Level 5: CC Mirror                  [$200-400]   <- Coordinated multi-agent
         |
Level 4: PRD-driven Ralph           [$100-200]   <- Structured autonomous
         |
Level 3: Simple Ralph loops         [$50-100]    <- Basic autonomous
         |
Level 2: Subagents + hooks          [$50-100]    <- Task delegation
         |
Level 1: CLAUDE.md + commands       [$20-50]     <- Consistent behavior
         |
Level 0: Single session             [$20-50]     <- Basic assistance</div>

    <p><strong>Mastery time per level:</strong> 1-4 weeks<br>
    <strong>Rule:</strong> Don't skip levels. Master each before advancing.</p>

    <h3>Before Going Autonomous Checklist</h3>
    <div class="checklist">
      <div class="checklist-title">Pre-Flight Check</div>
      <ul>
        <li>Tasks are atomic (2-3 sentence rule)</li>
        <li>Dependencies ordered by priority</li>
        <li>Acceptance criteria are verifiable (not subjective)</li>
        <li>Tests exist or will be created</li>
        <li>Typecheck included in every story</li>
        <li>Git branch created</li>
        <li>progress.txt initialized</li>
        <li>Max iterations set</li>
        <li>Verification commands work (<code>npm test</code>, etc.)</li>
        <li>Budget for expected iterations calculated</li>
      </ul>
    </div>

    <div class="callout callout-success">
      <div class="callout-title">The Bottom Line</div>
      <p style="margin: 0;"><strong>The best pattern is the simplest one that meets your needs.</strong><br><br>
      Complexity has costs: setup time, debugging difficulty, cognitive overhead, actual dollars.<br><br>
      Start simple. Add complexity only when the simpler approach demonstrably fails.</p>
    </div>

    <div class="checkpoint">
      <div class="checkpoint-header">Judgment Guide Complete!</div>
      <p style="margin-bottom: 0;">You now have decision support for any pattern selection challenge. Remember: <strong>start simple, add complexity only when needed, and master each level before advancing.</strong></p>
    </div>

    <!-- Footer Navigation -->
    <div class="footer-nav">
      <a href="./master-playbook.html">Previous: Master Playbook</a>
      <a href="./staff-engineer.html">Next: Staff Engineer</a>
    </div>

    <div class="related-pages">
      <h3>Related Pages</h3>
      <ul>
        <li><a href="./master-playbook.html">Master Playbook</a> - Complete capability progression</li>
        <li><a href="./staff-engineer.html">Staff Engineer Mental Model</a> - Frontier thinking</li>
        <li><a href="../foundations/architecture/complexity-ladder.html">Complexity Ladder</a> - Level 0-7 deep dive</li>
        <li><a href="../patterns/mastery/ralph-complete.html">Ralph Pattern Complete</a> - Full Ralph implementation</li>
      </ul>
    </div>

  </div>

  
  <script src="../js/copy-code.js"></script>
</body>
</html>
