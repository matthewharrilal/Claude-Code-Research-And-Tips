<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pattern Combinations | Claude Code Documentation</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- GSAP for scroll-sync -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <!-- Tailwind Config with Design Tokens -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'bg-base': '#ffffff',
            'bg-subtle': '#fafafa',
            'bg-muted': '#f4f4f5',
            'text-primary': '#18181b',
            'text-secondary': '#3f3f46',
            'text-muted': '#71717a',
            'accent': '#0D9373',
            'accent-light': '#10b981',
            'accent-bg': '#ecfdf5',
            'border': '#e4e4e7',
            // Activity Zone content type colors
            'az-invariant': '#3b82f6',
            'az-effect': '#f59e0b',
            'az-composition': '#8b5cf6',
            'az-frontier': '#ef4444',
            'az-warstory': '#10b981',
            'az-alternative': '#6b7280',
            'az-inversion': '#4f46e5',
            'az-constraint': '#8b5cf6',
            'az-gradient': '#f43f5e',
            'az-horizon': '#06b6d4',
            'az-violation': '#f97316',
            'az-tradeoff': '#f59e0b',
            'az-analogy': '#d946ef',
            'az-expertise': '#10b981',
            'az-minimal': '#84cc16',
            'az-inflection': '#eab308',
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['Fira Code', 'monospace'],
          },
        },
      },
    }
  </script>

  <style>
    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: 80px;
    }

    [id] {
      scroll-margin-top: 80px;
    }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: #ffffff;
      color: #18181b;
      line-height: 1.7;
    }

    .three-panel-layout {
      min-height: 100vh;
      position: relative;
    }

    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 56px;
      background: #ffffff;
      border-bottom: 1px solid #e4e4e7;
      z-index: 100;
      display: flex;
      align-items: center;
      padding: 0 24px;
    }

    .left-nav {
      position: fixed;
      top: 56px;
      left: 0;
      width: 240px;
      height: calc(100vh - 56px);
      border-right: 1px solid #e4e4e7;
      background: #ffffff;
      overflow-y: auto;
      padding: 16px 0;
      z-index: 40;
    }

    .nav-section {
      padding: 0 12px;
      margin-bottom: 8px;
    }

    .nav-section-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      font-size: 14px;
      font-weight: 500;
      color: #3f3f46;
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.15s;
    }

    .nav-section-header:hover {
      background: #f4f4f5;
    }

    .nav-section-header.active {
      color: #0D9373;
      background: #ecfdf5;
    }

    .nav-item {
      display: block;
      padding: 6px 12px 6px 44px;
      font-size: 14px;
      color: #71717a;
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.15s;
    }

    .nav-item:hover {
      color: #3f3f46;
      background: #f4f4f5;
    }

    .nav-item.active {
      color: #0D9373;
      background: #ecfdf5;
    }

    .nav-children {
      display: none;
      overflow: hidden;
    }

    .nav-children.expanded {
      display: block;
    }

    .nav-chevron {
      transition: transform 0.2s;
    }

    .nav-section.expanded .nav-chevron {
      transform: rotate(90deg);
    }

    .main-content {
      margin-left: 240px;
      margin-right: 480px;
      margin-top: 56px;
      padding: 48px 48px;
      min-width: 400px;
    }

    .activity-zone {
      position: fixed;
      top: 56px;
      right: 0;
      width: 480px;
      height: calc(100vh - 56px);
      border-left: 1px dashed #e4e4e7;
      background: #fafafa;
      overflow-y: auto;
      padding: 24px 20px;
      z-index: 40;
    }

    @media (max-width: 1400px) {
      .activity-zone {
        display: none;
      }
      .main-content {
        margin-right: 0;
        padding: 40px 32px;
      }
    }

    @media (max-width: 768px) {
      .left-nav {
        display: none;
      }
      .main-content {
        margin-left: 0;
        padding: 24px 16px;
        min-width: auto;
      }
    }

    .resizer {
      position: fixed;
      top: 56px;
      right: 480px;
      width: 6px;
      height: calc(100vh - 56px);
      cursor: col-resize;
      background: transparent;
      z-index: 50;
      transition: background 0.15s ease;
    }

    .resizer:hover {
      background: rgba(13, 147, 115, 0.15);
    }

    .resizer.active {
      background: rgba(13, 147, 115, 0.25);
    }

    body.resizing {
      user-select: none;
      cursor: col-resize !important;
    }

    body.resizing * {
      cursor: col-resize !important;
    }

    @media (max-width: 1400px) {
      .resizer {
        display: none;
      }
    }

    .activity-item {
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
      background: #ffffff;
      border: 1px solid #e4e4e7;
      font-size: 14px;
      line-height: 1.6;
      opacity: 0.5;
      transition: all 0.3s ease;
    }

    .activity-item.active {
      opacity: 1;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    .activity-item:hover {
      opacity: 1;
    }

    .activity-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .activity-item.invariant { border-left: 4px solid #3b82f6; }
    .activity-item.effect { border-left: 4px solid #f59e0b; }
    .activity-item.composition { border-left: 4px solid #8b5cf6; }
    .activity-item.frontier { border-left: 4px solid #ef4444; }
    .activity-item.warstory { border-left: 4px solid #10b981; }
    .activity-item.alternative { border-left: 4px solid #6b7280; }
    .activity-item.inversion { border-left: 4px solid #4f46e5; }
    .activity-item.constraint { border-left: 4px solid #8b5cf6; }
    .activity-item.gradient { border-left: 4px solid #f43f5e; }
    .activity-item.horizon { border-left: 4px solid #06b6d4; }
    .activity-item.violation { border-left: 4px solid #f97316; }
    .activity-item.tradeoff { border-left: 4px solid #f59e0b; }
    .activity-item.analogy { border-left: 4px solid #d946ef; }
    .activity-item.expertise { border-left: 4px solid #10b981; }
    .activity-item.minimal { border-left: 4px solid #84cc16; }
    .activity-item.inflection { border-left: 4px solid #eab308; }

    .section-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      background: #0D9373;
      color: #ffffff;
      font-size: 14px;
      font-weight: 600;
      border-radius: 50%;
      margin-right: 12px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 600;
      color: #18181b;
      margin-bottom: 20px;
      margin-top: 56px;
      display: flex;
      align-items: center;
    }

    .section-title:first-child {
      margin-top: 0;
    }

    .essence-box {
      background: linear-gradient(135deg, #18181b 0%, #27272a 100%);
      border-radius: 12px;
      padding: 32px;
      margin-bottom: 40px;
    }

    .essence-label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #10b981;
      margin-bottom: 12px;
    }

    .essence-text {
      font-size: 22px;
      font-weight: 500;
      color: #ffffff;
      line-height: 1.4;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-bottom: 40px;
    }

    @media (max-width: 900px) {
      .card-grid {
        grid-template-columns: 1fr;
      }
    }

    .index-card {
      background: #ffffff;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      transition: all 0.2s ease;
      text-decoration: none;
      display: block;
    }

    .index-card:hover {
      border-color: #0D9373;
      box-shadow: 0 4px 12px rgba(13, 147, 115, 0.1);
      transform: translateY(-2px);
    }

    .index-card-title {
      font-size: 18px;
      font-weight: 600;
      color: #18181b;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .index-card-description {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 12px;
      line-height: 1.6;
    }

    .index-card-meta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .meta-tag {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 9999px;
      background: #f4f4f5;
      color: #71717a;
    }

    .meta-tag.difficulty-beginner { background: #ecfdf5; color: #166534; }
    .meta-tag.difficulty-intermediate { background: #fef3c7; color: #92400e; }
    .meta-tag.difficulty-advanced { background: #fef2f2; color: #991b1b; }

    .overview-box {
      background: #fafafa;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 40px;
    }

    .overview-text {
      font-size: 16px;
      color: #3f3f46;
      margin-bottom: 16px;
    }

    .feature-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .feature-list li {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 8px 0;
      font-size: 14px;
      color: #3f3f46;
    }

    .feature-list li i {
      flex-shrink: 0;
      margin-top: 2px;
    }

    .mobile-menu-btn {
      display: none;
      padding: 8px;
      background: none;
      border: none;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: flex;
      }
    }

    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: #fafafa;
    }

    ::-webkit-scrollbar-thumb {
      background: #d4d4d8;
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #a1a1aa;
    }

    .kbd {
      display: inline-flex;
      align-items: center;
      padding: 2px 6px;
      background: #f4f4f5;
      border: 1px solid #e4e4e7;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 12px;
      color: #71717a;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Toggle menu">
      <i data-lucide="menu" class="w-5 h-5 text-text-secondary"></i>
    </button>
    <div class="flex items-center gap-3">
      <i data-lucide="terminal" class="w-5 h-5 text-accent"></i>
      <span class="font-semibold text-text-primary">Claude Code</span>
    </div>
    <div class="flex-1 flex justify-center">
      <button class="flex items-center gap-2 px-4 py-2 bg-bg-muted rounded-lg text-text-muted text-sm hover:bg-border transition-colors">
        <i data-lucide="search" class="w-4 h-4"></i>
        <span>Search documentation...</span>
        <span class="kbd">Cmd+K</span>
      </button>
    </div>
    <div class="flex items-center gap-4">
      <a href="../index.html" class="text-sm text-text-muted hover:text-text-primary transition-colors">Home</a>
      <button class="p-2 hover:bg-bg-muted rounded-lg transition-colors" aria-label="Toggle theme">
        <i data-lucide="sun" class="w-4 h-4 text-text-muted"></i>
      </button>
    </div>
  </header>

  <div class="three-panel-layout">
    <!-- Left Navigation -->
    <nav class="left-nav" id="leftNav">
      <div class="px-4 mb-4">
        <span class="text-xs font-semibold text-text-muted uppercase tracking-wider">Pattern Combinations</span>
      </div>

      <!-- Overview -->
      <div class="nav-section expanded" data-section="overview">
        <div class="nav-section-header active" onclick="toggleSection(this)">
          <i data-lucide="layout-grid" class="w-4 h-4"></i>
          <span>Overview</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children expanded">
          <a href="#essence" class="nav-item active">The Big Picture</a>
        </div>
      </div>

      <!-- Combination Guides -->
      <div class="nav-section expanded" data-section="guides">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="book-open" class="w-4 h-4"></i>
          <span>Combination Guides</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children expanded">
          <a href="#matrix" class="nav-item">Combination Matrix</a>
          <a href="#pairwise" class="nav-item">Pairwise Analysis</a>
          <a href="#extensions" class="nav-item">Extensions Ecosystem</a>
          <a href="#triple-plus" class="nav-item">Triple+ Stacks</a>
          <a href="#unexplored" class="nav-item">Unexplored Territory</a>
        </div>
      </div>

      <!-- Quick Decision -->
      <div class="nav-section" data-section="decision">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="compass" class="w-4 h-4"></i>
          <span>Quick Decision</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children">
          <a href="#which-guide" class="nav-item">Which Guide?</a>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">

      <!-- Section: ESSENCE -->
      <section id="essence" data-activity="essence">
        <div class="essence-box">
          <div class="essence-label">Pattern Combinations (15 words)</div>
          <div class="essence-text">Patterns are LEGO blocks. Each is useful alone, but real power comes from combining them into systems.</div>
        </div>
      </section>

      <!-- Section: OVERVIEW -->
      <section id="overview" data-activity="overview">
        <h2 class="section-title">
          <span class="section-number">1</span>
          What's Here
        </h2>

        <div class="overview-box">
          <div class="overview-text">
            This section contains five guides for combining Claude Code patterns. Start with the Matrix for quick lookup, dive into Pairwise for mechanics, explore Extensions for the tool ecosystem, scale up with Triple+ Stacks, and pioneer with Unexplored Territory.
          </div>

          <ul class="feature-list">
            <li>
              <i data-lucide="check-circle" class="w-4 h-4 text-accent"></i>
              <span><strong>5 comprehensive guides</strong> covering all combination aspects</span>
            </li>
            <li>
              <i data-lucide="check-circle" class="w-4 h-4 text-accent"></i>
              <span><strong>ROI matrices</strong> to prioritize your investment</span>
            </li>
            <li>
              <i data-lucide="check-circle" class="w-4 h-4 text-accent"></i>
              <span><strong>Anti-patterns</strong> to avoid costly mistakes</span>
            </li>
            <li>
              <i data-lucide="check-circle" class="w-4 h-4 text-accent"></i>
              <span><strong>Troubleshooting sections</strong> in every guide</span>
            </li>
          </ul>
        </div>
      </section>

      <!-- Section: GUIDES -->
      <section id="guides" data-activity="guides">
        <h2 class="section-title">
          <span class="section-number">2</span>
          Combination Guides
        </h2>

        <div class="card-grid" id="matrix">
          <!-- Combination Matrix -->
          <a href="combinations-matrix.html" class="index-card">
            <div class="index-card-title">
              <i data-lucide="grid-3x3" class="w-5 h-5 text-accent"></i>
              Combination Matrix
            </div>
            <div class="index-card-description">
              Master reference for combining Claude Code patterns. Quick lookup of what works together, what conflicts, and ROI for each combination. Start here before attempting any multi-pattern setup.
            </div>
            <div class="index-card-meta">
              <span class="meta-tag difficulty-beginner">Start Here</span>
              <span class="meta-tag">7x7 Matrix</span>
              <span class="meta-tag">ROI Ratings</span>
            </div>
          </a>

          <!-- Pairwise Analysis -->
          <a href="combinations-pairwise.html" class="index-card" id="pairwise">
            <div class="index-card-title">
              <i data-lucide="git-merge" class="w-5 h-5 text-accent"></i>
              Pairwise Combination Analysis
            </div>
            <div class="index-card-description">
              Deep dive on two-pattern combinations. Explains exactly HOW and WHY combinations unlock new capabilities. Covers Loop + Tool, Orchestration + Verification, Memory + Learning, and more.
            </div>
            <div class="index-card-meta">
              <span class="meta-tag difficulty-intermediate">Intermediate</span>
              <span class="meta-tag">30+ Pairs</span>
              <span class="meta-tag">Implementation Code</span>
            </div>
          </a>

          <!-- Extensions Ecosystem -->
          <a href="combinations-extensions.html" class="index-card" id="extensions">
            <div class="index-card-title">
              <i data-lucide="puzzle" class="w-5 h-5 text-accent"></i>
              Extensions as Composition Layer
            </div>
            <div class="index-card-description">
              Complete guide to the Claude Code extension ecosystem. Plugins, MCP servers, and community tools as building blocks. Covers Claude HUD, Claude-Mem, Code-Simplifier, Ralph, CC Mirror, and more.
            </div>
            <div class="index-card-meta">
              <span class="meta-tag difficulty-intermediate">Intermediate</span>
              <span class="meta-tag">20+ Extensions</span>
              <span class="meta-tag">Installation Guides</span>
            </div>
          </a>

          <!-- Triple+ Stacks -->
          <a href="combinations-triple-plus.html" class="index-card" id="triple-plus">
            <div class="index-card-title">
              <i data-lucide="layers" class="w-5 h-5 text-accent"></i>
              Higher-Order Combinations
            </div>
            <div class="index-card-description">
              Advanced stacks of 3+ patterns. The configurations used by power users shipping production code at 5-10x velocity. Includes Unhobbled Stack, Boris Cherny's Creator Stack, Production Multi-Agent, and more.
            </div>
            <div class="index-card-meta">
              <span class="meta-tag difficulty-advanced">Advanced</span>
              <span class="meta-tag">10+ Stacks</span>
              <span class="meta-tag">5-Week Roadmap</span>
            </div>
          </a>

          <!-- Unexplored Territory -->
          <a href="combinations-unexplored.html" class="index-card" id="unexplored">
            <div class="index-card-title">
              <i data-lucide="map" class="w-5 h-5 text-accent"></i>
              Unexplored Territory Map
            </div>
            <div class="index-card-description">
              The frontier - pattern combinations that COULD exist but haven't been documented yet. Theoretical explorations for innovators. Ralph Colonies, Cross-Domain Correlation, Learned Skills, and 12 more ideas.
            </div>
            <div class="index-card-meta">
              <span class="meta-tag difficulty-advanced">Experimental</span>
              <span class="meta-tag">15 Ideas</span>
              <span class="meta-tag">Risk Assessment</span>
            </div>
          </a>
        </div>
      </section>

      <!-- Section: DECISION -->
      <section id="which-guide" data-activity="decision">
        <h2 class="section-title">
          <span class="section-number">3</span>
          Which Guide Do You Need?
        </h2>

        <div class="overview-box">
          <div class="overview-text" style="font-weight: 600; margin-bottom: 16px;">Quick Decision Tree:</div>

          <ul class="feature-list">
            <li>
              <i data-lucide="arrow-right" class="w-4 h-4 text-accent"></i>
              <span><strong>"Which patterns work together?"</strong> -> Combination Matrix</span>
            </li>
            <li>
              <i data-lucide="arrow-right" class="w-4 h-4 text-accent"></i>
              <span><strong>"How do I combine Ralph + Playwright?"</strong> -> Pairwise Analysis</span>
            </li>
            <li>
              <i data-lucide="arrow-right" class="w-4 h-4 text-accent"></i>
              <span><strong>"What plugins should I install?"</strong> -> Extensions Ecosystem</span>
            </li>
            <li>
              <i data-lucide="arrow-right" class="w-4 h-4 text-accent"></i>
              <span><strong>"What do power users run?"</strong> -> Triple+ Stacks</span>
            </li>
            <li>
              <i data-lucide="arrow-right" class="w-4 h-4 text-accent"></i>
              <span><strong>"What hasn't been tried yet?"</strong> -> Unexplored Territory</span>
            </li>
          </ul>
        </div>

        <div style="background: #ecfdf5; border: 1px solid #10b981; border-radius: 12px; padding: 20px; margin-bottom: 24px;">
          <div style="font-weight: 600; color: #166534; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
            <i data-lucide="lightbulb" class="w-5 h-5"></i>
            Recommended Reading Order
          </div>
          <div style="font-size: 14px; color: #166534;">
            1. <strong>Matrix</strong> (understand compatibility) -> 2. <strong>Extensions</strong> (install tools) -> 3. <strong>Pairwise</strong> (implement first combination) -> 4. <strong>Triple+</strong> (scale up) -> 5. <strong>Unexplored</strong> (innovate)
          </div>
        </div>
      </section>

    </main>

    <!-- Resizer -->
    <div class="resizer" data-resizer="activity-zone" aria-label="Resize activity panel"></div>

    <!-- Activity Zone -->
    <aside class="activity-zone" id="activityZone">
      <div class="text-xs font-semibold text-text-muted uppercase tracking-wider mb-4">Operational Intelligence</div>

      <!-- ESSENCE SECTION -->
      <div class="activity-item minimal" data-section="essence">
        <div class="activity-label" style="color: #84cc16;">
          <i data-lucide="minimize-2" class="w-4 h-4"></i>
          Core Mental Model
        </div>
        <div class="font-medium text-text-primary mb-2">Patterns = LEGO Blocks</div>
        <div class="text-text-secondary text-sm">
          <strong>Single Pattern:</strong> One capability<br>
          <strong>Two Patterns:</strong> Workflow<br>
          <strong>Three+ Patterns:</strong> System<br><br>
          <em>The magic isn't in any single pattern - it's in how they stack.</em>
        </div>
      </div>

      <div class="activity-item analogy" data-section="essence">
        <div class="activity-label" style="color: #d946ef;">
          <i data-lucide="git-compare" class="w-4 h-4"></i>
          Analogical Bridge
        </div>
        <div class="font-medium text-text-primary mb-2">Unix Philosophy Applied</div>
        <div class="text-text-secondary text-sm">
          Each pattern does ONE thing well:<br>
          - Ralph = iteration<br>
          - Hooks = automation<br>
          - Subagents = parallelism<br>
          - MCP = integration<br><br>
          <em>Pipe them together like Unix commands.</em>
        </div>
      </div>

      <!-- OVERVIEW SECTION -->
      <div class="activity-item expertise" data-section="overview">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="bar-chart-3" class="w-4 h-4"></i>
          Expertise Gradient
        </div>
        <div class="font-medium text-text-primary mb-2">Where are you in your journey?</div>
        <div class="text-text-secondary text-sm">
          <strong>Beginner:</strong> "What patterns exist?" -> Matrix<br>
          <strong>Intermediate:</strong> "How do I combine them?" -> Pairwise<br>
          <strong>Advanced:</strong> "What's the full stack?" -> Triple+<br>
          <strong>Staff:</strong> "What hasn't been tried?" -> Unexplored<br>
          <strong>Expert:</strong> You're writing the next guide
        </div>
      </div>

      <div class="activity-item tradeoff" data-section="overview">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="scale" class="w-4 h-4"></i>
          Trade-Off Tension
        </div>
        <div class="font-medium text-text-primary mb-2">More Patterns = More Power, More Complexity</div>
        <div class="text-text-secondary text-sm">
          <strong>1 pattern:</strong> Simple, limited capability<br>
          <strong>2-3 patterns:</strong> Sweet spot for most users<br>
          <strong>4-6 patterns:</strong> Power user territory<br>
          <strong>7+ patterns:</strong> Diminishing returns, high overhead<br><br>
          <em>The goal isn't maximum patterns - it's maximum leverage.</em>
        </div>
      </div>

      <!-- GUIDES SECTION -->
      <div class="activity-item constraint" data-section="guides">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="link-2" class="w-4 h-4"></i>
          Document Relationships
        </div>
        <div class="font-medium text-text-primary mb-2">How the guides connect</div>
        <div class="text-text-secondary text-sm">
          <strong>Matrix</strong> answers: What + What = ?<br>
          <strong>Pairwise</strong> answers: How + Why does it work?<br>
          <strong>Extensions</strong> answers: What tools enable this?<br>
          <strong>Triple+</strong> answers: What do experts run?<br>
          <strong>Unexplored</strong> answers: What's left to discover?
        </div>
      </div>

      <div class="activity-item warstory" data-section="guides">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="user" class="w-4 h-4"></i>
          War Story
        </div>
        <div class="font-medium text-text-primary mb-2">Boris Cherny: 100% AI-contributed code</div>
        <div class="text-text-secondary text-sm">
          Claude Code creator runs 5-10 parallel sessions with shared CLAUDE.md, Opus 4.5, plan mode -> auto-accept, and verification loops. Stack documented in Triple+ guide.
        </div>
      </div>

      <div class="activity-item frontier" data-section="guides">
        <div class="activity-label" style="color: #ef4444;">
          <i data-lucide="flask-conical" class="w-4 h-4"></i>
          Research Frontier
        </div>
        <div class="font-medium text-text-primary mb-2">Open questions</div>
        <div class="text-text-secondary text-sm">
          - Optimal compaction for progress.txt?<br>
          - Cross-session debugging tools?<br>
          - Cost attribution per agent?<br>
          - Self-modifying orchestration?<br><br>
          <em>See Unexplored Territory for experimentation ideas.</em>
        </div>
      </div>

      <!-- DECISION SECTION -->
      <div class="activity-item inflection" data-section="decision">
        <div class="activity-label" style="color: #eab308;">
          <i data-lucide="activity" class="w-4 h-4"></i>
          Decision Point
        </div>
        <div class="font-medium text-text-primary mb-2">When to add another pattern</div>
        <div class="text-text-secondary text-sm">
          <strong>Add a pattern when:</strong><br>
          - Current setup has clear friction point<br>
          - New pattern addresses that friction<br>
          - ROI in Matrix shows 4/5 or 5/5<br><br>
          <strong>Don't add a pattern when:</strong><br>
          - "It seems cool"<br>
          - You haven't mastered current patterns<br>
          - The Matrix shows Anti-pattern
        </div>
      </div>

      <div class="activity-item violation" data-section="decision">
        <div class="activity-label" style="color: #f97316;">
          <i data-lucide="alert-octagon" class="w-4 h-4"></i>
          Common Anti-Pattern
        </div>
        <div class="font-medium text-text-primary mb-2">Pattern Hoarding</div>
        <div class="text-text-secondary text-sm">
          <strong>Symptom:</strong> 8 patterns configured, none working well<br>
          <strong>Cause:</strong> Adding patterns without mastering previous<br>
          <strong>Fix:</strong> Strip back to 1-2, master them, then expand<br><br>
          <em>Width without depth = chaos.</em>
        </div>
      </div>

      <div class="activity-item alternative" data-section="decision">
        <div class="activity-label" style="color: #6b7280;">
          <i data-lucide="arrow-right" class="w-4 h-4"></i>
          Alternative Paths
        </div>
        <div class="font-medium text-text-primary mb-2">If combinations aren't for you</div>
        <div class="text-text-secondary text-sm">
          <strong>Want simplicity?</strong> -> Stay with single patterns<br>
          <strong>Want orchestration?</strong> -> CC Mirror handles most needs<br>
          <strong>Want overnight dev?</strong> -> Ralph + Hooks is enough<br><br>
          <em>Not everyone needs the full stack.</em>
        </div>
      </div>

    </aside>
  </div>

  <script>
    /**
     * PanelResizer - Handles draggable panel dividers
     */
    class PanelResizer {
      constructor(resizerEl, config = {}) {
        this.resizer = resizerEl;
        this.config = {
          storageKey: 'panel-activity-zone-width',
          minWidth: 280,
          maxWidth: 900,
          defaultWidth: 480,
          ...config
        };

        this.isResizing = false;
        this.startX = 0;
        this.startWidth = 0;

        this.activityZone = document.querySelector('.activity-zone');
        this.mainContent = document.querySelector('.main-content');

        this.onMouseDown = this.onMouseDown.bind(this);
        this.onMouseMove = this.onMouseMove.bind(this);
        this.onMouseUp = this.onMouseUp.bind(this);

        this.init();
      }

      init() {
        this.restoreWidth();
        this.resizer.addEventListener('mousedown', this.onMouseDown);
      }

      onMouseDown(e) {
        if (e.button !== 0) return;

        this.isResizing = true;
        this.startX = e.clientX;
        this.startWidth = this.activityZone.offsetWidth;

        this.resizer.classList.add('active');
        document.body.classList.add('resizing');

        document.addEventListener('mousemove', this.onMouseMove);
        document.addEventListener('mouseup', this.onMouseUp);

        e.preventDefault();
      }

      onMouseMove(e) {
        if (!this.isResizing) return;

        const delta = this.startX - e.clientX;
        const newWidth = this.startWidth + delta;

        const constrainedWidth = Math.max(
          this.config.minWidth,
          Math.min(this.config.maxWidth, newWidth)
        );

        this.activityZone.style.width = constrainedWidth + 'px';
        this.mainContent.style.marginRight = constrainedWidth + 'px';
        this.resizer.style.right = constrainedWidth + 'px';
      }

      onMouseUp(e) {
        if (!this.isResizing) return;

        this.isResizing = false;

        this.resizer.classList.remove('active');
        document.body.classList.remove('resizing');

        document.removeEventListener('mousemove', this.onMouseMove);
        document.removeEventListener('mouseup', this.onMouseUp);

        this.saveWidth();
      }

      saveWidth() {
        const width = this.activityZone.offsetWidth;
        localStorage.setItem(this.config.storageKey, JSON.stringify({
          width,
          timestamp: Date.now()
        }));
      }

      restoreWidth() {
        try {
          const stored = localStorage.getItem(this.config.storageKey);
          if (stored) {
            const { width } = JSON.parse(stored);
            if (width >= this.config.minWidth && width <= this.config.maxWidth) {
              this.activityZone.style.width = width + 'px';
              this.mainContent.style.marginRight = width + 'px';
              this.resizer.style.right = width + 'px';
            }
          }
        } catch (e) {
          console.warn('Failed to restore panel width:', e);
        }
      }

      destroy() {
        this.resizer.removeEventListener('mousedown', this.onMouseDown);
        document.removeEventListener('mousemove', this.onMouseMove);
        document.removeEventListener('mouseup', this.onMouseUp);
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const resizers = document.querySelectorAll('[data-resizer]');
      resizers.forEach(resizer => new PanelResizer(resizer));
    });

    // Initialize Lucide icons
    lucide.createIcons();

    // Navigation toggle
    function toggleSection(header) {
      const section = header.closest('.nav-section');
      section.classList.toggle('expanded');
      const children = section.querySelector('.nav-children');
      children.classList.toggle('expanded');
    }

    // Mobile menu toggle
    function toggleMobileMenu() {
      const nav = document.getElementById('leftNav');
      nav.classList.toggle('open');
    }

    // Scroll-sync with GSAP ScrollTrigger
    gsap.registerPlugin(ScrollTrigger);

    const sections = document.querySelectorAll('[data-activity]');
    const activityItems = document.querySelectorAll('.activity-item');

    sections.forEach(section => {
      ScrollTrigger.create({
        trigger: section,
        start: 'top 40%',
        end: 'bottom 40%',
        onEnter: () => activateSection(section.dataset.activity),
        onEnterBack: () => activateSection(section.dataset.activity),
      });
    });

    function activateSection(sectionName) {
      activityItems.forEach(item => {
        if (item.dataset.section === sectionName) {
          item.classList.add('active');
          gsap.to(item, {
            opacity: 1,
            y: -2,
            boxShadow: '0 4px 12px rgba(0,0,0,0.08)',
            duration: 0.3,
            ease: 'power2.out'
          });
        } else {
          item.classList.remove('active');
          gsap.to(item, {
            opacity: 0.5,
            y: 0,
            boxShadow: 'none',
            duration: 0.3,
            ease: 'power2.out'
          });
        }
      });

      document.querySelectorAll('.nav-section-header').forEach(header => {
        header.classList.remove('active');
      });
      const activeNav = document.querySelector(`[data-section="${sectionName}"] .nav-section-header`);
      if (activeNav) {
        activeNav.classList.add('active');
      }
    }

    // Initialize first section as active
    activateSection('essence');

    // Smooth scroll for nav links
    document.querySelectorAll('.nav-item').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          document.querySelectorAll('.nav-item').forEach(l => l.classList.remove('active'));
          link.classList.add('active');
        }
      });
    });

    // Brushing interaction
    activityItems.forEach(item => {
      item.addEventListener('mouseenter', () => {
        const sectionName = item.dataset.section;
        const relatedSection = document.querySelector(`[data-activity="${sectionName}"]`);
        if (relatedSection) {
          relatedSection.style.backgroundColor = 'rgba(13, 147, 115, 0.05)';
          relatedSection.style.transition = 'background-color 0.3s ease';
        }
      });

      item.addEventListener('mouseleave', () => {
        const sectionName = item.dataset.section;
        const relatedSection = document.querySelector(`[data-activity="${sectionName}"]`);
        if (relatedSection) {
          relatedSection.style.backgroundColor = '';
        }
      });
    });
  </script>
</body>
</html>
