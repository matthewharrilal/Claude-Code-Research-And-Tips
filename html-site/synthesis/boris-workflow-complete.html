<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boris Cherny's Complete Workflow | Claude Code Documentation</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- GSAP for scroll-sync -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <!-- Tailwind Config with Design Tokens -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'bg-base': '#ffffff',
            'bg-subtle': '#fafafa',
            'bg-muted': '#f4f4f5',
            'text-primary': '#18181b',
            'text-secondary': '#3f3f46',
            'text-muted': '#71717a',
            'accent': '#0D9373',
            'accent-light': '#10b981',
            'accent-bg': '#ecfdf5',
            'border': '#e4e4e7',
            // Activity Zone content type colors (Original 6)
            'az-invariant': '#3b82f6',    // Blue
            'az-effect': '#f59e0b',       // Amber
            'az-composition': '#8b5cf6',  // Purple
            'az-frontier': '#ef4444',     // Red
            'az-warstory': '#10b981',     // Green
            'az-alternative': '#6b7280',  // Gray
            // Activity Zone generative content types (New 10)
            'az-inversion': '#4f46e5',    // Indigo
            'az-constraint': '#8b5cf6',   // Violet
            'az-gradient': '#f43f5e',     // Rose
            'az-horizon': '#06b6d4',      // Cyan
            'az-violation': '#f97316',    // Orange
            'az-tradeoff': '#f59e0b',     // Amber
            'az-analogy': '#d946ef',      // Fuchsia
            'az-expertise': '#10b981',    // Emerald
            'az-minimal': '#84cc16',      // Lime
            'az-inflection': '#eab308',   // Yellow
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['Fira Code', 'monospace'],
          },
        },
      },
    }
  </script>

  <style>
    /* Base Styles */
    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: 80px;
    }

    [id] {
      scroll-margin-top: 80px;
    }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: #ffffff;
      color: #18181b;
      line-height: 1.7;
    }

    /* Three Panel Layout */
    .three-panel-layout {
      min-height: 100vh;
      position: relative;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 56px;
      background: #ffffff;
      border-bottom: 1px solid #e4e4e7;
      z-index: 100;
      display: flex;
      align-items: center;
      padding: 0 24px;
    }

    /* Left Navigation - 240px fixed */
    .left-nav {
      position: fixed;
      top: 56px;
      left: 0;
      width: 240px;
      height: calc(100vh - 56px);
      border-right: 1px solid #e4e4e7;
      background: #ffffff;
      overflow-y: auto;
      padding: 16px 0;
      z-index: 40;
    }

    .nav-section {
      padding: 0 12px;
      margin-bottom: 8px;
    }

    .nav-section-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      font-size: 14px;
      font-weight: 500;
      color: #3f3f46;
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.15s;
    }

    .nav-section-header:hover {
      background: #f4f4f5;
    }

    .nav-section-header.active {
      color: #0D9373;
      background: #ecfdf5;
    }

    .nav-item {
      display: block;
      padding: 6px 12px 6px 44px;
      font-size: 14px;
      color: #71717a;
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.15s;
    }

    .nav-item:hover {
      color: #3f3f46;
      background: #f4f4f5;
    }

    .nav-item.active {
      color: #0D9373;
      background: #ecfdf5;
    }

    .nav-children {
      display: none;
      overflow: hidden;
    }

    .nav-children.expanded {
      display: block;
    }

    .nav-chevron {
      transition: transform 0.2s;
    }

    .nav-section.expanded .nav-chevron {
      transform: rotate(90deg);
    }

    /* Main Content - Flexible, margins for fixed sidebars */
    .main-content {
      margin-left: 240px;
      margin-right: 480px;
      margin-top: 56px;
      padding: 48px 48px;
      min-width: 400px;
    }

    /* Activity Zone - 480px fixed */
    .activity-zone {
      position: fixed;
      top: 56px;
      right: 0;
      width: 480px;
      height: calc(100vh - 56px);
      border-left: 1px dashed #e4e4e7;
      background: #fafafa;
      overflow-y: auto;
      padding: 24px 20px;
      z-index: 40;
    }

    /* Responsive: Hide Activity Zone below 1400px */
    @media (max-width: 1400px) {
      .activity-zone {
        display: none;
      }
      .main-content {
        margin-right: 0;
        padding: 40px 32px;
      }
    }

    /* Responsive: Hide Left Nav below 768px */
    @media (max-width: 768px) {
      .left-nav {
        display: none;
      }
      .left-nav.open {
        display: block;
        position: fixed;
        top: 56px;
        left: 0;
        right: 0;
        bottom: 0;
        background: #ffffff;
        z-index: 50;
        overflow-y: auto;
      }
      .main-content {
        margin-left: 0;
        padding: 24px 16px;
        min-width: auto;
      }
    }

    /* Resizer - Draggable divider between Main Panel and Activity Zone */
    .resizer {
      position: fixed;
      top: 56px;
      right: 480px;
      width: 6px;
      height: calc(100vh - 56px);
      cursor: col-resize;
      background: transparent;
      z-index: 50;
      transition: background 0.15s ease;
    }

    .resizer:hover {
      background: rgba(13, 147, 115, 0.15);
    }

    .resizer.active {
      background: rgba(13, 147, 115, 0.25);
    }

    /* Prevent text selection during resize */
    body.resizing {
      user-select: none;
      cursor: col-resize !important;
    }

    body.resizing * {
      cursor: col-resize !important;
    }

    /* Hide resizer when Activity Zone is hidden (responsive) */
    @media (max-width: 1400px) {
      .resizer {
        display: none;
      }
    }

    /* Activity Zone Items */
    .activity-item {
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
      background: #ffffff;
      border: 1px solid #e4e4e7;
      font-size: 14px;
      line-height: 1.6;
      opacity: 0.5;
      transition: all 0.3s ease;
    }

    .activity-item.active {
      opacity: 1;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    .activity-item:hover {
      opacity: 1;
    }

    .activity-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* Activity Zone content type borders (Original 6) */
    .activity-item.invariant { border-left: 4px solid #3b82f6; }
    .activity-item.effect { border-left: 4px solid #f59e0b; }
    .activity-item.composition { border-left: 4px solid #8b5cf6; }
    .activity-item.frontier { border-left: 4px solid #ef4444; }
    .activity-item.warstory { border-left: 4px solid #10b981; }
    .activity-item.alternative { border-left: 4px solid #6b7280; }

    /* Activity Zone generative content types (New 10) */
    .activity-item.inversion { border-left: 4px solid #4f46e5; }
    .activity-item.constraint { border-left: 4px solid #8b5cf6; }
    .activity-item.gradient { border-left: 4px solid #f43f5e; }
    .activity-item.horizon { border-left: 4px solid #06b6d4; }
    .activity-item.violation { border-left: 4px solid #f97316; }
    .activity-item.tradeoff { border-left: 4px solid #f59e0b; }
    .activity-item.analogy { border-left: 4px solid #d946ef; }
    .activity-item.expertise { border-left: 4px solid #10b981; }
    .activity-item.minimal { border-left: 4px solid #84cc16; }
    .activity-item.inflection { border-left: 4px solid #eab308; }

    /* Main Content Components */

    /* Section titles with number */
    .section-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      background: #0D9373;
      color: #ffffff;
      font-size: 14px;
      font-weight: 600;
      border-radius: 50%;
      margin-right: 12px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 600;
      color: #18181b;
      margin-bottom: 20px;
      margin-top: 56px;
      display: flex;
      align-items: center;
    }

    .section-title:first-child {
      margin-top: 0;
    }

    /* Essence Box (15 words) */
    .essence-box {
      background: linear-gradient(135deg, #18181b 0%, #27272a 100%);
      border-radius: 12px;
      padding: 32px;
      margin-bottom: 40px;
    }

    .essence-label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #10b981;
      margin-bottom: 12px;
    }

    .essence-text {
      font-size: 22px;
      font-weight: 500;
      color: #ffffff;
      line-height: 1.4;
    }

    /* Creator Attribution Box */
    .creator-box {
      background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
      border: 1px solid #bbf7d0;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 32px;
    }

    .creator-title {
      font-size: 14px;
      font-weight: 600;
      color: #166534;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .creator-quote {
      font-size: 16px;
      color: #15803d;
      font-style: italic;
    }

    /* Core Abstraction Box */
    .core-abstraction {
      background: #fafafa;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 40px;
    }

    .core-philosophy {
      font-size: 16px;
      color: #3f3f46;
      margin-bottom: 16px;
      font-style: italic;
    }

    .core-code {
      background: #18181b;
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 16px;
      overflow-x: auto;
    }

    .core-code code {
      font-family: 'Fira Code', monospace;
      font-size: 15px;
      color: #10b981;
      white-space: nowrap;
    }

    .core-anchor {
      font-size: 14px;
      color: #71717a;
      text-align: center;
    }

    /* Design Decision Box */
    .decision-box {
      background: #ffffff;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
    }

    .decision-why {
      font-size: 16px;
      font-weight: 600;
      color: #0D9373;
      margin-bottom: 12px;
    }

    .decision-reasoning {
      font-size: 14px;
      color: #3f3f46;
      margin-bottom: 16px;
    }

    .decision-implication {
      background: #f4f4f5;
      border-radius: 8px;
      padding: 16px;
    }

    .decision-implication-label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      color: #71717a;
      margin-bottom: 8px;
    }

    /* Code Blocks */
    .code-block {
      background: #18181b;
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 24px;
      position: relative;
      overflow-x: auto;
    }

    .code-block pre {
      margin: 0;
      font-family: 'Fira Code', monospace;
      font-size: 13px;
      color: #e4e4e7;
      line-height: 1.6;
    }

    .code-block .comment { color: #6b7280; }
    .code-block .keyword { color: #c084fc; }
    .code-block .string { color: #10b981; }
    .code-block .variable { color: #60a5fa; }

    .copy-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: #3f3f46;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      padding: 6px 10px;
      font-size: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      transition: background 0.15s;
    }

    .copy-btn:hover {
      background: #52525b;
    }

    /* Path Steps */
    .path-container {
      background: #fafafa;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 40px;
    }

    .path-step {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
    }

    .path-step:last-child {
      margin-bottom: 0;
    }

    .path-number {
      flex-shrink: 0;
      width: 24px;
      height: 24px;
      background: #0D9373;
      color: #ffffff;
      font-size: 12px;
      font-weight: 600;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .path-content {
      flex: 1;
      font-size: 14px;
      color: #3f3f46;
    }

    .path-content code {
      background: #e4e4e7;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 13px;
    }

    /* Gotcha Box */
    .gotcha-box {
      background: #fffbeb;
      border: 1px solid #fcd34d;
      border-left: 4px solid #f59e0b;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
    }

    .gotcha-title {
      font-weight: 600;
      color: #92400e;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .gotcha-detail {
      font-size: 14px;
      color: #78350f;
      margin-bottom: 8px;
    }

    .gotcha-detail strong {
      color: #92400e;
    }

    /* What's Hard Box */
    .hard-box {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-left: 4px solid #ef4444;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
    }

    .hard-title {
      font-weight: 600;
      color: #991b1b;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .hard-detail {
      font-size: 14px;
      color: #7f1d1d;
      margin-bottom: 8px;
    }

    /* When To Use Grid */
    .when-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 40px;
    }

    @media (max-width: 900px) {
      .when-grid {
        grid-template-columns: 1fr;
      }
    }

    .when-use {
      background: #f0fdf4;
      border: 1px solid #bbf7d0;
      border-radius: 12px;
      padding: 24px;
    }

    .when-not {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-radius: 12px;
      padding: 24px;
    }

    .when-title {
      font-weight: 600;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .when-use .when-title { color: #166534; }
    .when-not .when-title { color: #991b1b; }

    .when-item {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
      font-size: 14px;
    }

    .when-use .when-item { color: #166534; }
    .when-not .when-item { color: #991b1b; }

    /* Workflow Diagram Box */
    .workflow-diagram {
      background: #fafafa;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 32px;
      overflow-x: auto;
    }

    .workflow-diagram pre {
      font-family: 'Fira Code', monospace;
      font-size: 12px;
      line-height: 1.4;
      color: #3f3f46;
      margin: 0;
    }

    /* Stats Box */
    .stats-box {
      background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
      border: 1px solid #c4b5fd;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 32px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      text-align: center;
    }

    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .stat-item {
      padding: 16px;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      color: #7c3aed;
      margin-bottom: 4px;
    }

    .stat-label {
      font-size: 12px;
      color: #6d28d9;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Verification Table */
    .verification-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 24px;
    }

    .verification-table th,
    .verification-table td {
      padding: 12px 16px;
      text-align: left;
      border-bottom: 1px solid #e4e4e7;
      font-size: 14px;
    }

    .verification-table th {
      background: #f4f4f5;
      font-weight: 600;
      color: #3f3f46;
    }

    .verification-table td {
      color: #3f3f46;
    }

    .verification-table code {
      background: #e4e4e7;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 12px;
    }

    /* Think Keywords Table */
    .think-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 24px;
    }

    .think-table th,
    .think-table td {
      padding: 12px 16px;
      text-align: left;
      border-bottom: 1px solid #e4e4e7;
      font-size: 14px;
    }

    .think-table th {
      background: #ecfdf5;
      font-weight: 600;
      color: #166534;
    }

    .think-table td {
      color: #3f3f46;
    }

    .think-table code {
      background: #d1fae5;
      color: #166534;
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 13px;
    }

    /* Checklist Box */
    .checklist-box {
      background: #ffffff;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
    }

    .checklist-title {
      font-size: 16px;
      font-weight: 600;
      color: #18181b;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .checklist-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 8px 0;
      font-size: 14px;
      color: #3f3f46;
    }

    .checklist-item input[type="checkbox"] {
      margin-top: 4px;
      width: 16px;
      height: 16px;
      accent-color: #0D9373;
    }

    /* Mobile Menu Button */
    .mobile-menu-btn {
      display: none;
      padding: 8px;
      background: none;
      border: none;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: flex;
      }
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: #fafafa;
    }

    ::-webkit-scrollbar-thumb {
      background: #d4d4d8;
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #a1a1aa;
    }

    /* Keyboard shortcut hint */
    .kbd {
      display: inline-flex;
      align-items: center;
      padding: 2px 6px;
      background: #f4f4f5;
      border: 1px solid #e4e4e7;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 12px;
      color: #71717a;
    }

    /* Quote Highlight */
    .quote-highlight {
      background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
      border-left: 4px solid #10b981;
      border-radius: 0 8px 8px 0;
      padding: 20px 24px;
      margin: 24px 0;
      font-style: italic;
      color: #166534;
    }

    .quote-highlight .attribution {
      font-style: normal;
      font-size: 13px;
      color: #15803d;
      margin-top: 12px;
    }

    /* Subagent File Tree */
    .file-tree {
      background: #f4f4f5;
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 24px;
      font-family: 'Fira Code', monospace;
      font-size: 13px;
      line-height: 1.8;
      color: #3f3f46;
    }

    .file-tree .folder { color: #f59e0b; }
    .file-tree .file { color: #3b82f6; }
    .file-tree .comment { color: #71717a; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Toggle menu">
      <i data-lucide="menu" class="w-5 h-5 text-text-secondary"></i>
    </button>
    <div class="flex items-center gap-3">
      <i data-lucide="terminal" class="w-5 h-5 text-accent"></i>
      <span class="font-semibold text-text-primary">Claude Code</span>
    </div>
    <div class="flex-1 flex justify-center">
      <button class="flex items-center gap-2 px-4 py-2 bg-bg-muted rounded-lg text-text-muted text-sm hover:bg-border transition-colors">
        <i data-lucide="search" class="w-4 h-4"></i>
        <span>Search documentation...</span>
        <span class="kbd">Cmd+K</span>
      </button>
    </div>
    <div class="flex items-center gap-4">
      <a href="#" class="text-sm text-text-muted hover:text-text-primary transition-colors">Support</a>
      <button class="p-2 hover:bg-bg-muted rounded-lg transition-colors" aria-label="Toggle theme">
        <i data-lucide="sun" class="w-4 h-4 text-text-muted"></i>
      </button>
    </div>
  </header>

  <div class="three-panel-layout">
    <!-- Left Navigation -->
    <nav class="left-nav" id="leftNav">
      <div class="px-4 mb-4">
        <span class="text-xs font-semibold text-text-muted uppercase tracking-wider">Boris Cherny's Workflow</span>
      </div>

      <!-- Essence -->
      <div class="nav-section expanded" data-section="essence">
        <div class="nav-section-header active" onclick="toggleSection(this)">
          <i data-lucide="zap" class="w-4 h-4"></i>
          <span>Essence</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children expanded">
          <a href="#essence" class="nav-item active">The Creator's Mental Model</a>
        </div>
      </div>

      <!-- Core Abstraction -->
      <div class="nav-section expanded" data-section="core">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="box" class="w-4 h-4"></i>
          <span>Core Abstraction</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children expanded">
          <a href="#core-abstraction" class="nav-item">Compounding Formula</a>
        </div>
      </div>

      <!-- Design Decisions -->
      <div class="nav-section expanded" data-section="decisions">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="lightbulb" class="w-4 h-4"></i>
          <span>Design Decisions</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children expanded">
          <a href="#why-fresh-context" class="nav-item">Why Fresh Context?</a>
          <a href="#why-external-state" class="nav-item">Why External State?</a>
          <a href="#why-verification" class="nav-item">Why Verification Loops?</a>
          <a href="#why-opus" class="nav-item">Why Opus 4.5?</a>
        </div>
      </div>

      <!-- File Structure -->
      <div class="nav-section" data-section="files">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="folder" class="w-4 h-4"></i>
          <span>File Structure</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children">
          <a href="#file-structure" class="nav-item">CLAUDE.md Setup</a>
          <a href="#slash-commands" class="nav-item">Slash Commands</a>
          <a href="#subagents" class="nav-item">Subagent Library</a>
          <a href="#hooks" class="nav-item">Hook Configuration</a>
        </div>
      </div>

      <!-- Path of a Session -->
      <div class="nav-section" data-section="path">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="git-branch" class="w-4 h-4"></i>
          <span>Path of a Session</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children">
          <a href="#path" class="nav-item">The 13-Point Flow</a>
        </div>
      </div>

      <!-- Gotchas -->
      <div class="nav-section" data-section="gotchas">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="alert-triangle" class="w-4 h-4"></i>
          <span>Gotchas</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children">
          <a href="#gotchas" class="nav-item">Practical Problems</a>
        </div>
      </div>

      <!-- What's Hard -->
      <div class="nav-section" data-section="hard">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="flame" class="w-4 h-4"></i>
          <span>What's Hard</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children">
          <a href="#hard" class="nav-item">Real Complexity</a>
        </div>
      </div>

      <!-- When to Use -->
      <div class="nav-section" data-section="when">
        <div class="nav-section-header" onclick="toggleSection(this)">
          <i data-lucide="check-circle" class="w-4 h-4"></i>
          <span>When to Use</span>
          <i data-lucide="chevron-right" class="w-4 h-4 nav-chevron ml-auto"></i>
        </div>
        <div class="nav-children">
          <a href="#when" class="nav-item">Implementation Timeline</a>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">

      <!-- Section 1: ESSENCE -->
      <section id="essence" data-activity="essence">
        <div class="essence-box">
          <div class="essence-label">Essence (15 words)</div>
          <div class="essence-text">Treat Claude Code as capacity you schedule: parallel sessions, fresh contexts, verification loops, compounding CLAUDE.md.</div>
        </div>

        <div class="creator-box">
          <div class="creator-title">
            <i data-lucide="user" class="w-4 h-4"></i>
            Boris Cherny - Creator of Claude Code, Staff Engineer at Anthropic
          </div>
          <div class="creator-quote">"I'm Boris and I created Claude Code. My setup might be surprisingly vanilla!"</div>
        </div>

        <p class="text-text-secondary mb-6">
          Boris Cherny treats Claude Code not as a tool you use, but as <strong>capacity you schedule</strong>. His workflow is built on distributed cognition: 10-15 concurrent Claude sessions across terminal, browser, and mobile, each handling separate workflows like independent workers.
        </p>

        <div class="quote-highlight">
          "A wrong fast answer is slower than a right slow answer."
          <div class="attribution">This inverts typical cost-per-token thinking toward cost-per-reliable-outcome.</div>
        </div>

        <div class="stats-box">
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-value">259</div>
              <div class="stat-label">PRs in 30 days</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">497</div>
              <div class="stat-label">Commits</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">10-15</div>
              <div class="stat-label">Parallel Sessions</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">2-3x</div>
              <div class="stat-label">Quality with Verification</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Section 2: CORE ABSTRACTION + IMPLEMENTATION -->
      <section id="core-abstraction" data-activity="core">
        <h2 class="section-title">
          <span class="section-number">2</span>
          The Core Abstraction
        </h2>

        <div class="core-abstraction">
          <div class="core-philosophy">"Think of Claude Code as a compounding system - not a one-shot tool, but an evolving teammate."</div>

          <div class="core-code">
            <button class="copy-btn" onclick="copyCode(this, 'Output = Capability x Time x (1 + Learning Rate)^Sessions')">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <code>Output = Capability x Time x (1 + Learning Rate)^Sessions</code>
          </div>

          <div class="core-anchor">Each session that updates CLAUDE.md increases effective capability for ALL future sessions.</div>
        </div>

        <p class="text-text-secondary mb-6">
          Linear usage is <code>Output = Capability x Time</code>. Boris's compounding usage adds the exponential term. Each session that updates CLAUDE.md with learnings increases capability for every future session by every team member. This is why CLAUDE.md is checked into git, shared across team, and kept under 2500 tokens.
        </p>

        <h3 class="font-semibold text-lg mb-4">What Enables Compounding</h3>
        <ul class="list-disc list-inside text-text-secondary mb-6 space-y-2">
          <li><strong>Shared, git-checked CLAUDE.md</strong> - Team knowledge compounds</li>
          <li><strong>Mistake to Rule conversion</strong> - Every failure improves future</li>
          <li><strong>Team contribution to CLAUDE.md</strong> - Multiplied learning</li>
          <li><strong>Verification loops confirm improvements work</strong> - Feedback validates</li>
        </ul>

        <h3 class="font-semibold text-lg mb-4">What Breaks Compounding</h3>
        <ul class="list-disc list-inside text-text-secondary mb-6 space-y-2">
          <li><strong>Individual CLAUDE.md files</strong> - Knowledge doesn't compound across team</li>
          <li><strong>Ignoring failures</strong> - Same mistakes repeat</li>
          <li><strong>CLAUDE.md bloat</strong> - Context window waste</li>
          <li><strong>Skipping verification</strong> - Bad patterns persist</li>
        </ul>
      </section>

      <!-- Section 3: DESIGN DECISIONS -->
      <section id="why-fresh-context" data-activity="decisions">
        <h2 class="section-title">
          <span class="section-number">3</span>
          Design Decisions
        </h2>

        <div class="decision-box">
          <div class="decision-why">WHY FRESH CONTEXT?</div>
          <div class="decision-reasoning">
            Fresh context windows eliminate accumulated errors, hallucinations, and "context rot" that builds up in extended sessions. Boris prefers many short sessions over one long session because each fresh context operates at peak capability.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              <strong>Quality Thresholds:</strong><br>
              0-50% context: Full quality<br>
              50-70%: Monitor closely<br>
              70-85%: Significant degradation likely<br>
              85%+: Finish task and restart<br><br>
              When context reaches 70%, start wrapping up. Don't push through hoping quality will hold.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-external-state">
          <div class="decision-why">WHY EXTERNAL STATE?</div>
          <div class="decision-reasoning">
            Claude cannot remember across sessions. All persistent state must be externalized - to files, git, or databases. The principle: external state > internal memory. If it's not in a file, it doesn't exist.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              <strong>Externalized State Locations:</strong><br>
              1. CLAUDE.md - Project knowledge, conventions, gotchas<br>
              2. TODO.md - Session handoff, work in progress<br>
              3. Git commits - Implementation decisions<br>
              4. .claude/commands/ - Reusable workflows<br>
              5. .claude/agents/ - Specialized behaviors<br>
              6. .claude/settings.json - Configuration
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-verification">
          <div class="decision-why">WHY VERIFICATION LOOPS?</div>
          <div class="decision-reasoning">
            Boris's highest-impact recommendation: verification loops 2-3x output quality. Without feedback loops, Claude operates blind. With them, Claude iterates until success. "Probably the most important thing to get great results out of Claude Code: give Claude a way to verify its work."
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Add verification commands to CLAUDE.md. Configure hooks to run automatically. For UI work, use the Chrome extension. For mobile, use simulators. Never commit without passing verification.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-opus">
          <div class="decision-why">WHY OPUS 4.5 FOR EVERYTHING?</div>
          <div class="decision-reasoning">
            "I use Opus 4.5 with thinking for everything. Even though it's bigger and slower than Sonnet, since you have to steer it less and it's better at tool use, it is almost always faster than using a smaller model in the end."
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">The Math</div>
            <div class="text-text-secondary text-sm">
              Total Time = Generation Time + Correction Time + Re-prompting Time<br><br>
              <strong>Opus:</strong> Higher generation, MUCH lower correction/re-prompting<br>
              <strong>Sonnet:</strong> Lower generation, significantly higher correction loops<br><br>
              Net result: Opus wins on total time despite slower generation.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 4: FILE STRUCTURE -->
      <section id="file-structure" data-activity="files">
        <h2 class="section-title">
          <span class="section-number">4</span>
          The File Structure
        </h2>

        <div class="file-tree">
          <span class="folder">project/</span><br>
          <span class="file">├── CLAUDE.md</span> <span class="comment"># Team memory, &lt;2500 tokens</span><br>
          <span class="folder">├── .claude/</span><br>
          <span class="folder">│   ├── commands/</span> <span class="comment"># Inner loop automation</span><br>
          <span class="file">│   │   ├── commit-push-pr.md</span><br>
          <span class="file">│   │   └── quick-commit.md</span><br>
          <span class="folder">│   ├── agents/</span> <span class="comment"># Outer workflows</span><br>
          <span class="file">│   │   ├── code-simplifier.md</span><br>
          <span class="file">│   │   ├── verify-app.md</span><br>
          <span class="file">│   │   └── build-validator.md</span><br>
          <span class="file">│   └── settings.json</span> <span class="comment"># Hooks, permissions</span><br>
          <span class="file">└── TODO.md</span> <span class="comment"># Session handoff (optional)</span>
        </div>

        <h3 class="font-semibold text-lg mb-4" id="slash-commands">CLAUDE.md - The Foundation</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># CLAUDE.md</span>

<span class="comment">## Build Commands</span>
- `npm run build` - Production build
- `npm run test` - Run all tests
- `npm run typecheck` - TypeScript verification

<span class="comment">## Code Style</span>
- Prefer `function` keyword over arrow functions
- Explicit return type annotations for top-level functions
- Avoid nested ternary operators

<span class="comment">## Common Gotchas</span>
- [Mistake observed] → [Correct approach]
- [Another mistake] → [Fix]

<span class="comment">## PR Template</span>
- Include test coverage
- Update docs if API changes</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4">/commit-push-pr - Boris's Most Used Command</h3>

        <p class="text-text-secondary mb-4">Boris runs this "dozens of times every day". It runs git status, git diff, generates an appropriate commit message, creates the commit, pushes to remote, and opens a PR.</p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># .claude/commands/commit-push-pr.md</span>

First, run these bash commands to gather context:
- git status
- git diff --staged
- git log --oneline -5

Then create a commit following these rules:
1. Message format: type(scope): description
2. Types: feat, fix, refactor, docs, test, chore
3. Keep subject line &lt; 50 characters
4. Body explains WHY, not WHAT

After commit, push and create PR:
- git push -u origin HEAD
- gh pr create --title "[commit subject]" --body "[generated description]"</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="subagents">Subagent Library</h3>

        <p class="text-text-secondary mb-4">Boris uses specialized subagents rather than one generalist. Each subagent has optimized context for its task.</p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># .claude/agents/code-simplifier.md</span>

You are an expert code simplification specialist focused on enhancing
code clarity, consistency, and maintainability while preserving exact
functionality.

<span class="keyword">**Preserve Functionality:**</span> Never change what the code does - only how
it does it.

<span class="keyword">**Apply Project Standards:**</span>
- Use ES modules with proper import sorting and extensions
- Prefer function keyword over arrow functions
- Use explicit return type annotations for top-level functions
- Follow proper React component patterns with explicit Props types
- Use proper error handling patterns (avoid try/catch when possible)

<span class="keyword">**Enhance Clarity:**</span>
- Reducing unnecessary complexity and nesting
- Eliminating redundant code and abstractions
- Improving readability through clear variable and function names
- IMPORTANT: Avoid nested ternary operators
- Choose clarity over brevity

<span class="keyword">**Focus Scope:**</span> Only refine code that has been recently modified.</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="hooks">Hook Configuration</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment">// .claude/settings.json</span>
{
  <span class="string">"hooks"</span>: {
    <span class="string">"PostToolUse"</span>: [{
      <span class="string">"matcher"</span>: <span class="string">"Write|Edit"</span>,
      <span class="string">"hooks"</span>: [{
        <span class="string">"type"</span>: <span class="string">"command"</span>,
        <span class="string">"command"</span>: <span class="string">"bun run format || true"</span>
      }]
    }]
  }
}</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Verification Methods by Domain</h3>

        <table class="verification-table">
          <thead>
            <tr>
              <th>Domain</th>
              <th>Verification Tool</th>
              <th>When to Use</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>TypeScript/JS</td>
              <td><code>npm run typecheck</code></td>
              <td>Every code change</td>
            </tr>
            <tr>
              <td>Tests</td>
              <td><code>npm run test</code></td>
              <td>After feature implementation</td>
            </tr>
            <tr>
              <td>UI/Web</td>
              <td>Chrome extension</td>
              <td>Visual changes</td>
            </tr>
            <tr>
              <td>Mobile</td>
              <td>iOS/Android simulators</td>
              <td>Mobile features</td>
            </tr>
            <tr>
              <td>API</td>
              <td>curl/httpie scripts</td>
              <td>Backend endpoints</td>
            </tr>
            <tr>
              <td>Build</td>
              <td><code>npm run build</code></td>
              <td>Before commit</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Section 5: PATH OF A SESSION -->
      <section id="path" data-activity="path">
        <h2 class="section-title">
          <span class="section-number">5</span>
          The Path of a Session (13-Point System)
        </h2>

        <p class="text-text-secondary mb-6">
          Follow a task through Boris's complete workflow to see how the 13 points connect.
        </p>

        <div class="path-container">
          <div class="path-step">
            <div class="path-number">1</div>
            <div class="path-content"><strong>Fresh Context Start</strong> - Open new Claude session. CLAUDE.md is automatically read.</div>
          </div>
          <div class="path-step">
            <div class="path-number">2</div>
            <div class="path-content"><strong>CLAUDE.md Foundation</strong> - Claude has project knowledge, conventions, gotchas from git-checked file.</div>
          </div>
          <div class="path-step">
            <div class="path-number">3</div>
            <div class="path-content"><strong>Task Scoping</strong> - Define exact deliverable. "Add dark mode toggle to settings page" not "Make the app better".</div>
          </div>
          <div class="path-step">
            <div class="path-number">4</div>
            <div class="path-content"><strong>Plan Mode</strong> - Press <code>Shift+Tab</code> TWICE. See [PLAN] indicator. Iterate until plan is solid.</div>
          </div>
          <div class="path-step">
            <div class="path-number">5</div>
            <div class="path-content"><strong>External State</strong> - Reference TODO.md, previous commits, any context from external files.</div>
          </div>
          <div class="path-step">
            <div class="path-number">6</div>
            <div class="path-content"><strong>Subagent Spawning</strong> - For complex tasks, spawn specialized agents (code-simplifier, verify-app).</div>
          </div>
          <div class="path-step">
            <div class="path-number">7</div>
            <div class="path-content"><strong>Context Budget</strong> - Monitor context usage. Green = OK, Yellow = caution, Red = danger.</div>
          </div>
          <div class="path-step">
            <div class="path-number">8</div>
            <div class="path-content"><strong>Verification Loops</strong> - Run typecheck, tests. Hooks auto-trigger on Write/Edit. Chrome extension for UI.</div>
          </div>
          <div class="path-step">
            <div class="path-number">9</div>
            <div class="path-content"><strong>Think Keywords</strong> - Use "think hard" for complex planning, "ultrathink" when stuck.</div>
          </div>
          <div class="path-step">
            <div class="path-number">10</div>
            <div class="path-content"><strong>Progressive Disclosure</strong> - Give Claude what it needs when it needs it, not everything upfront.</div>
          </div>
          <div class="path-step">
            <div class="path-number">11</div>
            <div class="path-content"><strong>Error Recovery</strong> - If stuck, use /compact or start fresh session with learnings.</div>
          </div>
          <div class="path-step">
            <div class="path-number">12</div>
            <div class="path-content"><strong>Commit Discipline</strong> - Run <code>/commit-push-pr</code>. Passes verification? Good to commit.</div>
          </div>
          <div class="path-step">
            <div class="path-number">13</div>
            <div class="path-content"><strong>Session Closure</strong> - Update CLAUDE.md with learnings, TODO.md for handoff, exit cleanly.</div>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4">Think Keywords Reference</h3>

        <table class="think-table">
          <thead>
            <tr>
              <th>Keyword</th>
              <th>Tokens</th>
              <th>Use Case</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>think</code></td>
              <td>~4,000</td>
              <td>Standard planning</td>
            </tr>
            <tr>
              <td><code>think hard</code> / <code>think more</code></td>
              <td>~10,000</td>
              <td>New features, multi-step</td>
            </tr>
            <tr>
              <td><code>think harder</code> / <code>ultrathink</code></td>
              <td>~31,999</td>
              <td>Architecture, stuck in loops</td>
            </tr>
          </tbody>
        </table>

        <h3 class="font-semibold text-lg mb-4 mt-8">The Agentic Dev Loop Visualized</h3>

        <div class="workflow-diagram">
          <pre>
┌─────────────────────────────────────────────────────────────────┐
│                    BORIS'S COMPLETE WORKFLOW                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   ┌─────────┐    ┌─────────┐    ┌──────────┐    ┌──────────┐   │
│   │  PLAN   │ ──►│  CODE   │ ──►│ SIMPLIFY │ ──►│  VERIFY  │   │
│   │         │    │         │    │          │    │          │   │
│   │ Opus+   │    │ Auto-   │    │ code-    │    │ Chrome/  │   │
│   │ thinking│    │ accept  │    │ simplifier│   │ tests/   │   │
│   │ mode    │    │ mode    │    │ agent    │    │ sims     │   │
│   └────┬────┘    └────┬────┘    └────┬─────┘    └────┬─────┘   │
│        │              │              │               │          │
│        │              │              │               ▼          │
│        │              │              │         ┌──────────┐     │
│        │              │              │         │  COMMIT  │     │
│        │              │              │         │          │     │
│        │              │              │         │ /commit- │     │
│        │              │              │         │ push-pr  │     │
│        │              │              │         └────┬─────┘     │
│        │              │              │              │           │
│        └──────────────┴──────────────┴──────────────┘           │
│                           LOOP                                   │
│                                                                  │
├─────────────────────────────────────────────────────────────────┤
│                    SUPPORTING INFRASTRUCTURE                     │
│                                                                  │
│   CLAUDE.md          .claude/commands/       .claude/agents/    │
│   Team memory        Inner loop automation   Outer workflows    │
│   ~2500 tokens       /commit-push-pr         code-simplifier    │
│   Git-checked        /quick-commit           verify-app         │
│                                                                  │
│   Hooks              Permissions             MCP Integrations   │
│   PostToolUse        Whitelist pattern       Slack              │
│   Format on save     Safe bash commands      BigQuery           │
│   Typecheck          /permissions add        Sentry             │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘</pre>
        </div>
      </section>

      <!-- Section 6: GOTCHAS -->
      <section id="gotchas" data-activity="gotchas">
        <h2 class="section-title">
          <span class="section-number">6</span>
          Gotchas
        </h2>

        <p class="text-text-secondary mb-6">
          Real problems you'll hit with Boris's workflow, with concrete numbers and fixes.
        </p>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            CLAUDE.md not being read on session start
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Claude doesn't know about project conventions. Keeps making mistakes documented in CLAUDE.md.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> File in wrong location, wrong case, or not in git root.</div>
          <div class="gotcha-detail"><strong>Fix:</strong> <code>ls -la $(git rev-parse --show-toplevel)/CLAUDE.md</code> - Must be uppercase CLAUDE.md at git root.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Verification loops not running automatically
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Code changes committed without typecheck/test pass. Errors discovered in PR.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Hooks not configured or not triggering.</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Check <code>~/.claude/settings.json</code> for PostToolUse hooks. Test hook manually first.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Context degrading too quickly
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Quality drops after 15-20 minutes. Repetition, contradictions.</div>
          <div class="gotcha-detail"><strong>Threshold:</strong> CLAUDE.md should be &lt;10KB (&lt;2500 tokens)</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Trim CLAUDE.md. Use targeted file reads, not directories. Start fresh session at 60% context.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Parallel sessions stepping on each other
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Git conflicts. Sessions editing same files. Work lost.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Multiple sessions working same area without branch isolation.</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Use branches per session/task OR explicit file ownership. "Session 1: Only modify src/api/*"</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Plan Mode not engaging
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Claude starts coding immediately without planning. Makes 40 changes you didn't want.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Only pressed Shift+Tab ONCE (auto-accept mode), not TWICE (Plan mode).</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Press Shift+Tab TWICE. Look for [PLAN] indicator before proceeding.</div>
        </div>
      </section>

      <!-- Section 7: WHAT'S HARD -->
      <section id="hard" data-activity="hard">
        <h2 class="section-title">
          <span class="section-number">7</span>
          What's Hard
        </h2>

        <p class="text-text-secondary mb-6">
          These are fundamental tensions in Boris's workflow, not bugs to fix.
        </p>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Fresh Context vs. Accumulated Learning
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Fresh context gives peak quality but loses session learnings. CLAUDE.md persists learnings but adds to context load. You can't have both without tradeoffs.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Either Claude repeats mistakes from earlier in session (kept too long), OR Claude doesn't know things you taught it in previous session (restarted too soon).</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Keep CLAUDE.md under 2500 tokens. Capture ONLY generalizable patterns. Session-specific learnings go to TODO.md for handoff, not CLAUDE.md.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            10-20% Session Abandonment Rate
          </div>
          <div class="hard-detail"><strong>The reality:</strong> Boris abandons 10-20% of sessions due to unexpected scenarios. This is normal, not failure. Sometimes the right move is to restart.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Feeling like you "wasted" a session. Frustration when Claude goes off track.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Treat abandonments as data. What went wrong? Update CLAUDE.md to prevent future occurrences. The learning loop makes even abandoned sessions valuable.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Parallelization Coordination Overhead
          </div>
          <div class="hard-detail"><strong>The tension:</strong> 10-15 parallel sessions multiply output but require coordination overhead. Which session is doing what? Are they conflicting?</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Merge conflicts. Duplicate work. Forgotten sessions that needed attention.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Use terminal notifications for "needs attention". Assign explicit file boundaries. Use numbered terminal tabs. Accept that some coordination cost is worth the parallelization benefit.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            CLAUDE.md Discipline Across Team
          </div>
          <div class="hard-detail"><strong>The tension:</strong> CLAUDE.md compounding only works if EVERYONE updates it. One person's learning doesn't automatically become everyone's learning without discipline.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Same mistakes repeated by different team members. CLAUDE.md stale or bloated.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Add GitHub Action that warns when CLAUDE.md hasn't been updated with code changes. Make CLAUDE.md review part of PR checklist. Assign CLAUDE.md ownership to someone.</div>
        </div>
      </section>

      <!-- Section 8: WHEN TO USE -->
      <section id="when" data-activity="when">
        <h2 class="section-title">
          <span class="section-number">8</span>
          When to Use / Implementation Timeline
        </h2>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              USE BORIS'S WORKFLOW WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You want output quality over speed-per-token</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You have a team that can share CLAUDE.md learnings</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Tasks can be verified automatically (typecheck, tests)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You're willing to invest in infrastructure (hooks, commands, agents)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>You want compounding benefits over time</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              DON'T USE WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>One-off tasks where infrastructure setup isn't worth it</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Solo work with no team to share learnings</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Exploration/research where verification isn't meaningful</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Cost-sensitive contexts where Opus 4.5 isn't viable</span>
            </div>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4">Implementation Timeline</h3>

        <div class="checklist-box">
          <div class="checklist-title">
            <i data-lucide="clock" class="w-5 h-5 text-accent"></i>
            Today (&lt;30 minutes)
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="today-1">
            <label for="today-1">Create CLAUDE.md at git root with build/test commands</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="today-2">
            <label for="today-2">Switch to Opus 4.5 as default model</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="today-3">
            <label for="today-3">Learn Shift+Tab x2 for Plan Mode</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="today-4">
            <label for="today-4">Add one formatting hook to settings.json</label>
          </div>
        </div>

        <div class="checklist-box">
          <div class="checklist-title">
            <i data-lucide="calendar" class="w-5 h-5 text-accent"></i>
            This Week (hours)
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="week-1">
            <label for="week-1">Set up 2-3 parallel sessions workflow</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="week-2">
            <label for="week-2">Configure terminal notifications</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="week-3">
            <label for="week-3">Create /commit-push-pr slash command</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="week-4">
            <label for="week-4">Install code-simplifier plugin</label>
          </div>
        </div>

        <div class="checklist-box">
          <div class="checklist-title">
            <i data-lucide="target" class="w-5 h-5 text-accent"></i>
            This Month (deep investment)
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="month-1">
            <label for="month-1">Full verification infrastructure (Chrome extension, simulators)</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="month-2">
            <label for="month-2">Team CLAUDE.md discipline with GitHub Action</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="month-3">
            <label for="month-3">Subagent library for common workflows</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="month-4">
            <label for="month-4">Complete hook configuration</label>
          </div>
        </div>

      </section>

    </main>

    <!-- Resizer between Main Panel and Activity Zone -->
    <div class="resizer" data-resizer="activity-zone" aria-label="Resize activity panel"></div>

    <!-- Activity Zone -->
    <aside class="activity-zone" id="activityZone">
      <div class="text-xs font-semibold text-text-muted uppercase tracking-wider mb-4">Operational Intelligence</div>

      <!-- ESSENCE SECTION -->
      <div class="activity-item inversion" data-section="essence">
        <div class="activity-label" style="color: #4f46e5;">
          <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
          Inversion Lens
        </div>
        <div class="font-medium text-text-primary mb-2">What if sessions DIDN'T share CLAUDE.md?</div>
        <div class="text-text-secondary text-sm">
          <strong>You'd design:</strong> Each session self-contained, learnings stay in chat history.<br>
          <strong>Why this fails:</strong> Same mistakes repeat across team, no compounding.<br>
          <strong>Hidden constraint revealed:</strong> Shared, git-checked CLAUDE.md IS the multiplier.
        </div>
      </div>

      <div class="activity-item warstory" data-section="essence">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="user" class="w-4 h-4"></i>
          War Story
        </div>
        <div class="font-medium text-text-primary mb-2">Boris: 259 PRs in 30 days</div>
        <div class="text-text-secondary text-sm">
          497 commits, 40K lines added, 38K removed. 10-20% sessions abandoned. "The velocity comes from the system, not individual speed."
        </div>
      </div>

      <div class="activity-item analogy" data-section="essence">
        <div class="activity-label" style="color: #d946ef;">
          <i data-lucide="git-compare" class="w-4 h-4"></i>
          Analogical Bridge
        </div>
        <div class="font-medium text-text-primary mb-2">Boris's Workflow = Distributed Computing</div>
        <div class="text-text-secondary text-sm">
          10-15 Claude sessions = Worker pool<br>
          CLAUDE.md = Shared configuration<br>
          Git = Persistent storage<br>
          Context switch = Job scheduling<br><br>
          <em>If you understand distributed systems, you understand Boris's mental model.</em>
        </div>
      </div>

      <!-- CORE SECTION -->
      <div class="activity-item constraint" data-section="core">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="link-2" class="w-4 h-4"></i>
          Constraint Chain
        </div>
        <div class="font-medium text-text-primary mb-2">One insight - SIX decisions</div>
        <div class="text-text-secondary text-sm">
          <strong>ROOT:</strong> Claude Code as compounding system, not one-shot tool<br>
          → CLAUDE.md must be shared (team compounding)<br>
          → CLAUDE.md must be in git (persistence)<br>
          → CLAUDE.md must be small (context budget)<br>
          → Mistakes must become rules (learning loop)<br>
          → Verification must confirm fixes work (feedback)<br>
          → Sessions should be short (fresh context quality)
        </div>
      </div>

      <div class="activity-item minimal" data-section="core">
        <div class="activity-label" style="color: #84cc16;">
          <i data-lucide="minimize-2" class="w-4 h-4"></i>
          Minimal Pattern
        </div>
        <div class="font-medium text-text-primary mb-2">The irreducible Boris workflow</div>
        <div class="text-text-secondary text-sm">
          1. CLAUDE.md at git root<br>
          2. Opus 4.5<br>
          3. Verification commands<br><br>
          <strong>Essential:</strong> Shared memory + quality model + feedback.<br>
          <strong>Everything else:</strong> Refinement for scale.
        </div>
      </div>

      <div class="activity-item inflection" data-section="core">
        <div class="activity-label" style="color: #eab308;">
          <i data-lucide="activity" class="w-4 h-4"></i>
          Inflection Point
        </div>
        <div class="font-medium text-text-primary mb-2">When CLAUDE.md flips from help to hurt</div>
        <div class="text-text-secondary text-sm">
          <strong>0-1500 tokens:</strong> Pure benefit (rules compound)<br>
          <strong>1500-2500 tokens:</strong> Diminishing returns<br>
          <strong>2500-4000 tokens:</strong> Neutral (reading = thinking)<br>
          <strong>4000+ tokens:</strong> Net negative (context bloat)<br><br>
          <strong>THE INFLECTION:</strong> ~2500 tokens<br>
          <em>Detection: Claude "forgets" CLAUDE.md rules? Too big.</em>
        </div>
      </div>

      <!-- DECISIONS SECTION -->
      <div class="activity-item gradient" data-section="decisions">
        <div class="activity-label" style="color: #f43f5e;">
          <i data-lucide="trending-down" class="w-4 h-4"></i>
          Failure Gradient
        </div>
        <div class="font-medium text-text-primary mb-2">How context quality degrades</div>
        <div class="text-text-secondary text-sm">
          <strong>100% → 90%</strong> (0-50%): Full quality, you won't notice<br>
          <strong>90% → 70%</strong> (50-70%): Subtle drift, monitor closely<br>
          <strong>70% → 50%</strong> (70-85%): Significant degradation likely<br>
          <strong>50% → CLIFF</strong> (85%+): Finish task and restart<br><br>
          <em>Critical: The gradient is invisible until 70%+.</em>
        </div>
      </div>

      <div class="activity-item violation" data-section="decisions">
        <div class="activity-label" style="color: #f97316;">
          <i data-lucide="alert-octagon" class="w-4 h-4"></i>
          Violation Chain
        </div>
        <div class="font-medium text-text-primary mb-2">If you skip verification loops</div>
        <div class="text-text-secondary text-sm">
          <strong>IF:</strong> Skip verification after code changes<br>
          <strong>THEN:</strong> Errors not caught before commit<br>
          <strong>THEN:</strong> Broken code enters main branch<br>
          <strong>THEN:</strong> Future sessions inherit broken foundation<br>
          <strong>FINALLY:</strong> Debugging costs more than initial verification<br><br>
          <em>The fix: Hooks make verification automatic and unavoidable.</em>
        </div>
      </div>

      <div class="activity-item tradeoff" data-section="decisions">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="scale" class="w-4 h-4"></i>
          Trade-Off Tension
        </div>
        <div class="font-medium text-text-primary mb-2">The Opus vs Sonnet Dilemma</div>
        <div class="text-text-secondary text-sm">
          <strong>Opus 4.5:</strong> Slower generation, but fewer corrections, better tool use<br>
          <strong>Sonnet:</strong> Faster generation, but more re-prompting, more steering<br><br>
          <strong>WHY BORIS CHOOSES OPUS:</strong><br>
          Total Time = Generation + Correction + Re-prompting<br>
          Opus wins on TOTAL time despite slower generation.<br><br>
          <em>Heuristic: If you're cost-sensitive, use Sonnet. If you're time-sensitive, use Opus.</em>
        </div>
      </div>

      <div class="activity-item invariant" data-section="decisions">
        <div class="activity-label" style="color: #3b82f6;">
          <i data-lucide="link" class="w-4 h-4"></i>
          Invariant Connection
        </div>
        <div class="font-medium text-text-primary mb-2">Boris, Ralph, Gas Town share INV-002</div>
        <div class="text-text-secondary text-sm">
          INV-002: External state > internal memory<br><br>
          <strong>Boris:</strong> CLAUDE.md, TODO.md, git commits<br>
          <strong>Ralph:</strong> prd.json, progress.txt<br>
          <strong>Gas Town:</strong> Refinery, inbox files<br><br>
          <em>Same principle, different implementations.</em>
        </div>
      </div>

      <!-- FILES SECTION -->
      <div class="activity-item expertise" data-section="files">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="bar-chart-3" class="w-4 h-4"></i>
          Expertise Gradient
        </div>
        <div class="font-medium text-text-primary mb-2">CLAUDE.md understanding depth</div>
        <div class="text-text-secondary text-sm">
          <strong>Beginner:</strong> "What goes in CLAUDE.md?" → Build commands, style rules<br>
          <strong>Intermediate:</strong> "Why keep it small?" → Context budget matters<br>
          <strong>Advanced:</strong> "What DOESN'T belong?" → Implementation details, session-specific notes<br>
          <strong>Staff:</strong> "How to enforce across team?" → GitHub Action, PR checklist<br>
          <strong>Expert:</strong> "How does it relate to agents?" → CLAUDE.md = shared, agents = specialized
        </div>
      </div>

      <div class="activity-item composition" data-section="files">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="layers" class="w-4 h-4"></i>
          Composition Case
        </div>
        <div class="font-medium text-text-primary mb-2">Slash Commands + Subagents</div>
        <div class="text-text-secondary text-sm">
          <strong>Works:</strong> Commands for mechanical ops (commit, format), agents for cognitive work (simplify, verify).<br>
          <strong>The distinction:</strong> Commands = deterministic. Agents = judgment required.<br>
          <strong>Danger:</strong> Using agents for simple tasks (overhead) or commands for complex reasoning (rigidity).
        </div>
      </div>

      <div class="activity-item warstory" data-section="files">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="user" class="w-4 h-4"></i>
          War Story
        </div>
        <div class="font-medium text-text-primary mb-2">code-simplifier: Post-PR cleanup</div>
        <div class="text-text-secondary text-sm">
          Boris runs code-simplifier AFTER main implementation. "Creation and quality are different phases with different minds." The separation prevents premature optimization during coding.
        </div>
      </div>

      <div class="activity-item horizon" data-section="files">
        <div class="activity-label" style="color: #06b6d4;">
          <i data-lucide="clock" class="w-4 h-4"></i>
          Time Horizon Shift
        </div>
        <div class="font-medium text-text-primary mb-2">How hook value perception changes</div>
        <div class="text-text-secondary text-sm">
          <strong>Day 1:</strong> "Setting up hooks is overhead"<br>
          <strong>Week 1:</strong> "Wait, I forgot to typecheck again"<br>
          <strong>Month 1:</strong> "Hooks are why I never ship broken code"<br>
          <strong>Month 6:</strong> "Can't imagine working without them"<br><br>
          <em>Don't judge hook value by setup cost.</em>
        </div>
      </div>

      <!-- PATH SECTION -->
      <div class="activity-item analogy" data-section="path">
        <div class="activity-label" style="color: #d946ef;">
          <i data-lucide="git-compare" class="w-4 h-4"></i>
          Analogical Bridge
        </div>
        <div class="font-medium text-text-primary mb-2">13-Point System = Manufacturing Pipeline</div>
        <div class="text-text-secondary text-sm">
          Fresh Context = Clean workstation<br>
          CLAUDE.md = Standard Operating Procedures<br>
          Task Scoping = Work Order<br>
          Verification = Quality Control checkpoint<br>
          Commit = Ship to next station<br><br>
          <em>If you've seen lean manufacturing, you understand Boris's flow.</em>
        </div>
      </div>

      <div class="activity-item violation" data-section="path">
        <div class="activity-label" style="color: #f97316;">
          <i data-lucide="alert-octagon" class="w-4 h-4"></i>
          Violation Chain
        </div>
        <div class="font-medium text-text-primary mb-2">If you skip Plan Mode (Shift+Tab x2)</div>
        <div class="text-text-secondary text-sm">
          <strong>IF:</strong> Start coding without Plan Mode<br>
          <strong>THEN:</strong> Claude makes 40 changes you didn't want<br>
          <strong>THEN:</strong> Time spent undoing unwanted changes<br>
          <strong>THEN:</strong> Session context polluted with false starts<br>
          <strong>FINALLY:</strong> Total time > if you'd planned first<br><br>
          <em>The fix: "A good plan is really important! Plan Mode can 2-3x success rates."</em>
        </div>
      </div>

      <div class="activity-item effect" data-section="path">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="bar-chart-2" class="w-4 h-4"></i>
          Second-Order Effect
        </div>
        <div class="font-medium text-text-primary mb-2">At 10+ parallel sessions, notification systems become critical</div>
        <div class="text-text-secondary text-sm">
          <strong>IMPLICATION:</strong> Without terminal notifications, you'll forget which sessions need attention. Context switches become random instead of value-driven.<br><br>
          <strong>THRESHOLD:</strong> ~5+ sessions require active notification system.
        </div>
      </div>

      <div class="activity-item expertise" data-section="path">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="bar-chart-3" class="w-4 h-4"></i>
          Expertise Gradient
        </div>
        <div class="font-medium text-text-primary mb-2">Think keyword understanding</div>
        <div class="text-text-secondary text-sm">
          <strong>Beginner:</strong> "When to use think?" → Complex planning<br>
          <strong>Intermediate:</strong> "think vs think hard?" → ~4K vs ~10K tokens<br>
          <strong>Advanced:</strong> "When ultrathink?" → Architecture decisions, stuck loops<br>
          <strong>Staff:</strong> "Can I overuse ultrathink?" → Yes, wastes tokens on simple tasks<br>
          <strong>Expert:</strong> "Default thinking for Opus 4.5?" → Extended thinking is default
        </div>
      </div>

      <!-- GOTCHAS SECTION -->
      <div class="activity-item inversion" data-section="gotchas">
        <div class="activity-label" style="color: #4f46e5;">
          <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
          Inversion Lens
        </div>
        <div class="font-medium text-text-primary mb-2">What if CLAUDE.md was case-insensitive?</div>
        <div class="text-text-secondary text-sm">
          <strong>You'd expect:</strong> claude.md, Claude.md, CLAUDE.md all work.<br>
          <strong>Why this fails:</strong> Tool design requires CLAUDE.md (uppercase) specifically.<br>
          <strong>Hidden constraint revealed:</strong> Filename conventions are load-bearing. The workaround IS the interface.
        </div>
      </div>

      <div class="activity-item frontier" data-section="gotchas">
        <div class="activity-label" style="color: #ef4444;">
          <i data-lucide="flask-conical" class="w-4 h-4"></i>
          Research Frontier
        </div>
        <div class="font-medium text-text-primary mb-2">UNSOLVED: Optimal parallel session count</div>
        <div class="text-text-secondary text-sm">
          <strong>THE QUESTION:</strong> Is 10-15 sessions optimal for everyone, or does it depend on task type, individual capacity, project complexity?<br><br>
          <strong>WHY IT'S HARD:</strong> Cognitive load varies. Coordination overhead varies. No formula.<br><br>
          <strong>CURRENT BEST PRACTICE:</strong> Start with 3-5, scale up as you build notification infrastructure.
        </div>
      </div>

      <div class="activity-item tradeoff" data-section="gotchas">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="scale" class="w-4 h-4"></i>
          Trade-Off Tension
        </div>
        <div class="font-medium text-text-primary mb-2">Parallel Sessions: Output vs Coordination</div>
        <div class="text-text-secondary text-sm">
          <strong>Few sessions (1-3):</strong> Simple coordination, but limited parallelism<br>
          <strong>Moderate (4-8):</strong> Good parallelism, manageable coordination<br>
          <strong>Many (10-15+):</strong> Maximum parallelism, requires infrastructure<br><br>
          <strong>WHY NO PERFECT ANSWER:</strong> Individual working memory varies.<br><br>
          <em>Heuristic: If you're losing track of what sessions are doing, you have too many.</em>
        </div>
      </div>

      <!-- HARD SECTION -->
      <div class="activity-item gradient" data-section="hard">
        <div class="activity-label" style="color: #f43f5e;">
          <i data-lucide="trending-down" class="w-4 h-4"></i>
          Failure Gradient
        </div>
        <div class="font-medium text-text-primary mb-2">How session abandonment signals degrade</div>
        <div class="text-text-secondary text-sm">
          <strong>Early:</strong> Clear signal ("this isn't working") → Easy to abandon<br>
          <strong>Mid:</strong> Ambiguous ("maybe one more try?") → Sunk cost kicks in<br>
          <strong>Late:</strong> Invested heavily → Hard to abandon even when wrong<br><br>
          <em>Critical: The best time to abandon is when you first think "maybe I should abandon."</em>
        </div>
      </div>

      <div class="activity-item warstory" data-section="hard">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="user" class="w-4 h-4"></i>
          War Story
        </div>
        <div class="font-medium text-text-primary mb-2">Boris: 10-20% abandonment is NORMAL</div>
        <div class="text-text-secondary text-sm">
          "The learning loop makes even abandoned sessions valuable." Treat abandonments as data, not failure. Update CLAUDE.md with what went wrong.
        </div>
      </div>

      <div class="activity-item constraint" data-section="hard">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="link-2" class="w-4 h-4"></i>
          Constraint Chain
        </div>
        <div class="font-medium text-text-primary mb-2">Team CLAUDE.md discipline requires FOUR supports</div>
        <div class="text-text-secondary text-sm">
          <strong>ROOT:</strong> Compounding only works if everyone updates<br>
          → Need GitHub Action that warns on stale CLAUDE.md<br>
          → Need PR checklist item for CLAUDE.md review<br>
          → Need assigned ownership (someone responsible)<br>
          → Need team norm that mistakes → rules<br><br>
          <em>One missing support = discipline degrades.</em>
        </div>
      </div>

      <div class="activity-item horizon" data-section="hard">
        <div class="activity-label" style="color: #06b6d4;">
          <i data-lucide="clock" class="w-4 h-4"></i>
          Time Horizon Shift
        </div>
        <div class="font-medium text-text-primary mb-2">How parallelization value perception changes</div>
        <div class="text-text-secondary text-sm">
          <strong>Day 1:</strong> "Managing multiple sessions is chaotic"<br>
          <strong>Week 1:</strong> "Okay, the notifications help"<br>
          <strong>Month 1:</strong> "I'm shipping 3x more without 3x effort"<br>
          <strong>Month 3:</strong> "Can't imagine going back to single-session"<br><br>
          <em>Don't judge parallelization by the first week.</em>
        </div>
      </div>

      <!-- WHEN SECTION -->
      <div class="activity-item alternative" data-section="when">
        <div class="activity-label" style="color: #6b7280;">
          <i data-lucide="arrow-right" class="w-4 h-4"></i>
          Alternative Paths
        </div>
        <div class="font-medium text-text-primary mb-2">If Boris's workflow isn't right for you</div>
        <div class="text-text-secondary text-sm">
          <strong>One-off tasks?</strong> → Single session, skip infrastructure<br>
          <strong>Cost-sensitive?</strong> → Sonnet instead of Opus<br>
          <strong>Need overnight autonomy?</strong> → Ralph pattern<br>
          <strong>Need multi-agent coordination?</strong> → Gas Town or CC Mirror
        </div>
      </div>

      <div class="activity-item composition" data-section="when">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="layers" class="w-4 h-4"></i>
          Composition Case
        </div>
        <div class="font-medium text-text-primary mb-2">Boris's Workflow + Ralph</div>
        <div class="text-text-secondary text-sm">
          <strong>Works:</strong> CLAUDE.md becomes Ralph's permanent memory. Boris's verification loops inform Ralph's acceptance criteria.<br>
          <strong>The synergy:</strong> Boris workflow handles interactive work, Ralph handles overnight autonomy. Same CLAUDE.md serves both.
        </div>
      </div>

      <div class="activity-item invariant" data-section="when">
        <div class="activity-label" style="color: #3b82f6;">
          <i data-lucide="link" class="w-4 h-4"></i>
          Invariant Connection
        </div>
        <div class="font-medium text-text-primary mb-2">All patterns share INV-004: Verification enables autonomy</div>
        <div class="text-text-secondary text-sm">
          <strong>Boris:</strong> Hooks run verification automatically<br>
          <strong>Ralph:</strong> Acceptance criteria must be verifiable<br>
          <strong>Gas Town:</strong> Dogs verify before Refinery stores<br><br>
          <em>Without verification, autonomy produces garbage.</em>
        </div>
      </div>

      <div class="activity-item effect" data-section="when">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="bar-chart-2" class="w-4 h-4"></i>
          Second-Order Effect
        </div>
        <div class="font-medium text-text-primary mb-2">At team scale, CLAUDE.md becomes competitive advantage</div>
        <div class="text-text-secondary text-sm">
          <strong>IMPLICATION:</strong> Team with 6 months of CLAUDE.md compounds operates at different level than fresh team. The knowledge gap widens over time.<br><br>
          <strong>THRESHOLD:</strong> ~3 months of disciplined updates = noticeable quality difference.
        </div>
      </div>

    </aside>
  </div>

  <script>
    /**
     * PanelResizer - Handles draggable panel dividers
     */
    class PanelResizer {
      constructor(resizerEl, config = {}) {
        this.resizer = resizerEl;
        this.config = {
          storageKey: 'panel-activity-zone-width',
          minWidth: 280,
          maxWidth: 900,
          defaultWidth: 480,
          ...config
        };

        this.isResizing = false;
        this.startX = 0;
        this.startWidth = 0;

        // Elements
        this.activityZone = document.querySelector('.activity-zone');
        this.mainContent = document.querySelector('.main-content');

        // Bind methods
        this.onMouseDown = this.onMouseDown.bind(this);
        this.onMouseMove = this.onMouseMove.bind(this);
        this.onMouseUp = this.onMouseUp.bind(this);

        this.init();
      }

      init() {
        this.restoreWidth();
        this.resizer.addEventListener('mousedown', this.onMouseDown);
      }

      onMouseDown(e) {
        if (e.button !== 0) return;

        this.isResizing = true;
        this.startX = e.clientX;
        this.startWidth = this.activityZone.offsetWidth;

        this.resizer.classList.add('active');
        document.body.classList.add('resizing');

        document.addEventListener('mousemove', this.onMouseMove);
        document.addEventListener('mouseup', this.onMouseUp);

        e.preventDefault();
      }

      onMouseMove(e) {
        if (!this.isResizing) return;

        const delta = this.startX - e.clientX;
        const newWidth = this.startWidth + delta;

        const constrainedWidth = Math.max(
          this.config.minWidth,
          Math.min(this.config.maxWidth, newWidth)
        );

        this.activityZone.style.width = constrainedWidth + 'px';
        this.mainContent.style.marginRight = constrainedWidth + 'px';
        this.resizer.style.right = constrainedWidth + 'px';
      }

      onMouseUp(e) {
        if (!this.isResizing) return;

        this.isResizing = false;

        this.resizer.classList.remove('active');
        document.body.classList.remove('resizing');

        document.removeEventListener('mousemove', this.onMouseMove);
        document.removeEventListener('mouseup', this.onMouseUp);

        this.saveWidth();
      }

      saveWidth() {
        const width = this.activityZone.offsetWidth;
        localStorage.setItem(this.config.storageKey, JSON.stringify({
          width,
          timestamp: Date.now()
        }));
      }

      restoreWidth() {
        try {
          const stored = localStorage.getItem(this.config.storageKey);
          if (stored) {
            const { width } = JSON.parse(stored);
            if (width >= this.config.minWidth && width <= this.config.maxWidth) {
              this.activityZone.style.width = width + 'px';
              this.mainContent.style.marginRight = width + 'px';
              this.resizer.style.right = width + 'px';
            }
          }
        } catch (e) {
          console.warn('Failed to restore panel width:', e);
        }
      }

      destroy() {
        this.resizer.removeEventListener('mousedown', this.onMouseDown);
        document.removeEventListener('mousemove', this.onMouseMove);
        document.removeEventListener('mouseup', this.onMouseUp);
      }
    }

    // Auto-initialize resizers on DOM ready
    document.addEventListener('DOMContentLoaded', () => {
      const resizers = document.querySelectorAll('[data-resizer]');
      resizers.forEach(resizer => new PanelResizer(resizer));
    });

    // Initialize Lucide icons
    lucide.createIcons();

    // Navigation toggle
    function toggleSection(header) {
      const section = header.closest('.nav-section');
      section.classList.toggle('expanded');
      const children = section.querySelector('.nav-children');
      children.classList.toggle('expanded');
    }

    // Mobile menu toggle
    function toggleMobileMenu() {
      const nav = document.getElementById('leftNav');
      nav.classList.toggle('open');
    }

    // Copy functionality
    function copyCode(btn, text) {
      navigator.clipboard.writeText(text).then(() => {
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i data-lucide="check" class="w-3 h-3"></i> Copied!';
        lucide.createIcons();
        setTimeout(() => {
          btn.innerHTML = originalText;
          lucide.createIcons();
        }, 2000);
      });
    }

    function copyCodeBlock(btn) {
      const codeBlock = btn.closest('.code-block');
      const pre = codeBlock.querySelector('pre');
      const text = pre.textContent;
      copyCode(btn, text);
    }

    // Scroll-sync with GSAP ScrollTrigger
    gsap.registerPlugin(ScrollTrigger);

    // Track which sections are in view
    const sections = document.querySelectorAll('[data-activity]');
    const activityItems = document.querySelectorAll('.activity-item');

    sections.forEach(section => {
      ScrollTrigger.create({
        trigger: section,
        start: 'top 40%',
        end: 'bottom 40%',
        onEnter: () => activateSection(section.dataset.activity),
        onEnterBack: () => activateSection(section.dataset.activity),
      });
    });

    function activateSection(sectionName) {
      activityItems.forEach(item => {
        if (item.dataset.section === sectionName) {
          item.classList.add('active');
          gsap.to(item, {
            opacity: 1,
            y: -2,
            boxShadow: '0 4px 12px rgba(0,0,0,0.08)',
            duration: 0.3,
            ease: 'power2.out'
          });
        } else {
          item.classList.remove('active');
          gsap.to(item, {
            opacity: 0.5,
            y: 0,
            boxShadow: 'none',
            duration: 0.3,
            ease: 'power2.out'
          });
        }
      });

      // Update nav active state
      document.querySelectorAll('.nav-section-header').forEach(header => {
        header.classList.remove('active');
      });
      const activeNav = document.querySelector(`[data-section="${sectionName}"] .nav-section-header`);
      if (activeNav) {
        activeNav.classList.add('active');
      }
    }

    // Initialize first section as active
    activateSection('essence');

    // Smooth scroll for nav links
    document.querySelectorAll('.nav-item').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          document.querySelectorAll('.nav-item').forEach(l => l.classList.remove('active'));
          link.classList.add('active');
        }
      });
    });

    // Brushing interaction - hover activity item highlights related content
    activityItems.forEach(item => {
      item.addEventListener('mouseenter', () => {
        const sectionName = item.dataset.section;
        const relatedSection = document.querySelector(`[data-activity="${sectionName}"]`);
        if (relatedSection) {
          relatedSection.style.backgroundColor = 'rgba(13, 147, 115, 0.05)';
          relatedSection.style.transition = 'background-color 0.3s ease';
        }
      });

      item.addEventListener('mouseleave', () => {
        const sectionName = item.dataset.section;
        const relatedSection = document.querySelector(`[data-activity="${sectionName}"]`);
        if (relatedSection) {
          relatedSection.style.backgroundColor = '';
        }
      });
    });
  </script>
</body>
</html>
