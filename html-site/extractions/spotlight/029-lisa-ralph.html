<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lisa Pattern | Claude Code Documentation</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- GSAP for scroll-sync -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <!-- Tailwind Config with Design Tokens -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'bg-base': '#ffffff',
            'bg-subtle': '#fafafa',
            'bg-muted': '#f4f4f5',
            'text-primary': '#18181b',
            'text-secondary': '#3f3f46',
            'text-muted': '#71717a',
            'accent': '#0D9373',
            'accent-light': '#10b981',
            'accent-bg': '#ecfdf5',
            'border': '#e4e4e7',
            // Activity Zone content type colors (Original 6)
            'az-invariant': '#3b82f6',    // Blue
            'az-effect': '#f59e0b',       // Amber
            'az-composition': '#8b5cf6',  // Purple
            'az-frontier': '#ef4444',     // Red
            'az-warstory': '#10b981',     // Green
            'az-alternative': '#6b7280',  // Gray
            // Activity Zone generative content types (New 10)
            'az-inversion': '#4f46e5',    // Indigo
            'az-constraint': '#8b5cf6',   // Violet
            'az-gradient': '#f43f5e',     // Rose
            'az-horizon': '#06b6d4',      // Cyan
            'az-violation': '#f97316',    // Orange
            'az-tradeoff': '#f59e0b',     // Amber
            'az-analogy': '#d946ef',      // Fuchsia
            'az-expertise': '#10b981',    // Emerald
            'az-minimal': '#84cc16',      // Lime
            'az-inflection': '#eab308',   // Yellow
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['Fira Code', 'monospace'],
          },
        },
      },
    }
  </script>

  <style>
    /* Base Styles */
    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: 80px;
    }

    [id] {
      scroll-margin-top: 80px;
    }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: #ffffff;
      color: #18181b;
      line-height: 1.7;
    }

    /* Three Panel Layout */
    .three-panel-layout {
      min-height: 100vh;
      position: relative;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 56px;
      background: #ffffff;
      border-bottom: 1px solid #e4e4e7;
      z-index: 100;
      display: flex;
      align-items: center;
      padding: 0 24px;
    }

    /* Left Navigation - 240px fixed */
    .left-nav {
      position: fixed;
      top: 56px;
      left: 0;
      width: 240px;
      height: calc(100vh - 56px);
      border-right: 1px solid #e4e4e7;
      background: #ffffff;
      overflow-y: auto;
      padding: 16px 0;
      z-index: 40;
    }

    .nav-section {
      padding: 0 12px;
      margin-bottom: 8px;
    }

    .nav-section-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      font-size: 14px;
      font-weight: 500;
      color: #3f3f46;
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.15s;
    }

    .nav-section-header:hover {
      background: #f4f4f5;
    }

    .nav-section-header.active {
      color: #0D9373;
      background: #ecfdf5;
    }

    .nav-item {
      display: block;
      padding: 6px 12px 6px 44px;
      font-size: 14px;
      color: #71717a;
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.15s;
    }

    .nav-item:hover {
      color: #3f3f46;
      background: #f4f4f5;
    }

    .nav-item.active {
      color: #0D9373;
      background: #ecfdf5;
    }

    .nav-children {
      display: none;
      overflow: hidden;
    }

    .nav-children.expanded {
      display: block;
    }

    .nav-chevron {
      transition: transform 0.2s;
    }

    .nav-section.expanded .nav-chevron {
      transform: rotate(90deg);
    }

    /* Main Content - Flexible, margins for fixed sidebars */
    .main-content {
      margin-left: 240px;
      margin-right: 480px;
      margin-top: 56px;
      padding: 48px 48px;
      min-width: 400px;
    }

    /* Activity Zone - 480px fixed (proportional to main, less than main) */
    .activity-zone {
      position: fixed;
      top: 56px;
      right: 0;
      width: 480px;
      height: calc(100vh - 56px);
      border-left: 1px dashed #e4e4e7;
      background: #fafafa;
      overflow-y: auto;
      padding: 24px 20px;
      z-index: 40;
    }

    /* Responsive: Hide Activity Zone below 1400px */
    @media (max-width: 1400px) {
      .activity-zone {
        display: none;
      }
      .main-content {
        margin-right: 0;
        padding: 40px 32px;
      }
    }

    /* Responsive: Hide Left Nav below 768px */
    @media (max-width: 768px) {
      .left-nav {
        display: none;
      }
      .left-nav.open {
        display: block;
        position: fixed;
        top: 56px;
        left: 0;
        right: 0;
        bottom: 0;
        background: #ffffff;
        z-index: 50;
        overflow-y: auto;
      }
      .main-content {
        margin-left: 0;
        padding: 24px 16px;
        min-width: auto;
      }
    }

    /* Resizer - Draggable divider between Main Panel and Activity Zone */
    .resizer {
      position: fixed;
      top: 56px;
      right: 480px;
      width: 6px;
      height: calc(100vh - 56px);
      cursor: col-resize;
      background: transparent;
      z-index: 50;
      transition: background 0.15s ease;
    }

    .resizer:hover {
      background: rgba(13, 147, 115, 0.15);
    }

    .resizer.active {
      background: rgba(13, 147, 115, 0.25);
    }

    /* Prevent text selection during resize */
    body.resizing {
      user-select: none;
      cursor: col-resize !important;
    }

    body.resizing * {
      cursor: col-resize !important;
    }

    /* Hide resizer when Activity Zone is hidden (responsive) */
    @media (max-width: 1400px) {
      .resizer {
        display: none;
      }
    }

    /* Activity Zone Items */
    .activity-item {
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
      background: #ffffff;
      border: 1px solid #e4e4e7;
      font-size: 14px;
      line-height: 1.6;
      opacity: 0.5;
      transition: all 0.3s ease;
    }

    .activity-item.active {
      opacity: 1;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    .activity-item:hover {
      opacity: 1;
    }

    .activity-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* Activity Zone content type borders (Original 6) */
    .activity-item.invariant { border-left: 4px solid #3b82f6; }
    .activity-item.effect { border-left: 4px solid #f59e0b; }
    .activity-item.composition { border-left: 4px solid #8b5cf6; }
    .activity-item.frontier { border-left: 4px solid #ef4444; }
    .activity-item.warstory { border-left: 4px solid #10b981; }
    .activity-item.alternative { border-left: 4px solid #6b7280; }

    /* Activity Zone generative content types (New 10) */
    .activity-item.inversion { border-left: 4px solid #4f46e5; }
    .activity-item.constraint { border-left: 4px solid #8b5cf6; }
    .activity-item.gradient { border-left: 4px solid #f43f5e; }
    .activity-item.horizon { border-left: 4px solid #06b6d4; }
    .activity-item.violation { border-left: 4px solid #f97316; }
    .activity-item.tradeoff { border-left: 4px solid #f59e0b; }
    .activity-item.analogy { border-left: 4px solid #d946ef; }
    .activity-item.expertise { border-left: 4px solid #10b981; }
    .activity-item.minimal { border-left: 4px solid #84cc16; }
    .activity-item.inflection { border-left: 4px solid #eab308; }

    /* Main Content Components */

    /* Section titles with number */
    .section-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      background: #0D9373;
      color: #ffffff;
      font-size: 14px;
      font-weight: 600;
      border-radius: 50%;
      margin-right: 12px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 600;
      color: #18181b;
      margin-bottom: 20px;
      margin-top: 56px;
      display: flex;
      align-items: center;
    }

    .section-title:first-child {
      margin-top: 0;
    }

    /* Essence Box (15 words) */
    .essence-box {
      background: linear-gradient(135deg, #18181b 0%, #27272a 100%);
      border-radius: 12px;
      padding: 32px;
      margin-bottom: 40px;
    }

    .essence-label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #10b981;
      margin-bottom: 12px;
    }

    .essence-text {
      font-size: 22px;
      font-weight: 500;
      color: #ffffff;
      line-height: 1.4;
    }

    /* Core Abstraction Box */
    .core-abstraction {
      background: #fafafa;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 40px;
    }

    .core-philosophy {
      font-size: 16px;
      color: #3f3f46;
      margin-bottom: 16px;
      font-style: italic;
    }

    .core-code {
      background: #18181b;
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 16px;
      overflow-x: auto;
    }

    .core-code code {
      font-family: 'Fira Code', monospace;
      font-size: 15px;
      color: #10b981;
      white-space: nowrap;
    }

    .core-anchor {
      font-size: 14px;
      color: #71717a;
      text-align: center;
    }

    /* Design Decision Box */
    .decision-box {
      background: #ffffff;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
    }

    .decision-why {
      font-size: 16px;
      font-weight: 600;
      color: #0D9373;
      margin-bottom: 12px;
    }

    .decision-reasoning {
      font-size: 14px;
      color: #3f3f46;
      margin-bottom: 16px;
    }

    .decision-implication {
      background: #f4f4f5;
      border-radius: 8px;
      padding: 16px;
    }

    .decision-implication-label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      color: #71717a;
      margin-bottom: 8px;
    }

    /* Code Blocks */
    .code-block {
      background: #18181b;
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 24px;
      position: relative;
      overflow-x: auto;
    }

    .code-block pre {
      margin: 0;
      font-family: 'Fira Code', monospace;
      font-size: 13px;
      color: #e4e4e7;
      line-height: 1.6;
    }

    .code-block .comment { color: #6b7280; }
    .code-block .keyword { color: #c084fc; }
    .code-block .string { color: #10b981; }
    .code-block .variable { color: #60a5fa; }

    .copy-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: #3f3f46;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      padding: 6px 10px;
      font-size: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      transition: background 0.15s;
    }

    .copy-btn:hover {
      background: #52525b;
    }

    /* Path Steps */
    .path-container {
      background: #fafafa;
      border: 1px solid #e4e4e7;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 40px;
    }

    .path-step {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
    }

    .path-step:last-child {
      margin-bottom: 0;
    }

    .path-number {
      flex-shrink: 0;
      width: 24px;
      height: 24px;
      background: #0D9373;
      color: #ffffff;
      font-size: 12px;
      font-weight: 600;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .path-content {
      flex: 1;
      font-size: 14px;
      color: #3f3f46;
    }

    .path-content code {
      background: #e4e4e7;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 13px;
    }

    /* Gotcha Box */
    .gotcha-box {
      background: #fffbeb;
      border: 1px solid #fcd34d;
      border-left: 4px solid #f59e0b;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
    }

    .gotcha-title {
      font-weight: 600;
      color: #92400e;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .gotcha-detail {
      font-size: 14px;
      color: #78350f;
      margin-bottom: 8px;
    }

    .gotcha-detail strong {
      color: #92400e;
    }

    /* What's Hard Box */
    .hard-box {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-left: 4px solid #ef4444;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
    }

    .hard-title {
      font-weight: 600;
      color: #991b1b;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .hard-detail {
      font-size: 14px;
      color: #7f1d1d;
      margin-bottom: 8px;
    }

    /* When To Use Grid */
    .when-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 40px;
    }

    @media (max-width: 900px) {
      .when-grid {
        grid-template-columns: 1fr;
      }
    }

    .when-use {
      background: #f0fdf4;
      border: 1px solid #bbf7d0;
      border-radius: 12px;
      padding: 24px;
    }

    .when-not {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-radius: 12px;
      padding: 24px;
    }

    .when-title {
      font-weight: 600;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .when-use .when-title { color: #166534; }
    .when-not .when-title { color: #991b1b; }

    .when-item {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
      font-size: 14px;
    }

    .when-use .when-item { color: #166534; }
    .when-not .when-item { color: #991b1b; }

    /* Mobile Menu Button */
    .mobile-menu-btn {
      display: none;
      padding: 8px;
      background: none;
      border: none;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: flex;
      }
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: #fafafa;
    }

    ::-webkit-scrollbar-thumb {
      background: #d4d4d8;
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #a1a1aa;
    }

    /* Keyboard shortcut hint */
    .kbd {
      display: inline-flex;
      align-items: center;
      padding: 2px 6px;
      background: #f4f4f5;
      border: 1px solid #e4e4e7;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 12px;
      color: #71717a;
    }

    /* Interview Dimensions */
    .dimension-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    @media (max-width: 900px) {
      .dimension-grid {
        grid-template-columns: 1fr;
      }
    }

    .dimension-card {
      background: #ffffff;
      border: 1px solid #e4e4e7;
      border-radius: 8px;
      padding: 16px;
    }

    .dimension-title {
      font-weight: 600;
      color: #0D9373;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dimension-items {
      font-size: 14px;
      color: #3f3f46;
    }

    .dimension-items li {
      margin-bottom: 4px;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Toggle menu">
      <i data-lucide="menu" class="w-5 h-5 text-text-secondary"></i>
    </button>
    <div class="flex items-center gap-3">
      <i data-lucide="terminal" class="w-5 h-5 text-accent"></i>
      <span class="font-semibold text-text-primary">Claude Code</span>
    </div>
    <div class="flex-1 flex justify-center">
      <button class="flex items-center gap-2 px-4 py-2 bg-bg-muted rounded-lg text-text-muted text-sm hover:bg-border transition-colors">
        <i data-lucide="search" class="w-4 h-4"></i>
        <span>Search documentation...</span>
        <span class="kbd">Cmd+K</span>
      </button>
    </div>
    <div class="flex items-center gap-4">
      <a href="#" class="text-sm text-text-muted hover:text-text-primary transition-colors">Support</a>
      <button class="p-2 hover:bg-bg-muted rounded-lg transition-colors" aria-label="Toggle theme">
        <i data-lucide="sun" class="w-4 h-4 text-text-muted"></i>
      </button>
    </div>
  </header>

  <div class="three-panel-layout">
    <!-- Left Navigation -->
    <nav class="left-nav" id="leftNav">
      <div class="nav-content"></div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">

      <!-- Section 1: ESSENCE -->
      <section id="essence" data-activity="essence">
        <div class="essence-box">
          <div class="essence-label">Essence (15 words)</div>
          <div class="essence-text">Systematic interview plugin transforming vague ideas into machine-readable specs Ralph can execute overnight.</div>
        </div>

        <p class="text-text-secondary mb-6">
          <strong>"Lisa plans. Ralph does."</strong> Lisa sits at Level 3.5 on the complexity ladder - the critical bridge between having an idea and having executable user stories that Ralph can implement autonomously.
        </p>
      </section>

      <!-- Section 2: CORE ABSTRACTION + IMPLEMENTATION -->
      <section id="core-abstraction" data-activity="core">
        <h2 class="section-title">
          <span class="section-number">2</span>
          The Core Abstraction
        </h2>

        <div class="core-abstraction">
          <div class="core-philosophy">"Most Ralph failures trace back to poor specification."</div>

          <div class="core-code">
            <button class="copy-btn" onclick="copyCode(this, '/lisa:plan \"User authentication\" --first-principles')">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <code>/lisa:plan "User authentication" --first-principles</code>
          </div>

          <div class="core-anchor">Interview as Requirements Engineering - automated.</div>
        </div>

        <p class="text-text-secondary mb-6">
          Lisa conducts a 15-30 question interview covering six dimensions: scope boundaries, user stories with acceptance criteria, technical implementation, user experience, trade-offs, and implementation phases. It uses the <code>AskUserQuestion</code> tool exclusively - never plain text - to ensure every question gets answered and captured.
        </p>

        <p class="text-text-secondary mb-6">
          This formalizes what senior developers do intuitively: "Let me understand the requirements first." Lisa automates the systematic questioning, while you provide the domain knowledge.
        </p>

        <h3 class="font-semibold text-lg mb-4 mt-8">The Six Interview Dimensions</h3>

        <div class="dimension-grid">
          <div class="dimension-card">
            <div class="dimension-title">
              <i data-lucide="target" class="w-4 h-4"></i>
              1. Scope Definition
            </div>
            <ul class="dimension-items">
              <li>Explicit boundaries</li>
              <li>MVP vs future work</li>
              <li>Out-of-scope declarations</li>
            </ul>
          </div>
          <div class="dimension-card">
            <div class="dimension-title">
              <i data-lucide="users" class="w-4 h-4"></i>
              2. User Stories
            </div>
            <ul class="dimension-items">
              <li>Discrete features needed</li>
              <li>Acceptance criteria per story</li>
              <li>Verification commands</li>
            </ul>
          </div>
          <div class="dimension-card">
            <div class="dimension-title">
              <i data-lucide="code" class="w-4 h-4"></i>
              3. Technical Implementation
            </div>
            <ul class="dimension-items">
              <li>Data models required</li>
              <li>API endpoints needed</li>
              <li>Error handling strategy</li>
            </ul>
          </div>
          <div class="dimension-card">
            <div class="dimension-title">
              <i data-lucide="user" class="w-4 h-4"></i>
              4. User Experience
            </div>
            <ul class="dimension-items">
              <li>User flows and journeys</li>
              <li>Edge cases</li>
              <li>Error states and messaging</li>
            </ul>
          </div>
          <div class="dimension-card">
            <div class="dimension-title">
              <i data-lucide="scale" class="w-4 h-4"></i>
              5. Trade-offs
            </div>
            <ul class="dimension-items">
              <li>Performance vs features</li>
              <li>Security vs convenience</li>
              <li>Technical debt acceptance</li>
            </ul>
          </div>
          <div class="dimension-card">
            <div class="dimension-title">
              <i data-lucide="layers" class="w-4 h-4"></i>
              6. Implementation Phases
            </div>
            <ul class="dimension-items">
              <li>2-4 incremental phases</li>
              <li>Verification per phase</li>
              <li>Dependencies between phases</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Section 3: DESIGN DECISIONS -->
      <section id="why-askuser" data-activity="decisions">
        <h2 class="section-title">
          <span class="section-number">3</span>
          Design Decisions
        </h2>

        <div class="decision-box">
          <div class="decision-why">WHY AskUserQuestion ONLY?</div>
          <div class="decision-reasoning">
            Using AskUserQuestion exclusively creates a structured conversation flow. It prevents accidental plain-text that users miss, ensures questions are answerable, captures responses for spec generation, and enables resume functionality.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Every question Lisa asks is a formal prompt that will be captured in the final spec. Answer thoroughly - your responses become the spec's acceptance criteria. Lisa won't ask vague questions like "What should it do?" but specific ones like "When validation fails, should errors appear inline immediately or after submit with a summary?"
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-no-tools">
          <div class="decision-why">WHY NO BASH/EDIT DURING INTERVIEW?</div>
          <div class="decision-reasoning">
            Lisa is intentionally constrained to AskUserQuestion and Read during interviews, and Read/Write during finalization. No Bash, no Edit, no Task. This prevents Lisa from accidentally starting implementation during specification - separation of planning and execution is load-bearing.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              You can't accidentally start coding during a Lisa interview. The temptation to "just implement this one thing" is blocked by design. Planning happens fully, then execution happens fully. This discipline is the value proposition.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-first-principles">
          <div class="decision-why">WHY --FIRST-PRINCIPLES FLAG?</div>
          <div class="decision-reasoning">
            The --first-principles flag adds an assumption-challenging phase before detailed specification. "What problem triggered this?" "What if we don't build it?" "What's the simplest solution?" Only after validating the approach does Lisa proceed to detailed spec.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Use --first-principles for greenfield features, uncertain requirements, or before large investments of Ralph loop time. It catches "building the wrong thing fast" before you've invested 20 Ralph iterations.
            </div>
          </div>
        </div>

        <div class="decision-box">
          <div class="decision-why">WHY JSON + MARKDOWN DUAL OUTPUT?</div>
          <div class="decision-reasoning">
            Lisa outputs both human-readable (.md) and machine-readable (.json) specifications. The markdown is for team review and discussion. The JSON is for Ralph consumption - it follows the snarktank/ralph schema with userStories array, acceptanceCriteria, and passes boolean.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Review the .md with your team, debate scope and priorities. When consensus is reached, the .json is already Ralph-ready. Copy to <code>scripts/ralph/prd.json</code> and run <code>./ralph.sh 25</code>.
            </div>
          </div>
        </div>

        <div class="decision-box">
          <div class="decision-why">WHY FILE-BASED STATE?</div>
          <div class="decision-reasoning">
            Lisa uses <code>.claude/lisa-{feature-slug}.md</code> for interview state and <code>.claude/lisa-draft.md</code> for the continuously updated spec draft. This enables <code>/lisa:resume</code> to continue interrupted interviews.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Long interviews survive disconnects, session timeouts, and lunch breaks. If you lose your session after question 15, <code>/lisa:resume</code> picks up where you left off.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 4: FILE STRUCTURE -->
      <section id="file-structure" data-activity="files">
        <h2 class="section-title">
          <span class="section-number">4</span>
          The File Structure
        </h2>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre>lisa/                            <span class="comment"># Plugin root</span>
<span class="comment">|-- .claude-plugin/              # Plugin metadata</span>
|   +-- metadata.json            <span class="comment"># Identity and version (1.1.0)</span>
|
|-- commands/                    <span class="comment"># Four command definitions</span>
|   |-- plan.md                  <span class="comment"># Main interview initiation</span>
|   |-- resume.md                <span class="comment"># Continue interrupted interviews</span>
|   |-- cleanup.md               <span class="comment"># Remove state files</span>
|   +-- help.md                  <span class="comment"># Documentation display</span>
|
|-- scripts/
|   +-- setup-lisa.sh            <span class="comment"># Interview initialization</span>
|
+-- README.md</pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8" id="output-files">Output Files (Your Project)</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre>YOUR_PROJECT/
<span class="comment">|-- .claude/                     # Claude Code state directory</span>
|   |-- lisa-{feature-slug}.md   <span class="comment"># Interview state tracking</span>
|   +-- lisa-draft.md            <span class="comment"># Continuously updated draft spec</span>
|
+-- docs/specs/                  <span class="comment"># Output directory (configurable)</span>
    |-- {feature}.md             <span class="comment"># Final markdown specification</span>
    |-- {feature}.json           <span class="comment"># Machine-readable JSON spec</span>
    +-- {feature}-progress.txt   <span class="comment"># Ralph integration file</span></pre>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Command Options</h3>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Basic feature interview</span>
/lisa:plan <span class="string">"User authentication"</span>

<span class="comment"># With existing context</span>
/lisa:plan <span class="string">"Payment processing"</span> --context docs/requirements/payments.md

<span class="comment"># Custom output location</span>
/lisa:plan <span class="string">"Dashboard redesign"</span> --output-dir specs/frontend

<span class="comment"># Limited interview (quick spec)</span>
/lisa:plan <span class="string">"Add logout button"</span> --max-questions 10

<span class="comment"># Full challenge mode</span>
/lisa:plan <span class="string">"Rebuild search engine"</span> --first-principles --context docs/search-prd.md

<span class="comment"># Resume interrupted interview</span>
/lisa:resume

<span class="comment"># Clean up state files</span>
/lisa:cleanup</pre>
        </div>
      </section>

      <!-- Section 5: PATH OF A TASK -->
      <section id="path" data-activity="path">
        <h2 class="section-title">
          <span class="section-number">5</span>
          The Path of a Task
        </h2>

        <p class="text-text-secondary mb-6">
          Follow a feature spec through the Lisa system to see how the pieces connect:
        </p>

        <div class="path-container">
          <div class="path-step">
            <div class="path-number">1</div>
            <div class="path-content">User invokes <code>/lisa:plan "User authentication" --first-principles</code></div>
          </div>
          <div class="path-step">
            <div class="path-number">2</div>
            <div class="path-content">Lisa runs setup-lisa.sh, creates <code>.claude/lisa-user-authentication.md</code> and <code>.claude/lisa-draft.md</code></div>
          </div>
          <div class="path-step">
            <div class="path-number">3</div>
            <div class="path-content"><strong>First Principles Phase:</strong> "What specific problem triggered this?" "What if we don't build it?" "What's the simplest solution?"</div>
          </div>
          <div class="path-step">
            <div class="path-number">4</div>
            <div class="path-content"><strong>Scope Definition:</strong> "What are explicit boundaries?" "What's MVP vs future work?" "What's explicitly out of scope?"</div>
          </div>
          <div class="path-step">
            <div class="path-number">5</div>
            <div class="path-content"><strong>User Stories:</strong> "What discrete features are needed?" "What are acceptance criteria for US-001?" [Iterates for each story]</div>
          </div>
          <div class="path-step">
            <div class="path-number">6</div>
            <div class="path-content"><strong>Technical Implementation:</strong> "Data models required?" "API endpoints needed?" "Error handling strategy?"</div>
          </div>
          <div class="path-step">
            <div class="path-number">7</div>
            <div class="path-content"><strong>User Experience:</strong> "User flows?" "Edge cases?" "Error states?"</div>
          </div>
          <div class="path-step">
            <div class="path-number">8</div>
            <div class="path-content"><strong>Trade-offs:</strong> "Performance vs features?" "Security vs convenience?"</div>
          </div>
          <div class="path-step">
            <div class="path-number">9</div>
            <div class="path-content"><strong>Implementation Phases:</strong> "2-4 incremental phases?" "Verification commands per phase?"</div>
          </div>
          <div class="path-step">
            <div class="path-number">10</div>
            <div class="path-content">User says <code>"done"</code>, <code>"finalize"</code>, or <code>"complete"</code></div>
          </div>
          <div class="path-step">
            <div class="path-number">11</div>
            <div class="path-content"><strong>Finalization Phase:</strong> Lisa writes <code>docs/specs/user-authentication.md</code>, <code>.json</code>, and <code>-progress.txt</code>. Deletes state file.</div>
          </div>
          <div class="path-step">
            <div class="path-number">12</div>
            <div class="path-content">Lisa outputs <code>"SPEC COMPLETE"</code> and stops. Ready for Ralph.</div>
          </div>
          <div class="path-step">
            <div class="path-number">13</div>
            <div class="path-content"><strong>Ralph Integration:</strong> <code>cp docs/specs/user-authentication.json scripts/ralph/prd.json && ./scripts/ralph/ralph.sh 25</code></div>
          </div>
        </div>
      </section>

      <!-- Section 6: GOTCHAS -->
      <section id="gotchas" data-activity="gotchas">
        <h2 class="section-title">
          <span class="section-number">6</span>
          Gotchas
        </h2>

        <p class="text-text-secondary mb-6">
          Real problems you'll hit, with concrete numbers and fixes:
        </p>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #1: Vague questions from Lisa
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Lisa asks "What should it do?" instead of specific queries</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Missing context, generic initial prompt</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Use <code>--context requirements.md</code> or provide detailed first answer with domain context</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 2 minutes</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #2: Interview goes too long (50+ questions)
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Scope keeps expanding, losing focus</div>
          <div class="gotcha-detail"><strong>Cause:</strong> No limits set, scope creep during answers</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Use <code>--max-questions 20</code> or explicitly declare out-of-scope early</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 1 minute</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #3: Lost interview progress
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Session ended, work lost</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Session timeout, crash</div>
          <div class="gotcha-detail"><strong>Fix:</strong> <code>/lisa:resume</code> - state is persisted in .claude/lisa-*.md</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 1 minute</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #4: JSON doesn't match Ralph format
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Ralph can't parse Lisa's JSON output</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Version mismatch, custom Ralph setup</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Validate with <code>jq '.userStories' docs/specs/feature.json</code>, verify schema</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 5 minutes</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #5: Missing acceptance criteria
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Stories lack verification steps</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Rushed interview, skipped questions</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Re-emphasize criteria during interview: "Every story needs: what passes, npm run typecheck, npm run test"</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 5-10 minutes (re-interview)</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #6: Output in wrong location
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Files not in expected directory</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Custom --output-dir or unexpected defaults</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Use explicit <code>--output-dir scripts/ralph</code></div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 1 minute</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #7: Interview not finalizing
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Said "done" but nothing happened</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Trigger word not recognized</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Use explicit finalization keywords: "done", "finalize", or "complete"</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 0 minutes (just say the right word)</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #8: Context file not loading
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> --context flag ignored</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Path wrong or file doesn't exist</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Check file exists, use absolute path if needed</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 2 minutes</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #9: Ralph fails on Lisa spec
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Ralph errors when reading prd.json</div>
          <div class="gotcha-detail"><strong>Cause:</strong> JSON format incompatibility</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Validate: <code>cat prd.json | jq .</code> and check userStories array exists</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 5 minutes</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            #10: First principles mode skipped
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Assumptions not challenged</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Forgot to use --first-principles flag</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Explicitly use <code>--first-principles</code> for greenfield features</div>
          <div class="gotcha-detail"><strong>Time to fix:</strong> 0 minutes (just add the flag)</div>
        </div>
      </section>

      <!-- Section 7: WHAT'S HARD -->
      <section id="hard" data-activity="hard">
        <h2 class="section-title">
          <span class="section-number">7</span>
          What's Hard
        </h2>

        <p class="text-text-secondary mb-6">
          These are fundamental tensions, not bugs to fix:
        </p>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Interview Fatigue
          </div>
          <div class="hard-detail"><strong>The tension:</strong> 15-30 questions is taxing. Focus wanes. By question 20, you're giving shorter, less thoughtful answers.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Later stories have vague acceptance criteria. "Just make it work" creeps in.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Use <code>--max-questions 20</code>. Take breaks. <code>/lisa:resume</code> after lunch. Accept that some fatigue is the cost of thoroughness.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Scope Creep During Interview
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Each question invites scope expansion. "Oh, we should also handle X." Feature grows during planning.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Started with 3 stories, ended with 12. MVP is now 2 months.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Explicitly declare out-of-scope EARLY. First answer should include "NOT doing: [list]". Push back on Lisa's expansive questions.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Acceptance Criteria Precision
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Hard to articulate "done" clearly. What does "login works" mean exactly? Ralph needs verifiable criteria.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Stories marked "complete" by Ralph but actually broken. Garbage compounding.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Use verifiable commands as criteria: "npm run test passes", "curl returns 200", "Lighthouse score >90". If you can't automate the check, Ralph can't verify it.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Context Limitations
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Lisa can't see your full codebase during interview. It asks about APIs but doesn't know your existing patterns.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Spec proposes solutions incompatible with existing architecture.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Use <code>--context</code> with relevant files. Mention patterns in answers: "We use the Repository pattern for data access."</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Feature Decomposition Skill
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Breaking big features into iteration-sized stories is a skill, not a formula. Lisa helps, but you still need judgment.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Stories too big (Ralph context overflow) or too small (overhead dominates).</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Use <code>--first-principles</code> to simplify first. Review Lisa's output before sending to Ralph. Expect to get better over time.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Interview vs Implementation Balance
          </div>
          <div class="hard-detail"><strong>The tension:</strong> You want to start coding, not keep answering questions. The planning tax feels like overhead.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Abandoning interviews halfway. Jumping to Ralph with incomplete specs.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Commit to interview discipline. Remember: 30 minutes of Lisa saves 3 hours of Ralph debugging. "Pay the planning tax upfront to avoid the rework tax later."</div>
        </div>
      </section>

      <!-- Section 8: WHEN TO USE -->
      <section id="when" data-activity="when">
        <h2 class="section-title">
          <span class="section-number">8</span>
          When to Use / When Not
        </h2>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              USE LISA WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Feature clarity is low - "I want X but details unclear"</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Expected 3+ user stories (worth the interview overhead)</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Need shareable spec for team review</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Planning for Ralph loop execution</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Need verifiable acceptance criteria</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Complex requirements needing multi-perspective analysis</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              DON'T USE LISA WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Single, simple task - just use direct Claude Code</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>PRD already exists - skip to Ralph</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Exploratory coding with no defined end</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Quick prototype - over-planning slows experimentation</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Under 15 minutes of expected work - interview takes longer</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Bug fixes - use direct debugging session</span>
            </div>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4 mt-8">Alternatives Matrix</h3>

        <div class="code-block" style="background: #fafafa; border: 1px solid #e4e4e7;">
          <pre style="color: #3f3f46;"><span style="color: #0D9373; font-weight: 600;">Scenario                          Best Choice</span>
Know what to build, need spec     <span style="color: #0D9373;">Lisa</span>
Have PRD, need execution          Ralph (Lisa already done)
Starting from scratch             <span style="color: #0D9373;">Lisa</span> -> Ralph (full pipeline)
Complex requirements              <span style="color: #0D9373;">Lisa --first-principles</span>
Quick one-off feature             Direct Claude Code
Need tests too                    Lisa -> Marathon Ralph
Factory-scale development         <span style="color: #0D9373;">Lisa as Dog</span> + Ralph in Gas Town</pre>
        </div>
      </section>

    </main>

    <!-- Resizer between Main Panel and Activity Zone -->
    <div class="resizer" data-resizer="activity-zone" aria-label="Resize activity panel"></div>

    <!-- Activity Zone -->
    <aside class="activity-zone" id="activityZone">
      <div class="text-xs font-semibold text-text-muted uppercase tracking-wider mb-4">Operational Intelligence</div>

      <!-- ESSENCE SECTION (3 items) -->
      <div class="activity-item inversion" data-section="essence">
        <div class="activity-label" style="color: #4f46e5;">
          <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
          Inversion Lens
        </div>
        <div class="font-medium text-text-primary mb-2">What if you could code during the interview?</div>
        <div class="text-text-secondary text-sm">
          <strong>You'd design:</strong> Interactive spec-while-implementing, code snippets inline.<br>
          <strong>Why this fails:</strong> Temptation to implement before specifying. Scope undefined. Half-finished code in spec.<br>
          <strong>Hidden constraint:</strong> Separation of planning/execution is load-bearing. Lisa's tool restrictions ARE the value.
        </div>
      </div>

      <div class="activity-item minimal" data-section="essence">
        <div class="activity-label" style="color: #84cc16;">
          <i data-lucide="minimize-2" class="w-4 h-4"></i>
          Minimal Pattern
        </div>
        <div class="font-medium text-text-primary mb-2">The irreducible core</div>
        <div class="text-text-secondary text-sm">
          <code style="background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;">/lisa:plan "Feature" --max-questions 10</code><br>
          <strong>Essential:</strong> AskUserQuestion + JSON output.<br>
          <strong>Everything else:</strong> --first-principles, --context, resume = refinement.
        </div>
      </div>

      <div class="activity-item warstory" data-section="essence">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="user" class="w-4 h-4"></i>
          War Story
        </div>
        <div class="font-medium text-text-primary mb-2">BLEN Engineering: Lisa Genesis</div>
        <div class="text-text-secondary text-sm">
          Mike Endale + Claude built Lisa to solve the "PRD gap" - Ralph was powerful but required well-structured specs that took hours to write manually. Lisa interview: 30 minutes. Manual PRD: 3+ hours.
        </div>
      </div>

      <!-- CORE SECTION (4 items) -->
      <div class="activity-item invariant" data-section="core">
        <div class="activity-label" style="color: #3b82f6;">
          <i data-lucide="link" class="w-4 h-4"></i>
          Invariant Connection
        </div>
        <div class="font-medium text-text-primary mb-2">Shared with Ralph: External State</div>
        <div class="text-text-secondary text-sm">
          Lisa uses filesystem state (<code>.claude/lisa-*.md</code>) just like Ralph uses <code>progress.txt</code>. Both patterns: "External state > internal memory." The file IS the memory.
        </div>
      </div>

      <div class="activity-item invariant" data-section="core">
        <div class="activity-label" style="color: #3b82f6;">
          <i data-lucide="link" class="w-4 h-4"></i>
          Invariant Connection
        </div>
        <div class="font-medium text-text-primary mb-2">Shared with Boris: Spec-Driven Development</div>
        <div class="text-text-secondary text-sm">
          Lisa formalizes Thariq's insight: "Start with a minimal spec, ask Claude to interview you, then execute the spec." This is the Boris workflow made into a plugin.
        </div>
      </div>

      <div class="activity-item invariant" data-section="core">
        <div class="activity-label" style="color: #3b82f6;">
          <i data-lucide="link" class="w-4 h-4"></i>
          Invariant Connection
        </div>
        <div class="font-medium text-text-primary mb-2">Shared with CC Mirror: Task Decomposition</div>
        <div class="text-text-secondary text-sm">
          Lisa's user story extraction mirrors CC Mirror's TaskCreate pattern. Both take big work and decompose into verifiable units. The DNA is the same.
        </div>
      </div>

      <div class="activity-item analogy" data-section="core">
        <div class="activity-label" style="color: #d946ef;">
          <i data-lucide="git-compare" class="w-4 h-4"></i>
          Analogical Bridge
        </div>
        <div class="font-medium text-text-primary mb-2">Lisa = Automated BA</div>
        <div class="text-text-secondary text-sm">
          Traditional Business Analyst interviews stakeholders systematically, documents requirements, hands off to developers.<br><br>
          Lisa automates the BA role: structured questions, documented answers, formal output.<br><br>
          <em>If you've worked with a good BA, you already understand Lisa.</em>
        </div>
      </div>

      <!-- DECISIONS SECTION (4 items) -->
      <div class="activity-item constraint" data-section="decisions">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="link-2" class="w-4 h-4"></i>
          Constraint Chain
        </div>
        <div class="font-medium text-text-primary mb-2">"Ralph needs structured JSON" -> FIVE decisions</div>
        <div class="text-text-secondary text-sm">
          <strong>ROOT:</strong> Ralph needs structured JSON with userStories array<br>
          -> Lisa must output JSON<br>
          -> JSON needs schema<br>
          -> Schema needs user stories<br>
          -> Stories need acceptance criteria<br>
          -> Criteria need interview to extract<br><br>
          <em>JSON requirement drives entire interview structure.</em>
        </div>
      </div>

      <div class="activity-item constraint" data-section="decisions">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="link-2" class="w-4 h-4"></i>
          Constraint Chain
        </div>
        <div class="font-medium text-text-primary mb-2">"Interviews get interrupted" -> Architecture</div>
        <div class="text-text-secondary text-sm">
          <strong>ROOT:</strong> Interviews can take 30+ minutes, sessions timeout<br>
          -> Need state persistence<br>
          -> File-based state (.claude/lisa-*.md)<br>
          -> Resume capability (/lisa:resume)<br>
          -> State file cleanup (/lisa:cleanup)<br><br>
          <em>Session ephemerality drives file architecture.</em>
        </div>
      </div>

      <div class="activity-item violation" data-section="decisions">
        <div class="activity-label" style="color: #f97316;">
          <i data-lucide="alert-octagon" class="w-4 h-4"></i>
          Violation Chain
        </div>
        <div class="font-medium text-text-primary mb-2">If interviews were optional</div>
        <div class="text-text-secondary text-sm">
          <strong>IF:</strong> Skip Lisa, write PRD manually<br>
          <strong>THEN:</strong> Miss edge cases (no systematic questions)<br>
          <strong>THEN:</strong> Vague acceptance criteria<br>
          <strong>THEN:</strong> Ralph marks tasks "done" that aren't<br>
          <strong>FINALLY:</strong> Morning reveals broken code<br><br>
          <em>Interview discipline IS the value proposition.</em>
        </div>
      </div>

      <div class="activity-item tradeoff" data-section="decisions">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="scale" class="w-4 h-4"></i>
          Trade-Off Tension
        </div>
        <div class="font-medium text-text-primary mb-2">Thoroughness vs Speed</div>
        <div class="text-text-secondary text-sm">
          <strong>More questions =</strong> Better spec, fewer Ralph failures<br>
          <strong>More questions =</strong> More time, interview fatigue<br><br>
          <em>Resolution: Use --max-questions for known scope. Full interview for greenfield.</em>
        </div>
      </div>

      <!-- FILES SECTION (3 items) -->
      <div class="activity-item expertise" data-section="files">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="bar-chart-3" class="w-4 h-4"></i>
          Expertise Gradient
        </div>
        <div class="font-medium text-text-primary mb-2">How deep is your understanding?</div>
        <div class="text-text-secondary text-sm">
          <strong>Beginner:</strong> "What files does Lisa create?" -> .md, .json, progress.txt<br>
          <strong>Intermediate:</strong> "Why three outputs?" -> Human review, Ralph consumption, phase tracking<br>
          <strong>Advanced:</strong> "What's the JSON schema?" -> userStories array with acceptanceCriteria<br>
          <strong>Staff:</strong> "How does it integrate with Gas Town?" -> Lisa as planning Dog
        </div>
      </div>

      <div class="activity-item composition" data-section="files">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="layers" class="w-4 h-4"></i>
          Composition Case
        </div>
        <div class="font-medium text-text-primary mb-2">Lisa + Production Ralph = Full Pipeline</div>
        <div class="text-text-secondary text-sm">
          <strong>Works:</strong> Lisa JSON follows snarktank/ralph schema. Direct copy to prd.json.<br>
          <strong>Workflow:</strong> <code>/lisa:plan</code> -> <code>cp .json prd.json</code> -> <code>./ralph.sh 25</code><br>
          <strong>Value:</strong> Wake up to completed feature.
        </div>
      </div>

      <div class="activity-item composition" data-section="files">
        <div class="activity-label" style="color: #8b5cf6;">
          <i data-lucide="layers" class="w-4 h-4"></i>
          Composition Case
        </div>
        <div class="font-medium text-text-primary mb-2">Lisa + Gas Town = Factory Planning</div>
        <div class="text-text-secondary text-sm">
          <strong>Works:</strong> Lisa as a planning Dog in Gas Town factory. Mayor routes feature requests to Lisa Dog, output feeds Coder Dogs.<br>
          <strong>Config:</strong> <code>dogs: lisa-planner: trigger: "new-feature-request"</code><br>
          <strong>Value:</strong> Systematic planning at factory scale.
        </div>
      </div>

      <!-- PATH SECTION (4 items) -->
      <div class="activity-item horizon" data-section="path">
        <div class="activity-label" style="color: #06b6d4;">
          <i data-lucide="clock" class="w-4 h-4"></i>
          Time Horizon Shift
        </div>
        <div class="font-medium text-text-primary mb-2">How judgment evolves with interviews</div>
        <div class="text-text-secondary text-sm">
          <strong>Interview 1:</strong> "30 minutes of questions feels like overhead"<br>
          <strong>Interview 3:</strong> "Ralph succeeded because the spec was clear"<br>
          <strong>Interview 10:</strong> "I can't imagine skipping Lisa for anything complex"<br>
          <strong>Interview 20:</strong> "This is how I think about features now"<br><br>
          <em>The planning tax becomes invisible as it becomes habit.</em>
        </div>
      </div>

      <div class="activity-item effect" data-section="path">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="trending-up" class="w-4 h-4"></i>
          Second-Order Effect
        </div>
        <div class="font-medium text-text-primary mb-2">Spec Library Accumulation</div>
        <div class="text-text-secondary text-sm">
          Over time, Lisa outputs create a spec library in <code>docs/specs/</code>. Past decisions are documented. New features can reference old specs for consistency. The library becomes institutional memory.
        </div>
      </div>

      <div class="activity-item effect" data-section="path">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="trending-up" class="w-4 h-4"></i>
          Second-Order Effect
        </div>
        <div class="font-medium text-text-primary mb-2">Interview Discipline Muscle</div>
        <div class="text-text-secondary text-sm">
          Regular Lisa use trains you to think in acceptance criteria naturally. "How will we verify this?" becomes instinctive. The skill transfers to non-Lisa work. You become a better requirements engineer.
        </div>
      </div>

      <div class="activity-item violation" data-section="path">
        <div class="activity-label" style="color: #f97316;">
          <i data-lucide="alert-octagon" class="w-4 h-4"></i>
          Violation Chain
        </div>
        <div class="font-medium text-text-primary mb-2">If you skip acceptance criteria (Step 5)</div>
        <div class="text-text-secondary text-sm">
          <strong>IF:</strong> Skip "What are acceptance criteria for US-001?"<br>
          <strong>THEN:</strong> Stories have no verification<br>
          <strong>THEN:</strong> Ralph marks "done" without checking<br>
          <strong>THEN:</strong> Broken code enters git<br>
          <strong>FINALLY:</strong> Morning reveals 10 "complete" but broken features
        </div>
      </div>

      <!-- GOTCHAS SECTION (4 items) -->
      <div class="activity-item inflection" data-section="gotchas">
        <div class="activity-label" style="color: #eab308;">
          <i data-lucide="activity" class="w-4 h-4"></i>
          Inflection Point
        </div>
        <div class="font-medium text-text-primary mb-2">When interview length flips from help to hurt</div>
        <div class="text-text-secondary text-sm">
          <strong>10-15 questions:</strong> Pure benefit (coverage increases)<br>
          <strong>15-25 questions:</strong> Diminishing returns (fatigue starts)<br>
          <strong>25-35 questions:</strong> Neutral (quality of answers drops)<br>
          <strong>35+ questions:</strong> Net negative (rushing, "just make it work")<br><br>
          <strong>THE INFLECTION:</strong> ~25 questions<br>
          <em>Detection: Are your answers getting shorter? Use --max-questions.</em>
        </div>
      </div>

      <div class="activity-item gradient" data-section="gotchas">
        <div class="activity-label" style="color: #f43f5e;">
          <i data-lucide="trending-down" class="w-4 h-4"></i>
          Failure Gradient
        </div>
        <div class="font-medium text-text-primary mb-2">How spec quality degrades</div>
        <div class="text-text-secondary text-sm">
          <strong>100% -> 90%</strong>: Vague questions, generic answers<br>
          <strong>90% -> 70%</strong>: Missing edge cases, incomplete criteria<br>
          <strong>70% -> 50%</strong>: No verification commands, "it works" criteria<br>
          <strong>50% -> CLIFF</strong>: Ralph fails on every story<br><br>
          <em>Recovery: /lisa:cleanup and restart with better context.</em>
        </div>
      </div>

      <div class="activity-item warstory" data-section="gotchas">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="user" class="w-4 h-4"></i>
          War Story
        </div>
        <div class="font-medium text-text-primary mb-2">The Missing Test Criteria</div>
        <div class="text-text-secondary text-sm">
          Developer ran Lisa interview, spec looked complete. But acceptance criteria were all "feature works" instead of "npm run test passes". Ralph produced 8 "complete" stories with zero tests. Lesson: explicit test commands in every criterion.
        </div>
      </div>

      <div class="activity-item warstory" data-section="gotchas">
        <div class="activity-label" style="color: #10b981;">
          <i data-lucide="user" class="w-4 h-4"></i>
          War Story
        </div>
        <div class="font-medium text-text-primary mb-2">The Scope Creep Interview</div>
        <div class="text-text-secondary text-sm">
          Interview started with "add logout button". 50 questions later, spec included session management, remember-me tokens, multi-device logout, and audit logging. 3x original scope. Lesson: declare out-of-scope in first answer.
        </div>
      </div>

      <!-- HARD SECTION (4 items) -->
      <div class="activity-item tradeoff" data-section="hard">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="scale" class="w-4 h-4"></i>
          Trade-Off Tension
        </div>
        <div class="font-medium text-text-primary mb-2">Interview vs Implementation Balance</div>
        <div class="text-text-secondary text-sm">
          <strong>THE DILEMMA:</strong><br>
          - Want to start coding, not keep answering questions<br>
          - But incomplete spec = Ralph failures = more rework<br><br>
          <strong>WHY NO PERFECT ANSWER:</strong><br>
          Planning tax is real. Some overhead is unavoidable.<br><br>
          <em>Accept: 30 minutes of Lisa saves 3 hours of debugging.</em>
        </div>
      </div>

      <div class="activity-item tradeoff" data-section="hard">
        <div class="activity-label" style="color: #f59e0b;">
          <i data-lucide="scale" class="w-4 h-4"></i>
          Trade-Off Tension
        </div>
        <div class="font-medium text-text-primary mb-2">Flexibility vs Structure</div>
        <div class="text-text-secondary text-sm">
          <strong>Freeform allows:</strong> Creativity, tangents, exploration<br>
          <strong>Structure ensures:</strong> Coverage, consistency, Ralph compatibility<br><br>
          <em>Resolution: Lisa provides structure; you add creativity in answers.</em>
        </div>
      </div>

      <div class="activity-item frontier" data-section="hard">
        <div class="activity-label" style="color: #ef4444;">
          <i data-lucide="flask-conical" class="w-4 h-4"></i>
          Research Frontier
        </div>
        <div class="font-medium text-text-primary mb-2">UNSOLVED: Multi-Stakeholder Interviews</div>
        <div class="text-text-secondary text-sm">
          Lisa is single-user. Team interviews need manual coordination. How to handle conflicting requirements from multiple stakeholders? No automation yet.
        </div>
      </div>

      <div class="activity-item frontier" data-section="hard">
        <div class="activity-label" style="color: #ef4444;">
          <i data-lucide="flask-conical" class="w-4 h-4"></i>
          Research Frontier
        </div>
        <div class="font-medium text-text-primary mb-2">UNSOLVED: Spec Evolution Tracking</div>
        <div class="text-text-secondary text-sm">
          No built-in version control for spec iterations. How to track changes between v1 and v2 of the same feature spec? Git helps, but diff is noise. Semantic versioning needed.
        </div>
      </div>

      <!-- WHEN SECTION (6 items) -->
      <div class="activity-item inversion" data-section="when">
        <div class="activity-label" style="color: #4f46e5;">
          <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
          Inversion Lens
        </div>
        <div class="font-medium text-text-primary mb-2">What if you used Lisa for a 15-minute task?</div>
        <div class="text-text-secondary text-sm">
          - Interview takes 20 minutes minimum<br>
          - Task itself takes 15 minutes<br>
          - Total: 35 minutes instead of 15<br>
          - Overhead: 133%<br><br>
          <strong>Why this fails:</strong> Lisa overhead > task time.<br>
          <em>Threshold: Use Lisa when expected coding time > 30 minutes.</em>
        </div>
      </div>

      <div class="activity-item inflection" data-section="when">
        <div class="activity-label" style="color: #eab308;">
          <i data-lucide="activity" class="w-4 h-4"></i>
          Inflection Point
        </div>
        <div class="font-medium text-text-primary mb-2">When does Lisa benefit flip to cost?</div>
        <div class="text-text-secondary text-sm">
          <strong>15-minute task:</strong> Lisa overhead > benefit<br>
          <strong>1-hour feature:</strong> Maybe (if multiple stories)<br>
          <strong>Multi-day feature:</strong> Lisa clearly wins<br>
          <strong>Multi-week project:</strong> Spec becomes documentation<br><br>
          <strong>THE FLIP:</strong> ~30 minutes expected coding time
        </div>
      </div>

      <div class="activity-item alternative" data-section="when">
        <div class="activity-label" style="color: #6b7280;">
          <i data-lucide="arrow-right" class="w-4 h-4"></i>
          Alternative Path
        </div>
        <div class="font-medium text-text-primary mb-2">Manual PRD Writing</div>
        <div class="text-text-secondary text-sm">
          <strong>When better:</strong> Full creative control, custom format, stakeholder-specific language<br>
          <strong>When worse:</strong> Time-consuming, inconsistent format, miss edge cases<br>
          <em>Use when: You need PRD format Lisa doesn't produce.</em>
        </div>
      </div>

      <div class="activity-item alternative" data-section="when">
        <div class="activity-label" style="color: #6b7280;">
          <i data-lucide="arrow-right" class="w-4 h-4"></i>
          Alternative Path
        </div>
        <div class="font-medium text-text-primary mb-2">Direct Claude Code Chat</div>
        <div class="text-text-secondary text-sm">
          <strong>When better:</strong> Interactive exploration, immediate coding, debugging<br>
          <strong>When worse:</strong> No structured spec, hard to hand off, no Ralph integration<br>
          <em>Use when: Exploratory work or bug fixing.</em>
        </div>
      </div>

      <div class="activity-item alternative" data-section="when">
        <div class="activity-label" style="color: #6b7280;">
          <i data-lucide="arrow-right" class="w-4 h-4"></i>
          Alternative Path
        </div>
        <div class="font-medium text-text-primary mb-2">Marathon Ralph</div>
        <div class="text-text-secondary text-sm">
          <strong>When better:</strong> Full SDLC with E2E test generation, building entire apps<br>
          <strong>When worse:</strong> Overkill for small features, more setup<br>
          <em>Use when: Lisa -> Marathon Ralph for test-critical projects.</em>
        </div>
      </div>

      <div class="activity-item analogy" data-section="when">
        <div class="activity-label" style="color: #d946ef;">
          <i data-lucide="git-compare" class="w-4 h-4"></i>
          Analogical Bridge
        </div>
        <div class="font-medium text-text-primary mb-2">Interview Depth = Feature Risk</div>
        <div class="text-text-secondary text-sm">
          <strong>Quick spec (10 questions)</strong> = Low-risk feature (add button)<br>
          <strong>Standard spec (20 questions)</strong> = Medium-risk feature (new page)<br>
          <strong>Full spec (30+ questions)</strong> = High-risk feature (auth system)<br>
          <strong>--first-principles</strong> = Architecture-risk feature (rebuild core)<br><br>
          <em>Match interview depth to feature risk.</em>
        </div>
      </div>

    </aside>
  </div>

  <script>
    /**
     * PanelResizer - Handles draggable panel dividers
     */
    class PanelResizer {
      constructor(resizerEl, config = {}) {
        this.resizer = resizerEl;
        this.config = {
          storageKey: 'panel-activity-zone-width',
          minWidth: 280,
          maxWidth: 900,
          defaultWidth: 480,
          ...config
        };

        this.isResizing = false;
        this.startX = 0;
        this.startWidth = 0;

        this.activityZone = document.querySelector('.activity-zone');
        this.mainContent = document.querySelector('.main-content');

        this.onMouseDown = this.onMouseDown.bind(this);
        this.onMouseMove = this.onMouseMove.bind(this);
        this.onMouseUp = this.onMouseUp.bind(this);

        this.init();
      }

      init() {
        this.restoreWidth();
        this.resizer.addEventListener('mousedown', this.onMouseDown);
      }

      onMouseDown(e) {
        if (e.button !== 0) return;

        this.isResizing = true;
        this.startX = e.clientX;
        this.startWidth = this.activityZone.offsetWidth;

        this.resizer.classList.add('active');
        document.body.classList.add('resizing');

        document.addEventListener('mousemove', this.onMouseMove);
        document.addEventListener('mouseup', this.onMouseUp);

        e.preventDefault();
      }

      onMouseMove(e) {
        if (!this.isResizing) return;

        const delta = this.startX - e.clientX;
        const newWidth = this.startWidth + delta;

        const constrainedWidth = Math.max(
          this.config.minWidth,
          Math.min(this.config.maxWidth, newWidth)
        );

        this.activityZone.style.width = constrainedWidth + 'px';
        this.mainContent.style.marginRight = constrainedWidth + 'px';
        this.resizer.style.right = constrainedWidth + 'px';
      }

      onMouseUp(e) {
        if (!this.isResizing) return;

        this.isResizing = false;

        this.resizer.classList.remove('active');
        document.body.classList.remove('resizing');

        document.removeEventListener('mousemove', this.onMouseMove);
        document.removeEventListener('mouseup', this.onMouseUp);

        this.saveWidth();
      }

      saveWidth() {
        const width = this.activityZone.offsetWidth;
        localStorage.setItem(this.config.storageKey, JSON.stringify({
          width,
          timestamp: Date.now()
        }));
      }

      restoreWidth() {
        try {
          const stored = localStorage.getItem(this.config.storageKey);
          if (stored) {
            const { width } = JSON.parse(stored);
            if (width >= this.config.minWidth && width <= this.config.maxWidth) {
              this.activityZone.style.width = width + 'px';
              this.mainContent.style.marginRight = width + 'px';
              this.resizer.style.right = width + 'px';
            }
          }
        } catch (e) {
          console.warn('Failed to restore panel width:', e);
        }
      }

      destroy() {
        this.resizer.removeEventListener('mousedown', this.onMouseDown);
        document.removeEventListener('mousemove', this.onMouseMove);
        document.removeEventListener('mouseup', this.onMouseUp);
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const resizers = document.querySelectorAll('[data-resizer]');
      resizers.forEach(resizer => new PanelResizer(resizer));
    });

    // Initialize Lucide icons
    lucide.createIcons();

    // Navigation toggle
    function toggleSection(header) {
      const section = header.closest('.nav-section');
      section.classList.toggle('expanded');
      const children = section.querySelector('.nav-children');
      children.classList.toggle('expanded');
    }

    // Mobile menu toggle
    function toggleMobileMenu() {
      const nav = document.getElementById('leftNav');
      nav.classList.toggle('open');
    }

    // Copy functionality
    function copyCode(btn, text) {
      navigator.clipboard.writeText(text).then(() => {
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i data-lucide="check" class="w-3 h-3"></i> Copied!';
        lucide.createIcons();
        setTimeout(() => {
          btn.innerHTML = originalText;
          lucide.createIcons();
        }, 2000);
      });
    }

    function copyCodeBlock(btn) {
      const codeBlock = btn.closest('.code-block');
      const pre = codeBlock.querySelector('pre');
      const text = pre.textContent;
      copyCode(btn, text);
    }

    // Scroll-sync with GSAP ScrollTrigger
    gsap.registerPlugin(ScrollTrigger);

    const sections = document.querySelectorAll('[data-activity]');
    const activityItems = document.querySelectorAll('.activity-item');

    sections.forEach(section => {
      ScrollTrigger.create({
        trigger: section,
        start: 'top 40%',
        end: 'bottom 40%',
        onEnter: () => activateSection(section.dataset.activity),
        onEnterBack: () => activateSection(section.dataset.activity),
      });
    });

    function activateSection(sectionName) {
      activityItems.forEach(item => {
        if (item.dataset.section === sectionName) {
          item.classList.add('active');
          gsap.to(item, {
            opacity: 1,
            y: -2,
            boxShadow: '0 4px 12px rgba(0,0,0,0.08)',
            duration: 0.3,
            ease: 'power2.out'
          });
        } else {
          item.classList.remove('active');
          gsap.to(item, {
            opacity: 0.5,
            y: 0,
            boxShadow: 'none',
            duration: 0.3,
            ease: 'power2.out'
          });
        }
      });

      document.querySelectorAll('.nav-section-header').forEach(header => {
        header.classList.remove('active');
      });
      const activeNav = document.querySelector(`[data-section="${sectionName}"] .nav-section-header`);
      if (activeNav) {
        activeNav.classList.add('active');
      }
    }

    // Initialize first section as active
    activateSection('essence');

    // Smooth scroll for nav links
    document.querySelectorAll('.nav-item').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          document.querySelectorAll('.nav-item').forEach(l => l.classList.remove('active'));
          link.classList.add('active');
        }
      });
    });

    // Brushing interaction - hover activity item highlights related content
    activityItems.forEach(item => {
      item.addEventListener('mouseenter', () => {
        const sectionName = item.dataset.section;
        const relatedSection = document.querySelector(`[data-activity="${sectionName}"]`);
        if (relatedSection) {
          relatedSection.style.backgroundColor = 'rgba(13, 147, 115, 0.05)';
          relatedSection.style.transition = 'background-color 0.3s ease';
        }
      });

      item.addEventListener('mouseleave', () => {
        const sectionName = item.dataset.section;
        const relatedSection = document.querySelector(`[data-activity="${sectionName}"]`);
        if (relatedSection) {
          relatedSection.style.backgroundColor = '';
        }
      });
    });
  </script>
<script src="../../js/global-nav.js"></script>
</body>
</html>
