<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta data-pagefind-meta="section" content="Extractions">
  <meta data-pagefind-meta="category" content="Spotlight">
  <title>Opus 4.5 + Ralph + Playwright - Visual Verification Stack - Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/sidebar.css">
  <link rel="stylesheet" href="../../css/search.css">
</head>
<body>
  <!-- Search Modal -->
  <div class="search-modal" id="searchModal" aria-hidden="true">
    <div class="search-overlay" onclick="closeSearch()"></div>
    <div class="search-content">
      <div class="search-header">
        <div class="search-input-wrapper">
          <span class="search-icon-input">&#128269;</span>
          <input type="text" id="searchInput" placeholder="Search documentation..." autocomplete="off" />
          <kbd class="search-kbd">ESC</kbd>
        </div>
      </div>
      <div class="search-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="synthesis">Synthesis</button>
        <button class="filter-btn" data-filter="extractions">Extractions</button>
        <button class="filter-btn" data-filter="journeys">Journeys</button>
      </div>
      <div class="search-results" id="searchResults">
        <div class="search-empty"><p>Start typing to search... (Press Cmd+K anytime)</p></div>
      </div>
      <div class="search-footer">
        <span>Up/Down Navigate</span><span>Enter Select</span><span>ESC Close</span>
      </div>
    </div>
  </div>

  <button class="search-trigger" onclick="openSearch()" aria-label="Search" style="float: right; margin-bottom: 1rem;">
    <span class="search-icon">Cmd+K</span>
    <span class="search-text">Search</span>
  </button>

  <div class="wide-container">
    <!-- Breadcrumb Navigation -->
    <nav class="nav-breadcrumb">
      <a href="../../index.html">Home</a>
      <span>/</span>
      <a href="../extractions-index.html">Extractions</a>
      <span>/</span>
      <a href="spotlight-index.html">Spotlight</a>
      <span>/</span>
      <span>Opus + Playwright</span>
    </nav>

    <!-- You Are Here Context Box -->
    <div class="you-are-here" style="background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%); border-left: 4px solid #2a7d7d; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
      <h3 style="color: #2a7d7d; margin-top: 0; font-size: 0.9em; text-transform: uppercase; letter-spacing: 0.5px;">You Are Here</h3>
      <p style="margin-bottom: 0;"><strong>Opus 4.5 + Ralph + Playwright</strong> - The self-correcting autonomous UI development stack. Combines strong reasoning (Opus 4.5), persistence (Ralph loop), and perception (Playwright screenshots) to build UI features that actually work - verified in a real browser, not just claimed "done."</p>
    </div>

    <h1><span class="b">Opus</span> 4.5 + <span class="b">Ralph</span> + Playwright</h1>
    <p class="subtitle">Visual Verification Stack by @weswinder</p>

    <!-- Source Attribution -->
    <div class="source-box" style="background: #f9f6f0; border: 1px solid #e0d5c5; border-radius: 8px; padding: 1rem; margin-bottom: 2rem;">
      <p style="margin: 0;"><strong>Source:</strong> <a href="https://x.com/weswinder/status/2008051871743918410" target="_blank">@weswinder (Wes Winder)</a> - 12+ year developer, founder of #1 vibe coding community</p>
      <p style="margin: 0.5rem 0 0 0;"><strong>Date:</strong> January 5, 2026 | <strong>Engagement:</strong> 1.5K likes, 153K views, 1.3K bookmarks</p>
      <p style="margin: 0.5rem 0 0 0;"><strong>Reliability:</strong> HIGH - Practitioner with community validation</p>
    </div>

    <!-- Table of Contents -->
    <div class="toc">
      <div class="toc-title">Contents</div>
      <ul>
        <li><a href="#problem">The Problem This Solves</a></li>
        <li><a href="#stack">The Stack Explained</a></li>
        <li><a href="#implementation">Step-by-Step Implementation</a></li>
        <li><a href="#subagent">Critical Optimization: Subagents</a></li>
        <li><a href="#troubleshooting">Troubleshooting</a></li>
        <li><a href="#cost">Cost and Performance</a></li>
        <li><a href="#results">Real Results</a></li>
        <li><a href="#reference">Quick Reference</a></li>
      </ul>
    </div>

    <hr class="section-divider">

    <!-- The Problem -->
    <section id="problem">
      <h2><span class="b">The</span> Problem This <span class="b">Sol</span>ves</h2>

      <h3>The Broken Promise of "Done"</h3>

      <p>Every time you build UI features with Claude, you probably experience this:</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>You: "Add a login form with email and password fields"
Claude: "Done! I've added the login form component."
You: *opens browser*
You: *sees blank page, console errors, or completely wrong layout*
You: *sighs*</code></pre>
      </div>

      <h3>The Core Issue</h3>

      <p>Claude has no feedback loop for visual correctness. It can:</p>
      <ul>
        <li>Read code (yes)</li>
        <li>Write code (yes)</li>
        <li>Run tests (yes)</li>
        <li><strong>Actually see what renders in a browser</strong> (NO - without Playwright)</li>
      </ul>

      <h3>Before vs After</h3>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Before (Code-Only Loop)</th><th>After (Browser-Verified Loop)</th></tr>
          </thead>
          <tbody>
            <tr><td>Claude writes CSS</td><td>Claude writes CSS</td></tr>
            <tr><td>Claude says "done"</td><td><strong>Playwright takes screenshot</strong></td></tr>
            <tr><td>You check browser manually</td><td><strong>Claude analyzes screenshot</strong></td></tr>
            <tr><td>You find it's broken</td><td>Claude sees it's broken</td></tr>
            <tr><td>You describe what's wrong</td><td>Claude iterates automatically</td></tr>
            <tr><td>Repeat 5-10 times</td><td><strong>Loop continues until correct</strong></td></tr>
          </tbody>
        </table>
      </div>

      <p><strong>The transformation:</strong> You go to sleep. Morning: UI actually works.</p>
    </section>

    <hr class="section-divider">

    <!-- The Stack -->
    <section id="stack">
      <h2><span class="b">The</span> Stack <span class="b">Exp</span>lained</h2>

      <h3>Why These Three Components?</h3>

      <div class="ascii-diagram">
+------------------------------------------------------------+
|                THE SELF-CORRECTING UI LOOP                  |
+------------------------------------------------------------+

+------------+    +------------+    +------------+
|  Opus 4.5  |---&gt;|   Ralph    |---&gt;| Playwright |
|            |    |            |    |            |
| Reasoning  |    | Persistence|    | Verification|
|   Power    |    |  + Memory  |    |  Feedback  |
+------------+    +------------+    +------------+
      |                  |                 |
      v                  v                 v
 Fewer tries        Keeps going        Real browser
 needed per         until done         feedback loop
   task</div>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Component</th><th>Role</th><th>Why It Matters</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Opus 4.5</strong></td><td>Reasoning power</td><td>Handles complex visual understanding, makes fewer mistakes</td></tr>
            <tr><td><strong>Ralph Loop</strong></td><td>Persistence + External Memory</td><td>Keeps trying until success, remembers learnings</td></tr>
            <tr><td><strong>Playwright</strong></td><td>Browser automation</td><td>Provides ACTUAL visual feedback, not just code analysis</td></tr>
          </tbody>
        </table>
      </div>

      <h3>The Emergent Behavior</h3>

      <blockquote>
        <p>"opus 4.5 with ralph wiggum and playwright is agi"</p>
        <cite>-- @weswinder</cite>
      </blockquote>

      <p>What he's pointing at: When you combine these three, you get something that <strong>feels</strong> like AGI for UI development:</p>

      <ol>
        <li><strong>Persistence</strong> (Ralph) - Doesn't give up</li>
        <li><strong>Reasoning</strong> (Opus 4.5) - Understands what went wrong</li>
        <li><strong>Perception</strong> (Playwright) - Can actually see the result</li>
      </ol>
    </section>

    <hr class="section-divider">

    <!-- Implementation -->
    <section id="implementation">
      <h2><span class="b">Step</span>-by-Step <span class="b">Impl</span>ementation</h2>

      <h3>Step 1: Create Directory Structure</h3>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Navigate to your project root
cd ~/your-project

# Create the Ralph directory
mkdir -p scripts/ralph

# Create empty files
touch scripts/ralph/ralph.sh
touch scripts/ralph/prompt.md
touch scripts/ralph/prd.json
touch scripts/ralph/progress.txt</code></pre>
      </div>

      <!-- Checkpoint -->
      <div class="checkpoint" style="background: #f0ebe3; border-left: 4px solid #6b9b7a; border-radius: 8px; padding: 1.5rem; margin: 2rem 0;">
        <div class="checkpoint-header" style="color: #6b9b7a; font-weight: 600;">Checkpoint: After Step 1</div>
        <p><strong>Verify:</strong> <code>ls -la scripts/ralph/</code></p>
        <p>You should see 4 files: <code>prd.json</code>, <code>progress.txt</code>, <code>prompt.md</code>, <code>ralph.sh</code></p>
      </div>

      <h3>Step 2: Write the Ralph Loop Script</h3>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>#!/bin/bash
# scripts/ralph/ralph.sh
# Opus 4.5 + Ralph + Playwright Loop
set -e

MAX_ITERATIONS=${1:-10}
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
SCREENSHOTS_DIR="$SCRIPT_DIR/screenshots"

# Create screenshots directory
mkdir -p "$SCREENSHOTS_DIR"

echo "=========================================="
echo " OPUS 4.5 + RALPH + PLAYWRIGHT"
echo " Max iterations: $MAX_ITERATIONS"
echo "=========================================="

for i in $(seq 1 $MAX_ITERATIONS); do
  echo ""
  echo "=== Iteration $i of $MAX_ITERATIONS ==="
  echo "Time: $(date +%H:%M:%S)"

  # Clear previous screenshot
  rm -f "$SCREENSHOTS_DIR/current.png"

  # Run Claude with the prompt
  OUTPUT=$(cat "$SCRIPT_DIR/prompt.md" \
    | claude --dangerously-skip-permissions 2>&1 \
    | tee /dev/stderr) || true

  # Check for completion signal
  if echo "$OUTPUT" | grep -q "&lt;promise&gt;COMPLETE&lt;/promise&gt;"; then
    echo ""
    echo "=========================================="
    echo " ALL STORIES COMPLETE!"
    echo " Total iterations: $i"
    echo "=========================================="
    exit 0
  fi

  # Check for blocked signal
  if echo "$OUTPUT" | grep -q "&lt;promise&gt;BLOCKED&lt;/promise&gt;"; then
    echo ""
    echo "=========================================="
    echo " BLOCKED - Human input needed"
    echo "=========================================="
    exit 2
  fi

  sleep 2
done

echo ""
echo "=========================================="
echo " MAX ITERATIONS REACHED"
echo "=========================================="
exit 1</code></pre>
      </div>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>chmod +x scripts/ralph/ralph.sh</code></pre>
      </div>

      <h3>Step 3: Write the Agent Prompt</h3>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># scripts/ralph/prompt.md

# Opus 4.5 + Ralph + Playwright Agent

You are a UI development agent with browser verification capabilities.

## Your Core Loop

1. **Read current state:**
   - Read `scripts/ralph/prd.json` for story list
   - Read `scripts/ralph/progress.txt` for learnings
   - Check which stories have `passes: false`

2. **Pick ONE story:**
   - Choose the highest priority story where `passes: false`
   - If all stories pass, output `&lt;promise&gt;COMPLETE&lt;/promise&gt;` and stop

3. **Implement the story:**
   - Make the code changes
   - Keep changes minimal and focused

4. **Verify with Playwright:**
   - Use browser automation to take a screenshot
   - Analyze the screenshot against acceptance criteria
   - Save screenshot to `scripts/ralph/screenshots/[story-id].png`

5. **Evaluate results:**
   - If visual verification passes: mark `passes: true`, commit
   - If visual verification fails: note what's wrong, iterate

6. **Update progress:**
   - APPEND to progress.txt (never overwrite)
   - Include learnings for future iterations

## Browser Verification Protocol

For EVERY UI story, you MUST:
- Navigate to the relevant page
- Wait for network idle
- Take screenshot
- Compare against acceptance criteria

## Critical Rules

1. ONE story per iteration
2. Browser verification is MANDATORY for UI stories
3. Never mark UI stories complete without screenshot proof
4. APPEND to progress.txt, never overwrite
5. If browser verification fails, iterate - don't mark complete</code></pre>
      </div>

      <h3>Step 4: Configure Playwright MCP</h3>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>// ~/.claude/settings.json (add to existing)
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["-y", "@anthropic/mcp-server-playwright"]
    }
  }
}</code></pre>
      </div>

      <!-- Checkpoint -->
      <div class="checkpoint" style="background: #f0ebe3; border-left: 4px solid #6b9b7a; border-radius: 8px; padding: 1.5rem; margin: 2rem 0;">
        <div class="checkpoint-header" style="color: #6b9b7a; font-weight: 600;">Checkpoint: After Step 4</div>
        <p><strong>Verify Playwright is accessible:</strong></p>
        <p>Start Claude Code and try: <code>Take a screenshot of https://example.com</code></p>
        <p>Claude should acknowledge the Playwright/browser tool.</p>
      </div>

      <h3>Step 5: Create PRD with UI Stories</h3>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>{
  "project": "My App",
  "branchName": "ralph/ui-features",
  "description": "UI feature development with browser verification",
  "devServerUrl": "http://localhost:3000",
  "userStories": [
    {
      "id": "UI-001",
      "title": "Add login form component",
      "description": "Create a login form with email and password fields",
      "page": "/login",
      "acceptanceCriteria": [
        "Email input field is visible",
        "Password input field is visible",
        "Submit button is visible and labeled 'Sign In'",
        "Form is centered on page",
        "npm run typecheck passes"
      ],
      "visualCriteria": [
        "Form width is reasonable (300-500px)",
        "Inputs have visible borders",
        "Button has distinct styling from inputs"
      ],
      "priority": 1,
      "passes": false
    }
  ]
}</code></pre>
      </div>

      <h3>Step 6: Run It</h3>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Terminal 1: Start your dev server
npm run dev

# Terminal 2: Run Ralph
./scripts/ralph/ralph.sh 10</code></pre>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Subagent Optimization -->
    <section id="subagent">
      <h2><span class="b">Crit</span>ical Optimization: <span class="b">Sub</span>agents</h2>

      <p>This insight from @TendiesOfWisdom is essential:</p>

      <blockquote>
        <p>"The feedback loop is everything, but put costly tools like browser control in subagents to protect your main context window tokens"</p>
      </blockquote>

      <h3>The Problem</h3>

      <p>Browser automation generates LOTS of tokens:</p>
      <ul>
        <li>Page HTML (can be 50K+ tokens for complex pages)</li>
        <li>Screenshot descriptions (1K-5K tokens)</li>
        <li>Navigation logs</li>
        <li>Network requests</li>
      </ul>

      <h3>The Solution: Subagent Architecture</h3>

      <div class="ascii-diagram">
+--------------------------------------------------------------+
|                     MAIN RALPH AGENT                          |
|                                                               |
|  - Reads PRD, picks story                                     |
|  - Makes code changes                                         |
|  - Spawns verification subagent                               |
|  - Receives pass/fail + brief summary                         |
|  - Context stays clean                                        |
+--------------------------------------------------------------+
          |
          | Spawns
          v
+--------------------------------------------------------------+
|                 BROWSER VERIFICATION SUBAGENT                 |
|                                                               |
|  - Receives: URL, acceptance criteria                         |
|  - Opens browser, navigates                                   |
|  - Takes screenshot                                           |
|  - Analyzes against criteria                                  |
|  - Returns: PASS/FAIL + 2-3 sentence summary                  |
|  - Context is isolated (doesn't pollute main agent)           |
+--------------------------------------------------------------+</div>

      <p>Add this to your prompt.md:</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>## Browser Verification via Subagent

When you need browser verification, spawn a subagent:

Task: Verify UI at [URL] against these criteria:
- [Criterion 1]
- [Criterion 2]
- [Criterion 3]

Return only:
1. PASS or FAIL
2. 2-3 sentence summary of what you observed
3. If FAIL, the specific criterion that failed

Save screenshot to: scripts/ralph/screenshots/[story-id].png

This keeps browser HTML/network logs OUT of your main context.</code></pre>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Troubleshooting -->
    <section id="troubleshooting">
      <h2><span class="b">Trou</span>bleshooting</h2>

      <details class="troubleshoot">
        <summary>Error: "Playwright browser not found"</summary>
        <div>
          <p><strong>Cause:</strong> Playwright browsers not installed.</p>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            <pre><code># Install Playwright browsers
npx playwright install chromium

# Or install all browsers
npx playwright install</code></pre>
          </div>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Error: "Context window exceeded with browser output"</summary>
        <div>
          <p><strong>Cause:</strong> Browser HTML/output bloating context.</p>
          <p><strong>Solutions:</strong></p>
          <ol>
            <li>Use subagents (see Critical Optimization above)</li>
            <li>Use targeted selectors instead of full page HTML</li>
            <li>Increase max iterations, decrease scope per iteration</li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Error: "Dev server not running"</summary>
        <div>
          <p><strong>Cause:</strong> Your dev server isn't running or wrong port.</p>
          <p><strong>Solution:</strong></p>
          <ol>
            <li>Start dev server in separate terminal: <code>npm run dev</code></li>
            <li>Verify port in prd.json <code>devServerUrl</code> matches your actual port</li>
            <li>Wait for server to fully start before running Ralph</li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Error: "Screenshot shows blank page"</summary>
        <div>
          <p><strong>Cause:</strong> Screenshot taken before page fully loads.</p>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            <pre><code>// Wait for network to be idle
await page.waitForLoadState('networkidle');

// Or wait for specific element
await page.waitForSelector('.login-form', { state: 'visible' });

// Then screenshot
await page.screenshot({ path: 'screenshot.png' });</code></pre>
          </div>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Error: "Ralph stuck on same story"</summary>
        <div>
          <p><strong>Cause:</strong> Story criteria too vague or technically blocked.</p>
          <p><strong>Solutions:</strong></p>
          <ol>
            <li>Manual intervention: Set story to <code>passes: true</code> with notes</li>
            <li>Split the story into smaller pieces</li>
            <li>Add hints in the notes field</li>
          </ol>
        </div>
      </details>
    </section>

    <hr class="section-divider">

    <!-- Cost and Performance -->
    <section id="cost">
      <h2><span class="b">Cost</span> and <span class="b">Perf</span>ormance</h2>

      <h3>Token Usage</h3>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Component</th><th>Tokens per Iteration</th></tr>
          </thead>
          <tbody>
            <tr><td>Prompt.md reading</td><td>~500</td></tr>
            <tr><td>PRD analysis</td><td>~200-500</td></tr>
            <tr><td>Code implementation</td><td>~2000-8000</td></tr>
            <tr><td>Browser screenshot + analysis</td><td>~1000-3000 (with subagent)</td></tr>
            <tr><td>Progress update</td><td>~200-500</td></tr>
            <tr><td><strong>Total per iteration</strong></td><td><strong>~4000-12000</strong></td></tr>
          </tbody>
        </table>
      </div>

      <h3>Cost Estimates (Opus 4.5 pricing)</h3>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Iterations</th><th>Estimated Cost</th></tr>
          </thead>
          <tbody>
            <tr><td>5</td><td>$2-5</td></tr>
            <tr><td>10</td><td>$4-10</td></tr>
            <tr><td>25</td><td>$10-25</td></tr>
            <tr><td>50 (overnight run)</td><td>$20-50</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Time per Iteration</h3>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Phase</th><th>Time</th></tr>
          </thead>
          <tbody>
            <tr><td>Context loading</td><td>~5 sec</td></tr>
            <tr><td>Code implementation</td><td>~30-90 sec</td></tr>
            <tr><td>Browser verification</td><td>~10-20 sec</td></tr>
            <tr><td>Commit/progress update</td><td>~10 sec</td></tr>
            <tr><td><strong>Total per iteration</strong></td><td><strong>~1-2 minutes</strong></td></tr>
          </tbody>
        </table>
      </div>

      <p>For a 10-story feature: expect 15-30 iterations (some retry), 30-60 minutes total.</p>
    </section>

    <hr class="section-divider">

    <!-- Real Results -->
    <section id="results">
      <h2><span class="b">Real</span> Results</h2>

      <h3>Case Study: Login Flow</h3>

      <div class="table-responsive">
        <table>
          <tr><td><strong>Feature:</strong></td><td>Complete authentication UI</td></tr>
          <tr><td><strong>Stories:</strong></td><td>5 (form, validation, error states, success redirect, loading states)</td></tr>
          <tr><td><strong>Iterations:</strong></td><td>12</td></tr>
          <tr><td><strong>Time:</strong></td><td>~20 minutes autonomous</td></tr>
          <tr><td><strong>Result:</strong></td><td>Fully working login flow with visual polish</td></tr>
        </table>
      </div>

      <h3>The "AGI Feeling"</h3>

      <p>What makes this feel like AGI (@weswinder's claim):</p>

      <ol>
        <li><strong>Persistence</strong> - Keeps trying until it works</li>
        <li><strong>Perception</strong> - Actually sees what renders</li>
        <li><strong>Reasoning</strong> - Understands why something looks wrong</li>
        <li><strong>Learning</strong> - Patterns compound in progress.txt</li>
        <li><strong>Autonomy</strong> - Runs without babysitting</li>
      </ol>

      <p>It's not true AGI, but for UI development, it's a massive capability leap.</p>
    </section>

    <hr class="section-divider">

    <!-- Quick Reference -->
    <section id="reference">
      <h2><span class="b">Quick</span> Reference</h2>

      <h3>Files You'll Create</h3>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>your-project/
+-- scripts/ralph/
    +-- ralph.sh          # The loop script (chmod +x)
    +-- prompt.md         # Agent instructions
    +-- prd.json          # User stories with visual criteria
    +-- progress.txt      # External memory (append-only)
    +-- screenshots/      # Browser verification evidence
        +-- UI-001.png
        +-- UI-002.png
        +-- current.png</code></pre>
      </div>

      <h3>Commands</h3>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Run with default 10 iterations
./scripts/ralph/ralph.sh

# Run with specific iteration limit
./scripts/ralph/ralph.sh 25

# Check remaining stories
jq '.userStories[] | select(.passes == false) | .title' scripts/ralph/prd.json</code></pre>
      </div>

      <h3>Stop Signals</h3>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Signal</th><th>Meaning</th></tr>
          </thead>
          <tbody>
            <tr><td><code>&lt;promise&gt;COMPLETE&lt;/promise&gt;</code></td><td>All stories pass, exit successfully</td></tr>
            <tr><td><code>&lt;promise&gt;BLOCKED&lt;/promise&gt;</code></td><td>Needs human input, exit with code 2</td></tr>
            <tr><td>Max iterations reached</td><td>Timeout, exit with code 1</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Key Takeaways</h3>

      <ol>
        <li><strong>Browser verification is mandatory for UI stories</strong> - Don't trust "done" without screenshots</li>
        <li><strong>Use subagents for browser work</strong> - Protects main context from token bloat</li>
        <li><strong>Visual criteria are separate from functional criteria</strong> - Tests pass != looks right</li>
        <li><strong>Persistence + perception + reasoning = autonomous UI development</strong></li>
      </ol>

      <p>The pattern is simple. The results are powerful. Ship UI while you sleep.</p>
    </section>

    <hr class="section-divider">

    <!-- Related Pages -->
    <div class="related-pages">
      <h3>Related Pages</h3>
      <ul>
        <li><a href="../../synthesis/mastery-ralph-complete.html">Ralph Pattern Complete Mastery Guide</a></li>
        <li><a href="ralph-marketer.html">Ralph Wiggum Marketer</a></li>
        <li><a href="../../synthesis/taxonomy-tools.html">Taxonomy: Tools (Playwright MCP)</a></li>
      </ul>
    </div>

    <!-- Footer Navigation -->
    <nav class="footer-nav">
      <a href="ralph-marketer.html" class="nav-prev">
        <span class="nav-direction">Previous</span>
        <span class="nav-title">Ralph Marketer</span>
      </a>
      <a href="infinite-orchestra.html" class="nav-next">
        <span class="nav-direction">Next</span>
        <span class="nav-title">Infinite Orchestra</span>
      </a>
    </nav>

  </div>

  <script src="../../js/search.js"></script>
  <script src="../../js/sidebar.js"></script>
  <script>
    function copyCode(button) {
      const codeBlock = button.parentElement.querySelector('code');
      navigator.clipboard.writeText(codeBlock.textContent);
      button.textContent = 'Copied!';
      button.classList.add('copied');
      setTimeout(() => {
        button.textContent = 'Copy';
        button.classList.remove('copied');
      }, 2000);
    }
  </script>
<script src="../../js/global-nav.js"></script>
</body>
</html>
