<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Orchestration Pattern Taxonomy | Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/search.css">
</head>
<body>
  <!-- Search Modal -->
  <div class="search-modal" id="searchModal" aria-hidden="true">
    <div class="search-overlay" onclick="closeSearch()"></div>
    <div class="search-content">
      <div class="search-header">
        <div class="search-input-wrapper">
          <span class="search-icon-input">&#128269;</span>
          <input type="text" id="searchInput" placeholder="Search documentation..." autocomplete="off" />
          <kbd class="search-kbd">ESC</kbd>
        </div>
      </div>
      <div class="search-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="ch1">Chapter 1</button>
        <button class="filter-btn" data-filter="ch2">Chapter 2</button>
        <button class="filter-btn" data-filter="ch3">Chapter 3</button>
        <button class="filter-btn" data-filter="ch4">Chapter 4</button>
        <button class="filter-btn" data-filter="ref">Reference</button>
      </div>
      <div class="search-results" id="searchResults">
        <div class="search-empty"><p>Start typing to search... (Press Cmd+K anytime)</p></div>
      </div>
      <div class="search-footer">
        <span>&#8593;&#8595; Navigate</span><span>&#8629; Select</span><span>ESC Close</span>
      </div>
    </div>
  </div>

  <div class="wide-container">
    <!-- Search Trigger Button -->
    <button class="search-trigger" onclick="openSearch()" aria-label="Search" style="float: right; margin-bottom: 1rem;">
      <span class="search-icon">Cmd+K</span>
      <span class="search-text">Search</span>
    </button>

    <nav class="nav-breadcrumb">
      <a href="../../index.html">Home</a>
      <span>/</span>
      <a href="../index.html">Patterns</a>
      <span>/</span>
      <a href="index.html">Taxonomy</a>
      <span>/</span>
      <strong>Orchestration</strong>
    </nav>

    <div class="you-are-here" style="background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%); border-left: 4px solid #2a7d7d; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
      <h3 style="margin-top: 0; color: #2a7d7d;"><strong>You</strong> Are <strong>He</strong>re</h3>
      <p><strong>Thi</strong>s is the <strong>com</strong>plete <strong>tax</strong>onomy of <strong>orc</strong>hestration <strong>pat</strong>terns for <strong>Cla</strong>ude <strong>Co</strong>de. <strong>Orc</strong>hestration <strong>pat</strong>terns <strong>def</strong>ine <strong>HO</strong>W <strong>age</strong>nts are <strong>coo</strong>rdinated, <strong>loo</strong>ped, and <strong>man</strong>aged. <strong>Th</strong>is <strong>pag</strong>e is your <strong>ref</strong>erence for <strong>cho</strong>osing the <strong>rig</strong>ht <strong>pat</strong>tern for your <strong>use</strong> case.</p>
      <p><strong>Rel</strong>ated:</p>
      <ul style="margin-bottom: 0;">
        <li><a href="architectures.html">Architectures</a> - <strong>Str</strong>uctural <strong>pat</strong>terns (hub-spoke, peer-to-peer)</li>
        <li><a href="workflows.html">Workflows</a> - <strong>Tas</strong>k <strong>man</strong>agement and <strong>ver</strong>ification</li>
        <li><a href="context-memory.html">Context &amp; Memory</a> - <strong>Per</strong>sistence <strong>stra</strong>tegies</li>
      </ul>
    </div>

    <h1><strong>Orc</strong>hestration <strong>Pat</strong>tern <strong>Tax</strong>onomy</h1>

    <p class="conversational-lead">A <strong>com</strong>prehensive <strong>tax</strong>onomy of AI <strong>age</strong>nt <strong>orc</strong>hestration <strong>pat</strong>terns, <strong>ext</strong>racted from <strong>com</strong>munity <strong>inn</strong>ovations, <strong>pro</strong>duction <strong>imp</strong>lementations, and <strong>res</strong>earch <strong>doc</strong>umentation.</p>

    <nav class="toc">
      <div class="toc-title">Table of Contents</div>
      <ul>
        <li><a href="#loop-patterns">1. Loop-Based Patterns</a></li>
        <li><a href="#multi-agent">2. Multi-Agent Patterns</a></li>
        <li><a href="#isolation">3. Isolation Patterns</a></li>
        <li><a href="#communication">4. Communication Patterns</a></li>
        <li><a href="#architecture">5. Architecture Patterns</a></li>
        <li><a href="#memory">6. Memory Patterns</a></li>
        <li><a href="#verification">7. Verification Patterns</a></li>
        <li><a href="#monitoring">8. Monitoring Patterns</a></li>
        <li><a href="#recovery">9. Failure Recovery Patterns</a></li>
        <li><a href="#resources">10. Resource Management Patterns</a></li>
        <li><a href="#relationships">Pattern Relationships Map</a></li>
        <li><a href="#selection-guide">Pattern Selection Guide</a></li>
      </ul>
    </nav>

    <hr class="section-divider">

    <h2 id="loop-patterns"><strong>Loo</strong>p-Based <strong>Pat</strong>terns</h2>

    <div class="pattern-box">
      <h3 class="pattern-title">1.1 Ralph Wiggum (Core Pattern)</h3>
      <p class="pattern-subtitle"><strong>Source:</strong> Geoffrey Huntley (ghuntley.com/ralph) | <strong>Popularized by:</strong> @mattpocockuk, @ryancarson</p>

      <p>A <strong>bas</strong>h <strong>loo</strong>p that <strong>run</strong>s <strong>Cla</strong>ude <strong>Co</strong>de <strong>rep</strong>eatedly with <strong>fre</strong>sh <strong>con</strong>text <strong>unt</strong>il a <strong>com</strong>pletion <strong>con</strong>dition is <strong>me</strong>t. <strong>Eac</strong>h <strong>ite</strong>ration gets a <strong>cle</strong>an <strong>sla</strong>te but has <strong>acc</strong>ess to <strong>gi</strong>t <strong>his</strong>tory and <strong>fil</strong>e-based <strong>mem</strong>ory.</p>

      <pre><code>for (( i=1; i<=$MAX_ITERATIONS; i++ )); do
  claude "Review prd.json... If complete, output PROMISE COMPLETE HERE"
  if grep -q "PROMISE COMPLETE HERE" output.txt; then break; fi
done</code></pre>

      <h4>Key Principles</h4>
      <ul>
        <li><strong>Fre</strong>sh <strong>con</strong>text per <strong>ite</strong>ration (avoids "context rot")</li>
        <li><strong>Ext</strong>ernal <strong>mem</strong>ory via <strong>gi</strong>t <strong>his</strong>tory + progress.txt</li>
        <li><strong>Ver</strong>ifiable <strong>com</strong>pletion (tests must pass)</li>
        <li><strong>Sma</strong>ll <strong>tas</strong>k <strong>siz</strong>ing (each story completable in one context window)</li>
        <li><strong>Har</strong>d <strong>sto</strong>p <strong>con</strong>dition (<code>&lt;promise&gt;COMPLETE&lt;/promise&gt;</code>)</li>
      </ul>

      <h4>Files Required</h4>
      <div class="file-listing">
        <div class="file-item">
          <span class="file-name">ralph.sh</span>
          <span class="file-desc">The loop script</span>
        </div>
        <div class="file-item">
          <span class="file-name">prompt.md</span>
          <span class="file-desc">Instructions for each iteration</span>
        </div>
        <div class="file-item">
          <span class="file-name">prd.json</span>
          <span class="file-desc">Task list with user stories</span>
        </div>
        <div class="file-item">
          <span class="file-name">progress.txt</span>
          <span class="file-desc">Learnings and patterns</span>
        </div>
      </div>

      <p><span class="tag">overnight-shipping</span> <span class="tag">autonomous</span> <span class="tag">loop</span></p>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">1.2 Compounding Ralph</h3>
      <p class="pattern-subtitle"><strong>Source:</strong> @ryancarson</p>

      <p><strong>Ext</strong>ension of <strong>Ral</strong>ph that <strong>ref</strong>erences <strong>arc</strong>hived <strong>PRD</strong>s and <strong>lea</strong>rnings from <strong>pre</strong>vious <strong>run</strong>s, <strong>cre</strong>ating <strong>com</strong>pounding <strong>imp</strong>rovements <strong>acr</strong>oss <strong>ses</strong>sions.</p>

      <pre><code>archives/
├── run-2026-01-05/
│   ├── prd.json
│   ├── progress.txt
│   └── learnings.md
├── run-2026-01-06/...</code></pre>

      <p><strong>Key</strong> <strong>Enh</strong>ancement: Each <strong>run</strong> <strong>rev</strong>iews <strong>pre</strong>vious <strong>arc</strong>hives to <strong>lea</strong>rn what <strong>wor</strong>ked/<strong>fai</strong>led, <strong>app</strong>lying <strong>tho</strong>se <strong>lea</strong>rnings to <strong>cur</strong>rent <strong>imp</strong>lementation.</p>

      <p><span class="tag">compounding</span> <span class="tag">cross-session</span></p>
    </div>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Variant</th>
            <th>Source</th>
            <th>Key Enhancement</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Marathon Ralph</strong></td>
            <td>@stephen_rayner</td>
            <td>Full SDLC with E2E tests</td>
          </tr>
          <tr>
            <td><strong>Dr. Ralph</strong></td>
            <td>@MikeEndale</td>
            <td>Confidence thresholds (80%+)</td>
          </tr>
          <tr>
            <td><strong>Lisa</strong></td>
            <td>@petruarakiss</td>
            <td>Enhanced logging + progress tracking</td>
          </tr>
          <tr>
            <td><strong>Zeroshot</strong></td>
            <td>@Eivind1384955</td>
            <td>Streamlined "next gen" execution</td>
          </tr>
          <tr>
            <td><strong>Kanban Loop</strong></td>
            <td>Derived</td>
            <td>Pick from board until empty</td>
          </tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="multi-agent"><strong>Mul</strong>ti-Agent <strong>Pat</strong>terns</h2>

    <div class="pattern-box">
      <h3 class="pattern-title">2.1 Personal Panopticon</h3>
      <p class="pattern-subtitle"><strong>Source:</strong> @mollycantillon</p>

      <p><strong>Run</strong> 8+ <strong>par</strong>allel <strong>iso</strong>lated <strong>Cla</strong>ude <strong>Co</strong>de <strong>ins</strong>tances, each <strong>own</strong>ing a <strong>lif</strong>e/<strong>wor</strong>k <strong>dom</strong>ain, to <strong>ach</strong>ieve "<strong>sel</strong>f-<strong>leg</strong>ibility" <strong>acr</strong>oss all <strong>per</strong>sonal <strong>dat</strong>a.</p>

      <pre><code>~/nox        # Company/product
~/metrics    # Analytics/data
~/email      # Communications
~/growth     # Marketing/acquisition
~/trades     # Personal finance/trading
~/health     # Fitness/sleep/wellness
~/writing    # Content creation
~/personal   # Life admin</code></pre>

      <h4>Key Features</h4>
      <ul>
        <li><strong>Iso</strong>lation: Each <strong>ins</strong>tance <strong>ope</strong>rates <strong>ind</strong>ependently, no <strong>cro</strong>ss-<strong>con</strong>tamination</li>
        <li><strong>Sub</strong>agents: <strong>Spa</strong>wn <strong>sho</strong>rt-<strong>liv</strong>ed <strong>age</strong>nts for <strong>spe</strong>cific <strong>tas</strong>ks</li>
        <li><strong>Han</strong>doffs: <strong>Exc</strong>hange <strong>con</strong>text <strong>thr</strong>ough <strong>exp</strong>licit <strong>fil</strong>e-<strong>bas</strong>ed <strong>han</strong>doffs</li>
        <li><strong>Fil</strong>esystem as <strong>Mem</strong>ory: <strong>Rea</strong>d/<strong>wri</strong>te to <strong>the</strong>ir <strong>dir</strong>ectory as <strong>per</strong>sistent <strong>mem</strong>ory</li>
      </ul>

      <div class="callout callout-insight">
        <div class="callout-title">Unique Value</div>
        <p>Frames multi-agent as personal surveillance reversal - you surveilling yourself across all life domains.</p>
      </div>

      <p><span class="tag">panopticon</span> <span class="tag">domain-isolation</span> <span class="tag">life-automation</span></p>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">2.2 CC Mirror (Hub-and-Spoke Orchestration)</h3>
      <p class="pattern-subtitle"><strong>Source:</strong> @nummanali | <strong>Repo:</strong> github.com/numman-ali/cc-mirror</p>

      <p><strong>Cen</strong>tral <strong>orc</strong>hestrator that <strong>del</strong>egates to <strong>spe</strong>cialized <strong>wor</strong>ker <strong>age</strong>nts, <strong>nev</strong>er <strong>tou</strong>ching <strong>cod</strong>e <strong>dir</strong>ectly.</p>

      <div class="callout callout-warning">
        <div class="callout-title">The Iron Law</div>
        <p><strong>YOU DO NOT WRITE CODE. YOU DO NOT RUN COMMANDS.<br>YOU DO NOT EXPLORE CODEBASES.<br>You are the CONDUCTOR. Your agents play the instruments.</strong></p>
      </div>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Role</th>
              <th>Tools Available</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Orchestrator</strong></td>
              <td>Read (1-2 files), Task*, AskUserQuestion</td>
            </tr>
            <tr>
              <td><strong>Workers</strong></td>
              <td>Read, Write, Edit, Bash, Glob, Grep, WebFetch, LSP</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p><span class="tag">cc-mirror</span> <span class="tag">hub-and-spoke</span> <span class="tag">orchestration</span></p>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">2.3 Gas Town (Agent Factory)</h3>
      <p class="pattern-subtitle"><strong>Source:</strong> @steve_yegge | <strong>Repo:</strong> github.com/steveyegge/gastown</p>

      <p><strong>No</strong>t <strong>jus</strong>t <strong>age</strong>nts, but an <strong>age</strong>nt <strong>fac</strong>tory with <strong>spe</strong>cialized <strong>rol</strong>es and <strong>tow</strong>n-<strong>lev</strong>el <strong>coo</strong>rdination.</p>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Role</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Mayor</strong></td>
              <td>Town-wide coordination</td>
            </tr>
            <tr>
              <td><strong>Deacon</strong></td>
              <td>Monitoring and handshakes between agents</td>
            </tr>
            <tr>
              <td><strong>Dogs</strong></td>
              <td>Quality gates and watchdogs</td>
            </tr>
            <tr>
              <td><strong>Refinery</strong></td>
              <td>Task decomposition</td>
            </tr>
            <tr>
              <td><strong>Polecat</strong></td>
              <td>Named persistent workers</td>
            </tr>
            <tr>
              <td><strong>Crew</strong></td>
              <td>Ephemeral workers</td>
            </tr>
            <tr>
              <td><strong>Witness</strong></td>
              <td>Per-rig observer</td>
            </tr>
            <tr>
              <td><strong>Overseer</strong></td>
              <td>Human with inbox</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="callout callout-danger">
        <div class="callout-title">Requirements</div>
        <ul>
          <li>Stage 7+ in dev evolution (10+ agents, hand-managed)</li>
          <li>Comfort with chaos</li>
          <li>Significant budget</li>
          <li>tmux proficiency</li>
        </ul>
      </div>

      <p><span class="tag">gas-town</span> <span class="tag">factory</span> <span class="tag">enterprise-scale</span></p>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">2.4 Infinite Orchestra</h3>
      <p class="pattern-subtitle"><strong>Source:</strong> @0xSero | <strong>Repo:</strong> github.com/0xSero/orchestra</p>

      <p><strong>Sel</strong>f-<strong>imp</strong>roving <strong>orc</strong>hestrator <strong>run</strong>ning <strong>24</strong>/7 in <strong>Doc</strong>ker with <strong>spe</strong>cialized <strong>wor</strong>ker <strong>pro</strong>files.</p>

      <pre><code>{
  "profiles": [
    { "id": "vision", "purpose": "Visual analysis" },
    { "id": "docs", "purpose": "Documentation research" },
    { "id": "research", "purpose": "Deep investigation" },
    { "id": "coder", "purpose": "Implementation" },
    { "id": "memory", "purpose": "Context persistence" },
    { "id": "architect", "purpose": "System design" }
  ]
}</code></pre>

      <p><span class="tag">infinite-orchestra</span> <span class="tag">self-improving</span> <span class="tag">docker</span></p>
    </div>

    <hr class="section-divider">

    <h2 id="isolation"><strong>Iso</strong>lation <strong>Pat</strong>terns</h2>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Pattern</th>
            <th>Mechanism</th>
            <th>Best For</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Domain-Isolated</strong></td>
            <td>Separate directories per agent</td>
            <td>Life domains, no conflicts</td>
          </tr>
          <tr>
            <td><strong>Branch-Based</strong></td>
            <td>Each agent on own git branch</td>
            <td>Feature development</td>
          </tr>
          <tr>
            <td><strong>Git Worktree</strong></td>
            <td>Isolated directories, shared history</td>
            <td>Parallel Ralph loops</td>
          </tr>
          <tr>
            <td><strong>Directory Ownership</strong></td>
            <td>Agent owns specific directories</td>
            <td>Conflict prevention</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">Git Worktree Isolation</h3>

      <pre><code># Main repo
~/project/
  ├── .git/           # Shared git database
  └── src/            # Main working directory

# Worktrees (parallel agent checkouts)
~/project-worktrees/
  ├── feature-a/      # Agent 1's isolated directory
  ├── feature-b/      # Agent 2's isolated directory
  └── bugfix-c/       # Agent 3's isolated directory</code></pre>

      <h4>Worktree + Ralph Combination</h4>
      <pre><code>for feature in auth payments notifications; do
  git worktree add ../wt-$feature $feature-branch
  (cd ../wt-$feature && ./ralph.sh 20) &
done
wait</code></pre>
    </div>

    <hr class="section-divider">

    <h2 id="communication"><strong>Com</strong>munication <strong>Pat</strong>terns</h2>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Pattern</th>
            <th>Mechanism</th>
            <th>Real-time?</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>File-Based Handoffs</strong></td>
            <td>JSON files in shared directory</td>
            <td>No</td>
          </tr>
          <tr>
            <td><strong>Git-Based Handoffs</strong></td>
            <td>Commits, progress.txt, prd.json</td>
            <td>No</td>
          </tr>
          <tr>
            <td><strong>Docker Volume</strong></td>
            <td>Shared volume between containers</td>
            <td>Near</td>
          </tr>
          <tr>
            <td><strong>MCP Agent Mail</strong></td>
            <td>Email-like agent communication</td>
            <td>Async</td>
          </tr>
          <tr>
            <td><strong>FIFO Pipes</strong></td>
            <td>Message queue via named pipes</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td><strong>Event-Driven</strong></td>
            <td>File-based event bus</td>
            <td>Near</td>
          </tr>
          <tr>
            <td><strong>Consensus Protocol</strong></td>
            <td>Multi-agent agreement (>66%)</td>
            <td>No</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">File-Based Handoff Format</h3>

      <pre><code>// handoff-agent1-to-agent2.json
{
  "from": "agent1",
  "to": "agent2",
  "timestamp": "2026-01-09T10:30:00Z",
  "context": {
    "completed": ["API schema", "Database models"],
    "next_steps": ["Implement REST endpoints"],
    "blockers": [],
    "notes": "Using FastAPI, see docs in /api/README.md"
  }
}</code></pre>
    </div>

    <hr class="section-divider">

    <h2 id="architecture"><strong>Arc</strong>hitecture <strong>Pat</strong>terns</h2>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Pattern</th>
            <th>Structure</th>
            <th>Best For</th>
            <th>Examples</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Hub-and-Spoke</strong></td>
            <td>Central orchestrator + workers</td>
            <td>Clear decomposition, monitoring</td>
            <td>CC Mirror, Gas Town (Deacon)</td>
          </tr>
          <tr>
            <td><strong>Peer-to-Peer</strong></td>
            <td>Agents communicate directly</td>
            <td>Emergent collaboration</td>
            <td>Harder to monitor</td>
          </tr>
          <tr>
            <td><strong>Factory</strong></td>
            <td>Agent factory producing workers</td>
            <td>Massive scale</td>
            <td>Gas Town</td>
          </tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="memory"><strong>Mem</strong>ory <strong>Pat</strong>terns</h2>

    <p>See <a href="context-memory.html">Context &amp; Memory Taxonomy</a> for complete details.</p>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Pattern</th>
            <th>Mechanism</th>
            <th>Persistence</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Hierarchical Memory</strong></td>
            <td>4-layer CLAUDE.md system</td>
            <td>Permanent</td>
          </tr>
          <tr>
            <td><strong>Dynamic File Imports</strong></td>
            <td>@docs/file.md references</td>
            <td>Per-session</td>
          </tr>
          <tr>
            <td><strong>Artifact-Based</strong></td>
            <td>progress.txt, AGENTS.md, git</td>
            <td>Permanent</td>
          </tr>
          <tr>
            <td><strong>Agent-Specific Context</strong></td>
            <td>CLAUDE.local.md per worktree</td>
            <td>Per-agent</td>
          </tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="verification"><strong>Ver</strong>ification <strong>Pat</strong>terns</h2>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Pattern</th>
            <th>Mechanism</th>
            <th>When to Use</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>CI Green Enforcement</strong></td>
            <td>Tests + types every commit</td>
            <td>Always</td>
          </tr>
          <tr>
            <td><strong>Browser Automation</strong></td>
            <td>Playwright MCP screenshot verification</td>
            <td>UI features</td>
          </tr>
          <tr>
            <td><strong>Multi-Phase Protocol</strong></td>
            <td>80%+ confidence before advancing</td>
            <td>Complex features</td>
          </tr>
          <tr>
            <td><strong>Cross-Agent Verification</strong></td>
            <td>Integration tests after merge</td>
            <td>Multi-agent work</td>
          </tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="monitoring"><strong>Mon</strong>itoring <strong>Pat</strong>terns</h2>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Tool</th>
            <th>Features</th>
            <th>Install</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Claude HUD</strong></td>
            <td>Context %, tools executing, subagents</td>
            <td><code>/plugin install claude-hud</code></td>
          </tr>
          <tr>
            <td><strong>rpai</strong></td>
            <td>tmux pane scanning, agent list TUI</td>
            <td><code>cargo install rpai</code></td>
          </tr>
          <tr>
            <td><strong>Distributed Tracing</strong></td>
            <td>Trace context across workflows</td>
            <td>Custom implementation</td>
          </tr>
          <tr>
            <td><strong>Anomaly Detection</strong></td>
            <td>Context overflow, circular edits</td>
            <td>Custom implementation</td>
          </tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="recovery"><strong>Fai</strong>lure <strong>Rec</strong>overy <strong>Pat</strong>terns</h2>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Pattern</th>
            <th>Mechanism</th>
            <th>When</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Checkpointing</strong></td>
            <td>Periodic state save</td>
            <td>Every N iterations</td>
          </tr>
          <tr>
            <td><strong>Graceful Degradation</strong></td>
            <td>Opus → Sonnet → Haiku fallback</td>
            <td>Model failures</td>
          </tr>
          <tr>
            <td><strong>Dead Letter Queue</strong></td>
            <td>Failed tasks to human review</td>
            <td>3+ failures</td>
          </tr>
          <tr>
            <td><strong>Circuit Breaker</strong></td>
            <td>CLOSED → OPEN → HALF_OPEN</td>
            <td>Repeated failures</td>
          </tr>
          <tr>
            <td><strong>Semantic Merge</strong></td>
            <td>Claude resolves merge conflicts</td>
            <td>Parallel work</td>
          </tr>
          <tr>
            <td><strong>Optimistic Locking</strong></td>
            <td>Version check before commit</td>
            <td>Shared files</td>
          </tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="resources"><strong>Res</strong>ource <strong>Man</strong>agement <strong>Pat</strong>terns</h2>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Task Characteristic</th>
            <th>Recommended Model</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>File lookup, simple grep</td>
            <td>Haiku</td>
          </tr>
          <tr>
            <td>Code generation with patterns</td>
            <td>Sonnet</td>
          </tr>
          <tr>
            <td>Architecture decisions</td>
            <td>Opus</td>
          </tr>
          <tr>
            <td>Test generation</td>
            <td>Sonnet</td>
          </tr>
          <tr>
            <td>Security review</td>
            <td>Opus</td>
          </tr>
          <tr>
            <td>Documentation</td>
            <td>Haiku/Sonnet</td>
          </tr>
          <tr>
            <td>Debugging complex issues</td>
            <td>Opus</td>
          </tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="relationships"><strong>Pat</strong>tern <strong>Rel</strong>ationships <strong>Ma</strong>p</h2>

    <div class="ascii-diagram">
                    ┌─────────────────────────────┐
                    │        BASE PATTERNS        │
                    └─────────────────────────────┘
                              │
        ┌─────────────────────┼─────────────────────┐
        │                     │                     │
        ▼                     ▼                     ▼
┌───────────────┐   ┌───────────────────┐   ┌─────────────────┐
│  RALPH LOOP   │   │  MULTI-AGENT      │   │  ISOLATION      │
│  (Single)     │   │  (Parallel)       │   │  PATTERNS       │
└───────┬───────┘   └─────────┬─────────┘   └────────┬────────┘
        │                     │                      │
        │    ┌────────────────┼───────────────┐      │
        │    │                │               │      │
        ▼    ▼                ▼               ▼      ▼
┌─────────────────┐  ┌─────────────┐  ┌─────────────────┐
│ Compounding     │  │ CC Mirror   │  │ Git Worktrees   │
│ Ralph           │  │ Hub-Spoke   │  │                 │
└────────┬────────┘  └──────┬──────┘  └────────┬────────┘
         │                  │                   │
         │                  ▼                   │
         │         ┌─────────────────┐          │
         │         │    Gas Town     │          │
         │         │    (Factory)    │          │
         │         └────────┬────────┘          │
         │                  │                   │
         └──────────────────┼───────────────────┘
                            │
                            ▼
            ┌─────────────────────────────┐
            │    SUPPORT PATTERNS         │
            ├─────────────────────────────┤
            │ • Communication (Handoffs)  │
            │ • Memory (Hierarchical)     │
            │ • Verification (CI Green)   │
            │ • Monitoring (HUD, Tracing) │
            │ • Recovery (Checkpoint)     │
            │ • Resources (Scaling)       │
            └─────────────────────────────┘
    </div>

    <h3>Builds-On Relationships</h3>
    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Pattern</th>
            <th>Builds On</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Compounding Ralph</td><td>Ralph Wiggum Core</td></tr>
          <tr><td>Marathon Ralph</td><td>Ralph Wiggum Core</td></tr>
          <tr><td>Dr. Ralph</td><td>Ralph Wiggum Core</td></tr>
          <tr><td>CC Mirror</td><td>Hub-and-Spoke Architecture</td></tr>
          <tr><td>Gas Town</td><td>CC Mirror + Factory Pattern</td></tr>
          <tr><td>AI-Maestro</td><td>Container Isolation + Parallelism</td></tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="selection-guide"><strong>Pat</strong>tern <strong>Sel</strong>ection <strong>Gui</strong>de</h2>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Scenario</th>
            <th>Recommended Pattern</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Single feature, overnight</td>
            <td><strong>Ralph Loop</strong></td>
          </tr>
          <tr>
            <td>Multiple life domains</td>
            <td><strong>Panopticon</strong> (isolated directories)</td>
          </tr>
          <tr>
            <td>Team project, parallel features</td>
            <td><strong>Git worktrees</strong> + branch discipline</td>
          </tr>
          <tr>
            <td>Complex architecture work</td>
            <td><strong>Hub-and-spoke</strong> with specialized workers</td>
          </tr>
          <tr>
            <td>Production app with dependencies</td>
            <td><strong>CC Mirror</strong> native orchestration</td>
          </tr>
          <tr>
            <td>Massive scale (10+ agents)</td>
            <td><strong>Gas Town</strong> factory</td>
          </tr>
          <tr>
            <td>Content/marketing</td>
            <td><strong>Ralph Wiggum Marketer</strong></td>
          </tr>
          <tr>
            <td>Self-improving system</td>
            <td><strong>Infinite Orchestra</strong></td>
          </tr>
          <tr>
            <td>High-stakes decisions</td>
            <td><strong>Adversarial Speccing</strong></td>
          </tr>
          <tr>
            <td>Long-running production</td>
            <td><strong>Containerized Agent Pools</strong></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="quick-ref">
      <h3 class="quick-ref-title">Quick Reference Commands</h3>
      <pre><code># Ralph Loop
./ralph.sh 25

# Git Worktree
git worktree add ../feature-branch feature-branch

# CC Mirror
npx cc-mirror quick --provider mirror --name mclaude

# Claude HUD
/plugin install claude-hud

# rpai (tmux manager)
cargo install rpai && rpai

# Gas Town
go install github.com/steveyegge/gastown/cmd/gt@latest</code></pre>
    </div>

    <hr class="section-divider">

    <div class="related-pages">
      <h3>Related Taxonomies</h3>
      <ul>
        <li><a href="architectures.html">Agent Architectures</a> - Structural patterns</li>
        <li><a href="context-memory.html">Context &amp; Memory</a> - Persistence strategies</li>
        <li><a href="workflows.html">Workflows</a> - Task management</li>
        <li><a href="tools.html">Tools</a> - Hooks, MCP, plugins</li>
        <li><a href="deployment.html">Deployment</a> - Infrastructure patterns</li>
        <li><a href="cross-reference.html">Cross-Reference Index</a> - Master index</li>
      </ul>
    </div>

    <nav class="footer-nav">
      <a href="../../index.html">Back to Home</a>
      <a href="architectures.html">Next: Architectures</a>
    </nav>

  </div>
  <script src="../../js/copy-code.js"></script>
  <script src="../../js/search.js"></script>
</body>
</html>
