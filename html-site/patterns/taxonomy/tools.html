<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tool Integration Taxonomy | Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
  <div class="wide-container">

    <nav class="nav-breadcrumb">
      <a href="../../index.html">Home</a>
      <span>/</span>
      <a href="../index.html">Patterns</a>
      <span>/</span>
      <a href="index.html">Taxonomy</a>
      <span>/</span>
      Tools
    </nav>

    <div class="you-are-here" style="background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%); border-left: 4px solid #2a7d7d; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
      <h3 style="margin-top: 0; color: #2a7d7d;"><strong>You</strong> Are <strong>He</strong>re</h3>
      <p><strong>Thi</strong>s <strong>tax</strong>onomy <strong>cla</strong>ssifies all <strong>too</strong>ls, <strong>int</strong>egrations, and <strong>ext</strong>ension <strong>pat</strong>terns for <strong>Cla</strong>ude <strong>Co</strong>de. From <strong>hoo</strong>ks to <strong>MC</strong>P <strong>ser</strong>vers to <strong>plu</strong>gins - <strong>thi</strong>s is your <strong>ref</strong>erence for <strong>ext</strong>ending <strong>Cla</strong>ude <strong>Co</strong>de's <strong>cap</strong>abilities.</p>
      <p><strong>Rel</strong>ated:</p>
      <ul style="margin-bottom: 0;">
        <li><a href="orchestration.html">Orchestration</a> - <strong>Pat</strong>terns using these tools</li>
        <li><a href="deployment.html">Deployment</a> - <strong>Inf</strong>rastructure patterns</li>
      </ul>
    </div>

    <h1><strong>Too</strong>l <strong>Int</strong>egration <strong>Tax</strong>onomy</h1>

    <p class="conversational-lead">A <strong>com</strong>prehensive <strong>tax</strong>onomy of all <strong>too</strong>ls, <strong>int</strong>egrations, and <strong>pat</strong>terns for <strong>ext</strong>ending <strong>Cla</strong>ude <strong>Co</strong>de's <strong>cap</strong>abilities. From <strong>hoo</strong>ks to <strong>MC</strong>P <strong>ser</strong>vers to <strong>plu</strong>gins and <strong>ski</strong>lls.</p>

    <nav class="toc">
      <div class="toc-title">Table of Contents</div>
      <ul>
        <li><a href="#hooks">1. Hooks System</a></li>
        <li><a href="#mcp">2. MCP (Model Context Protocol)</a></li>
        <li><a href="#plugins">3. Plugins</a></li>
        <li><a href="#skills">4. Skills System</a></li>
        <li><a href="#subagents">5. Sub-Agents</a></li>
        <li><a href="#browser">6. Browser Automation</a></li>
        <li><a href="#multi-agent">7. Multi-Agent Management</a></li>
        <li><a href="#memory">8. Memory and Persistence</a></li>
        <li><a href="#matrix">Integration Matrix</a></li>
      </ul>
    </nav>

    <hr class="section-divider">

    <h2 id="hooks"><strong>Hoo</strong>ks <strong>Sys</strong>tem</h2>

    <p><strong>Hoo</strong>ks are <strong>eve</strong>nt-<strong>dri</strong>ven <strong>she</strong>ll <strong>com</strong>mands (NOT AI prompts) that <strong>exe</strong>cute <strong>aut</strong>omatically on <strong>Cla</strong>ude <strong>Co</strong>de <strong>lif</strong>ecycle <strong>eve</strong>nts.</p>

    <h3>Hook Types</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Hook Event</th>
            <th>Trigger Point</th>
            <th>Common Use Cases</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>PreToolUse</code></td><td>Before any tool runs</td><td>Validation, security gates, logging, approval flows</td></tr>
          <tr><td><code>PostToolUse</code></td><td>After any tool completes</td><td>Auto-formatting, linting, notifications, metrics</td></tr>
          <tr><td><code>SessionStart</code></td><td>When session begins</td><td>Context loading, environment setup, welcome messages</td></tr>
          <tr><td><code>SessionEnd</code></td><td>When session ends</td><td>Cleanup, summary generation, persistence</td></tr>
          <tr><td><code>Stop</code></td><td>Exit/completion attempts</td><td>Loop continuation (Ralph pattern), cleanup</td></tr>
        </tbody>
      </table>
    </div>

    <h3>Tool Matchers</h3>
    <p>Hooks can target specific tools:</p>
    <ul class="tag-list">
      <li><span class="tag">Edit</span> File editing</li>
      <li><span class="tag">Write</span> New file creation</li>
      <li><span class="tag">Bash</span> Shell command execution</li>
      <li><span class="tag">Read</span> File reading</li>
      <li><span class="tag">Glob</span> File pattern matching</li>
      <li><span class="tag">Grep</span> Content searching</li>
      <li><span class="tag">AskUserQuestion</span> When Claude needs user input</li>
      <li><span class="tag">Task</span> Subagent operations</li>
      <li><span class="tag">WebFetch</span> URL fetching</li>
      <li><span class="tag">WebSearch</span> Web searches</li>
      <li><span class="tag">*</span> Match all tools</li>
    </ul>

    <h3>Configuration Location</h3>
    <pre><code>~/.claude/settings.json           # Global hook config
.claude/settings.json             # Project hook config</code></pre>

    <h3>Hook Configuration Format</h3>
    <pre><code>{
  "hooks": {
    "PreToolUse": [{
      "matcher": "Bash",
      "hooks": [{
        "type": "command",
        "command": "~/.claude/hooks/security-gate.sh"
      }]
    }],
    "PostToolUse": [{
      "matcher": "Edit",
      "command": "prettier --write $FILE"
    }],
    "SessionStart": [{
      "type": "command",
      "command": "~/.claude/hooks/session-start.sh"
    }]
  }
}</code></pre>

    <h3>Environment Variables</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Variable</th>
            <th>Description</th>
            <th>Available In</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>$EVENT_DATA</code></td><td>Full JSON event blob</td><td>All events</td></tr>
          <tr><td><code>$TOOL_NAME</code></td><td>Tool being used</td><td>Pre/PostToolUse</td></tr>
          <tr><td><code>$FILE</code></td><td>Target file path</td><td>PostToolUse (Edit/Write)</td></tr>
          <tr><td><code>$PROJECT_NAME</code></td><td>Current project name</td><td>All events</td></tr>
          <tr><td><code>$SESSION_ID</code></td><td>Current session ID</td><td>All events</td></tr>
        </tbody>
      </table>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">Common Hook Patterns</h3>

      <h4>1. Notification Hooks (Push to Mobile)</h4>
      <pre><code>#!/bin/bash
# ~/.claude/hooks/poke-notify.sh
QUESTION=$(echo "$EVENT_DATA" | jq -r '.tool_input.questions[0].question')
curl -X POST "$POKE_API_URL" -d "{\"message\": \"$QUESTION\"}"</code></pre>
      <p><strong>Services:</strong> <span class="tag">Poke</span> <span class="tag">Pushover</span> <span class="tag">ntfy</span> <span class="tag">Telegram</span> <span class="tag">Discord</span> <span class="tag">Slack</span></p>

      <h4>2. Auto-Formatting Hooks</h4>
      <pre><code>{
  "PostToolUse": [
    { "matcher": "Edit", "command": "prettier --write $FILE" },
    { "matcher": "Edit", "command": "eslint --fix $FILE" }
  ]
}</code></pre>
      <p><strong>Languages:</strong> JavaScript/TypeScript (prettier, eslint), Python (black, isort, ruff), Go (gofmt, goimports), Rust (rustfmt)</p>

      <h4>3. Security Gate Hooks</h4>
      <pre><code>#!/bin/bash
COMMAND=$(echo "$EVENT_DATA" | jq -r '.tool_input.command')
DANGEROUS_PATTERNS=("rm -rf" "git push --force" "sudo")
for pattern in "${DANGEROUS_PATTERNS[@]}"; do
    if [[ "$COMMAND" == *"$pattern"* ]]; then
        echo "BLOCKED: $pattern" >&amp;2
        exit 1  # Non-zero blocks the operation
    fi
done
exit 0</code></pre>

      <h4>4. Ralph Loop Stop Hooks</h4>
      <pre><code>#!/bin/bash
# Intercepts session exit, checks for completion
if grep -q "COMPLETE" ./progress.txt; then
    exit 0  # Allow exit
else
    cat PROMPT.md | claude-code  # Restart
fi</code></pre>

      <h4>5. Audit Logging Hooks</h4>
      <pre><code>#!/bin/bash
LOG_FILE="$HOME/.claude/audit/$(date +%Y-%m-%d).jsonl"
jq -nc --arg ts "$(date -Iseconds)" --arg tool "$TOOL_NAME" '{ts:$ts,tool:$tool}' >> "$LOG_FILE"</code></pre>
    </div>

    <hr class="section-divider">

    <h2 id="mcp"><strong>MC</strong>P (<strong>Mod</strong>el <strong>Con</strong>text <strong>Pro</strong>tocol)</h2>

    <p><strong>MC</strong>P is an <strong>ope</strong>n <strong>pro</strong>tocol (like "USB-C for AI") <strong>ena</strong>bling <strong>Cla</strong>ude to <strong>con</strong>nect to <strong>ext</strong>ernal <strong>dat</strong>a <strong>sou</strong>rces and <strong>too</strong>ls via <strong>JSO</strong>N-<strong>RP</strong>C 2.0.</p>

    <div class="ascii-diagram">
+--------------------------------------------------+
|            MCP Host (Claude Code)                 |
+-------------------+------------------------------+
                    |
         +----------+----------+
         |          |          |
     +---v--+   +---v--+  +---v--+
     |Client|   |Client|  |Client|
     +---+--+   +---+--+  +---+--+
         |          |          |
    +----v---+ +----v---+ +----v---+
    |Server A| |Server B| |Server C|
    |(STDIO) | |(STDIO) | |(HTTP)  |
    +--------+ +--------+ +--------+
    </div>

    <h3>MCP Primitives</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Feature</th>
            <th>Purpose</th>
            <th>Control</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><strong>Tools</strong></td><td>Functions LLMs can actively call</td><td>Model-controlled</td></tr>
          <tr><td><strong>Resources</strong></td><td>Passive read-only data sources</td><td>Application-controlled</td></tr>
          <tr><td><strong>Prompts</strong></td><td>Pre-built instruction templates</td><td>User-controlled</td></tr>
        </tbody>
      </table>
    </div>

    <h3>Configuration</h3>
    <pre><code>~/.claude/settings.json  (Claude Code)
~/Library/Application Support/Claude/claude_desktop_config.json  (Claude Desktop - macOS)</code></pre>

    <pre><code>{
  "mcpServers": {
    "server-name": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-name", "arg1"],
      "env": {
        "API_KEY": "your-key"
      }
    }
  }
}</code></pre>

    <h3>Official Reference Servers</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Server</th>
            <th>Package</th>
            <th>Purpose</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><strong>Filesystem</strong></td><td><code>@modelcontextprotocol/server-filesystem</code></td><td>Secure file operations</td></tr>
          <tr><td><strong>Git</strong></td><td><code>mcp-server-git</code> (Python)</td><td>Git repository operations</td></tr>
          <tr><td><strong>GitHub</strong></td><td><code>@modelcontextprotocol/server-github</code></td><td>GitHub API integration</td></tr>
          <tr><td><strong>Memory</strong></td><td><code>@modelcontextprotocol/server-memory</code></td><td>Knowledge graph persistence</td></tr>
          <tr><td><strong>Fetch</strong></td><td><code>@modelcontextprotocol/server-fetch</code></td><td>Web content fetching</td></tr>
          <tr><td><strong>Sequential Thinking</strong></td><td><code>@modelcontextprotocol/server-sequential-thinking</code></td><td>Reflective problem-solving</td></tr>
          <tr><td><strong>Time</strong></td><td><code>@modelcontextprotocol/server-time</code></td><td>Time/timezone operations</td></tr>
        </tbody>
      </table>
    </div>

    <h3>Popular Third-Party MCP Servers</h3>

    <h4>File/Data Servers</h4>
    <ul>
      <li><strong>SQLite:</strong> <code>mcp-server-sqlite</code> - Database operations</li>
      <li><strong>PostgreSQL:</strong> <code>mcp-server-postgres</code> - Database operations</li>
      <li><strong>Google Drive:</strong> Google Drive file access</li>
      <li><strong>Notion:</strong> Notion workspace integration</li>
    </ul>

    <h4>Communication Servers</h4>
    <ul>
      <li><strong>Slack:</strong> <code>@modelcontextprotocol/server-slack</code> - Slack messaging</li>
      <li><strong>Discord:</strong> Discord integration</li>
      <li><strong>Linear:</strong> Issue tracking</li>
    </ul>

    <h4>Browser Automation</h4>
    <ul>
      <li><strong>Puppeteer:</strong> <code>@modelcontextprotocol/server-puppeteer</code> - Browser automation</li>
      <li><strong>Playwright:</strong> Cross-browser automation</li>
      <li><strong>Browserbase:</strong> Cloud browser execution</li>
    </ul>

    <h3>MCP SDK Languages</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Language</th>
            <th>Package</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>TypeScript</td><td><code>@modelcontextprotocol/sdk</code></td></tr>
          <tr><td>Python</td><td><code>pip install mcp</code></td></tr>
          <tr><td>Go</td><td><code>github.com/modelcontextprotocol/go-sdk</code></td></tr>
          <tr><td>Kotlin</td><td>Maven/Gradle</td></tr>
          <tr><td>Swift</td><td>Swift Package Manager</td></tr>
          <tr><td>Java</td><td>Maven/Gradle</td></tr>
          <tr><td>C#</td><td>NuGet</td></tr>
          <tr><td>Ruby</td><td><code>gem install mcp</code></td></tr>
          <tr><td>Rust</td><td>Cargo</td></tr>
          <tr><td>PHP</td><td>Composer</td></tr>
        </tbody>
      </table>
    </div>

    <h3>MCP Debugging</h3>
    <pre><code># MCP Inspector - interactive testing tool
npx @modelcontextprotocol/inspector npx @modelcontextprotocol/server-filesystem /path</code></pre>

    <hr class="section-divider">

    <h2 id="plugins"><strong>Plu</strong>gins</h2>

    <p><strong>Plu</strong>gins are <strong>ful</strong>l <strong>pac</strong>kages <strong>com</strong>bining <strong>cod</strong>e, <strong>hoo</strong>ks, <strong>com</strong>mands, <strong>ski</strong>lls, and <strong>MC</strong>P <strong>int</strong>egrations.</p>

    <h3>Plugin Installation</h3>
    <pre><code># Add marketplace
/plugin marketplace add author/repo

# Install plugin
/plugin install plugin-name@marketplace

# Or directly
claude plugin install plugin-name</code></pre>

    <h3>Official Anthropic Plugins</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Plugin</th>
            <th>Command</th>
            <th>Purpose</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><strong>agent-sdk-dev</strong></td><td><code>/new-sdk-app</code></td><td>Development kit for Claude Agent SDK</td></tr>
          <tr><td><strong>code-review</strong></td><td><code>/code-review</code></td><td>5 parallel Sonnet agents for review</td></tr>
          <tr><td><strong>code-simplifier</strong></td><td>Natural language</td><td>Simplify/refine code for clarity</td></tr>
          <tr><td><strong>commit-commands</strong></td><td><code>/commit</code>, <code>/commit-push-pr</code></td><td>Git workflow automation</td></tr>
          <tr><td><strong>feature-dev</strong></td><td><code>/feature-dev</code></td><td>7-phase development workflow</td></tr>
          <tr><td><strong>frontend-design</strong></td><td>Auto-invoked</td><td>Production-grade frontend</td></tr>
          <tr><td><strong>hookify</strong></td><td><code>/hookify</code></td><td>Meta-hooks creation</td></tr>
          <tr><td><strong>plugin-dev</strong></td><td><code>/plugin-dev:create-plugin</code></td><td>Plugin development toolkit</td></tr>
          <tr><td><strong>pr-review-toolkit</strong></td><td><code>/pr-review-toolkit:review-pr</code></td><td>6 specialized review agents</td></tr>
          <tr><td><strong>ralph-wiggum</strong></td><td><code>/ralph-loop</code>, <code>/cancel-ralph</code></td><td>Self-perpetuating autonomous loops</td></tr>
          <tr><td><strong>security-guidance</strong></td><td>PreToolUse hook</td><td>Security vulnerability detection</td></tr>
        </tbody>
      </table>
    </div>

    <h3>Community Plugins</h3>

    <div class="pattern-box">
      <h3 class="pattern-title">Claude HUD</h3>
      <p class="pattern-subtitle"><strong>Author:</strong> @jarrodwatts | <strong>Repo:</strong> github.com/jarrodwatts/claude-hud</p>

      <pre><code>/plugin marketplace add jarrodwatts/claude-hud
/plugin install claude-hud
/claude-hud:setup</code></pre>

      <ul>
        <li><strong>Shows:</strong> Context remaining, tools executing, subagents running, todo progress</li>
        <li><strong>Updates:</strong> Every ~300ms</li>
        <li><strong>Features:</strong> Color-coded context bar, token breakdown at 85%+ usage</li>
      </ul>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">Claude-Mem</h3>
      <p class="pattern-subtitle"><strong>Author:</strong> @thedotmack | <strong>Repo:</strong> github.com/thedotmack/claude-mem</p>

      <pre><code>/plugin marketplace add thedotmack/claude-mem
/plugin install claude-mem</code></pre>

      <ul>
        <li><strong>Purpose:</strong> Persistent memory with semantic compression</li>
        <li><strong>Architecture:</strong> SQLite + Chroma vector DB + Claude Agent SDK</li>
        <li><strong>Stats:</strong> Up to 95% fewer tokens, ~20x more tool calls</li>
        <li><strong>3-Layer Retrieval:</strong> search() -> timeline() -> get_observations()</li>
        <li><strong>Web UI:</strong> http://localhost:37777</li>
      </ul>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">Ralph Wiggum Marketer</h3>
      <p class="pattern-subtitle"><strong>Author:</strong> @koylanai | <strong>Repo:</strong> github.com/muratcankoylan/ralph-wiggum-marketer</p>

      <ul>
        <li><strong>Commands:</strong> <code>/ralph-init</code>, <code>/ralph-marketer</code>, <code>/ralph-status</code>, <code>/ralph-cancel</code></li>
        <li><strong>Purpose:</strong> Self-critiquing content loop for marketing copy</li>
        <li><strong>Workflow:</strong> DISCOVER -> LEARN -> RESEARCH -> IDEATE -> WRITE -> CRITIQUE -> ITERATE</li>
      </ul>
    </div>

    <h3>Plugin Directory Structure</h3>
    <pre><code>my-plugin/
├── .claude-plugin/
│   └── plugin.json              # Manifest
├── commands/
│   ├── init.md
│   └── run.md
├── skills/
│   └── main/
│       └── SKILL.md
├── hooks/
│   ├── hooks.json
│   └── post-edit.sh
├── scripts/
│   └── setup.js
└── templates/
    └── config.json</code></pre>

    <hr class="section-divider">

    <h2 id="skills"><strong>Ski</strong>lls <strong>Sys</strong>tem</h2>

    <p><strong>Ski</strong>lls are <strong>Mar</strong>kdown <strong>fil</strong>es (.md) that <strong>ext</strong>end <strong>Cla</strong>ude <strong>Co</strong>de's <strong>cap</strong>abilities as <strong>rec</strong>ipes, <strong>tem</strong>plates, or <strong>ins</strong>truction <strong>set</strong>s.</p>

    <h3>Skill Locations</h3>
    <pre><code>.claude/skills/              # Project-specific
~/.claude/skills/            # Global
~/.config/amp/skills/        # Alternative (Amp)</code></pre>

    <h3>Skill Structure</h3>
    <pre><code># Skill Name

## Purpose
One-liner description

## Mental Model
Metaphor/framework for understanding the skill

## Instructions
Detailed guidance

## Rules/Constraints
What to do and not do

## Examples
Usage demonstrations</code></pre>

    <h3>Skill Invocation</h3>
    <ol>
      <li><strong>Manual:</strong> "Load the X skill and initiate"</li>
      <li><strong>Slash Command:</strong> <code>/skill skill-name</code></li>
      <li><strong>Auto-Trigger:</strong> Query relevance matching skill description</li>
    </ol>

    <h3>Skills vs Sub-Agents vs Hooks</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Aspect</th>
            <th>Skills</th>
            <th>Sub-Agents</th>
            <th>Hooks</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>What</td><td>Instruction sets</td><td>Mini-Claudes</td><td>Shell commands</td></tr>
          <tr><td>Context</td><td>Main conversation</td><td>Isolated window</td><td>N/A</td></tr>
          <tr><td>Trigger</td><td>Query relevance/manual</td><td>Task tool</td><td>Lifecycle events</td></tr>
          <tr><td>Best For</td><td>Complex workflows</td><td>Multi-step reasoning</td><td>Automation</td></tr>
        </tbody>
      </table>
    </div>

    <h3>Community Skill Collections</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Collection</th>
            <th>Source</th>
            <th>Content</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><strong>CC Mirror</strong></td><td>@nummanali</td><td>Multi-agent orchestration skill</td></tr>
          <tr><td><strong>Sub-Agents Directory</strong></td><td>sub-agents.directory</td><td>200+ ready-to-use sub-agent prompts</td></tr>
          <tr><td><strong>Vibe Skills</strong></td><td>thevibemarketer.com/skills</td><td>10 marketing skills</td></tr>
          <tr><td><strong>Amp Skills</strong></td><td>@ryancarson</td><td>PRD generation, Ralph JSON conversion</td></tr>
        </tbody>
      </table>
    </div>

    <hr class="section-divider">

    <h2 id="subagents"><strong>Sub</strong>-<strong>Age</strong>nts</h2>

    <p><strong>Sub</strong>-<strong>age</strong>nts are <strong>spe</strong>cialized <strong>min</strong>i-<strong>Cla</strong>udes with <strong>iso</strong>lated <strong>con</strong>text <strong>win</strong>dows for <strong>foc</strong>used <strong>tas</strong>ks.</p>

    <h3>Sub-Agent Location</h3>
    <pre><code>.claude/agents/
├── react-specialist.yaml
├── python-expert.yaml
├── security-auditor.yaml
└── adversarial-critic.md</code></pre>

    <h3>Sub-Agent Definition Format</h3>
    <pre><code>name: agent-name
description: What triggers this agent's selection
model: opus|sonnet|haiku
context: fork|shared

# System prompt/instructions follow</code></pre>

    <h3>Model Selection Guidelines</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Model</th>
            <th>Use Case</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><strong>Haiku</strong></td><td>Errand runner: fetch files, grep, simple lookups (spawn 5-10 in parallel)</td></tr>
          <tr><td><strong>Sonnet</strong></td><td>Capable worker: structured implementation, pattern following, test generation</td></tr>
          <tr><td><strong>Opus</strong></td><td>Complex reasoning, architecture decisions, ambiguous tasks</td></tr>
        </tbody>
      </table>
    </div>

    <h3>Orchestrator Pattern</h3>
    <pre><code># Orchestrator Pattern

## You Are
The conductor. You don't play instruments.

## You Do
- Decompose tasks
- Spawn workers via Task tool
- Monitor progress via TaskList
- Synthesize outputs

## You Don't
- Write code directly
- Run bash commands
- Explore files yourself</code></pre>

    <h3>Worker Preamble Template</h3>
    <pre><code>CONTEXT: You are a WORKER agent, not an orchestrator.
RULES:
- Complete ONLY the task described below
- Use tools directly (Read, Write, Edit, Bash, etc.)
- Do NOT spawn sub-agents
- Do NOT call TaskCreate or TaskUpdate
- Report results with absolute file paths
TASK: [specific task]</code></pre>

    <hr class="section-divider">

    <h2 id="browser"><strong>Bro</strong>wser <strong>Aut</strong>omation</h2>

    <h3>Claude for Chrome (Native MCP)</h3>

    <div class="ascii-diagram">
Claude Code (MCP Client)
        |
    Binary Protocol (4-byte LE + JSON)
        |
Chrome Extension (MCP Server)
        |
    Local Browser
    </div>

    <p><strong>Available Tools (19 total):</strong></p>
    <ul>
      <li><code>mcp__claude-in-chrome__navigate</code></li>
      <li><code>mcp__claude-in-chrome__get_text</code></li>
      <li><code>mcp__claude-in-chrome__click</code></li>
      <li><code>mcp__claude-in-chrome__screenshot</code></li>
      <li>...and more</li>
    </ul>

    <h3>Browserbase (Remote Cloud Browsers)</h3>
    <p class="pattern-subtitle"><strong>Source:</strong> @pk_iv</p>

    <pre><code>/plugin marketplace add browserbase/claude-code-plugin
/plugin install browserbase@browserbase-cloud</code></pre>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Feature</th>
            <th>Local Chrome</th>
            <th>Browserbase</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Execution</td><td>Local machine</td><td>Cloud</td></tr>
          <tr><td>Security</td><td>Cookies exposed</td><td>Isolated</td></tr>
          <tr><td>Parallelism</td><td>One instance</td><td>Multiple sessions</td></tr>
          <tr><td>Production-grade</td><td>No</td><td>Yes</td></tr>
        </tbody>
      </table>
    </div>

    <h3>Playwright MCP Server</h3>
    <pre><code>{
  "mcp": {
    "servers": {
      "playwright": {
        "command": "npx",
        "args": ["@anthropic-ai/mcp-server-playwright"],
        "env": {
          "HEADLESS": "true"
        }
      }
    }
  }
}</code></pre>

    <hr class="section-divider">

    <h2 id="multi-agent"><strong>Mul</strong>ti-<strong>Age</strong>nt <strong>Man</strong>agement</h2>

    <div class="pattern-box">
      <h3 class="pattern-title">rpai - tmux Multi-Agent Manager</h3>
      <p class="pattern-subtitle"><strong>Author:</strong> @radoslav11 | <strong>Amplified by:</strong> @alexocheema</p>

      <pre><code>cargo install rpai
rpai  # Run in any tmux session</code></pre>

      <ul>
        <li><strong>Purpose:</strong> TUI for monitoring/switching between parallel AI agents</li>
        <li><strong>Detected Agents:</strong> Claude, Cursor, Codex, Opencode</li>
        <li><strong>Features:</strong> Scans tmux panes, status indicators, output previews, one-click jump</li>
      </ul>
    </div>

    <div class="pattern-box">
      <h3 class="pattern-title">CC Mirror Multi-Agent</h3>
      <p class="pattern-subtitle"><strong>Author:</strong> @nummanali | <strong>Repo:</strong> github.com/numman-ali/cc-mirror</p>

      <pre><code>npx cc-mirror quick --provider mirror --name mclaude
mclaude
"Load the orchestration skill and initiate"</code></pre>

      <ul>
        <li><strong>Purpose:</strong> Enables disabled multi-agent orchestration</li>
        <li><strong>Key Feature:</strong> Parallel agent spawning with model selection</li>
      </ul>
    </div>

    <hr class="section-divider">

    <h2 id="memory"><strong>Mem</strong>ory and <strong>Per</strong>sistence</h2>

    <h3>Claude-Mem Plugin</h3>
    <ul>
      <li><strong>Stats:</strong> Up to 95% fewer tokens, ~20x more tool calls</li>
      <li><strong>Storage:</strong> Local SQLite + Chroma Vector DB</li>
      <li><strong>3-Layer Retrieval:</strong>
        <ol>
          <li><code>search()</code> - Compact index, returns IDs</li>
          <li><code>timeline()</code> - Chronological snippets</li>
          <li><code>get_observations()</code> - Full details for specific IDs</li>
        </ol>
      </li>
      <li><strong>Privacy:</strong> <code>&lt;private&gt;</code> tags to exclude sensitive data</li>
    </ul>

    <h3>MCP Memory Server</h3>
    <pre><code>{
  "mcpServers": {
    "memory": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-memory"]
    }
  }
}</code></pre>

    <h3>Session Persistence Patterns</h3>

    <h4>Hook-Based State</h4>
    <pre><code>#!/bin/bash
# SessionStart: Load state
source ~/.claude/session-state

# SessionEnd: Save state
echo "LAST_SESSION=$(date)" > ~/.claude/session-state</code></pre>

    <h4>Durable Objects (Cloudflare)</h4>
    <p>Save transcript &amp; session after each method - allows resume if sandbox dies.</p>

    <hr class="section-divider">

    <h2 id="matrix"><strong>Int</strong>egration <strong>Mat</strong>rix</h2>

    <h3>Which Tools Combine With Which Patterns</h3>

    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Base Pattern</th>
            <th>Hooks</th>
            <th>MCP</th>
            <th>Plugins</th>
            <th>Skills</th>
            <th>Sub-Agents</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><strong>Ralph Loop</strong></td><td>Stop hook essential</td><td>Optional</td><td>Ralph plugins</td><td>Orchestration</td><td>Worker agents</td></tr>
          <tr><td><strong>Mobile Workflow</strong></td><td>Notification hooks</td><td>GitHub, Linear</td><td>Claude HUD</td><td>Minimal</td><td>Background</td></tr>
          <tr><td><strong>Multi-Agent</strong></td><td>Monitoring hooks</td><td>Shared MCP</td><td>CC Mirror</td><td>Orchestration</td><td>Heavy use</td></tr>
          <tr><td><strong>Browser Automation</strong></td><td>Pre/Post logging</td><td>Browserbase</td><td>Playwright</td><td>Browser patterns</td><td>Parallel scraping</td></tr>
          <tr><td><strong>Memory/Persistence</strong></td><td>Session hooks</td><td>Memory server</td><td>Claude-Mem</td><td>Memory-aware</td><td>Context sharing</td></tr>
          <tr><td><strong>Security</strong></td><td>PreToolUse gates</td><td>Filesystem limits</td><td>Security-guidance</td><td>Security review</td><td>Sandboxed workers</td></tr>
        </tbody>
      </table>
    </div>

    <h3>Recommended Stacks by Use Case</h3>

    <div class="pattern-box">
      <h4>Personal Development</h4>
      <pre><code>Hooks: Auto-formatting, notifications
MCP: Filesystem, GitHub
Plugins: Claude HUD
Skills: Project-specific
Sub-Agents: Task-based</code></pre>
    </div>

    <div class="pattern-box">
      <h4>Production Agents</h4>
      <pre><code>Infrastructure: Cloudflare Sandbox + Agent SDK
MCP: Production databases, APIs
Security: PreToolUse gates, audit logging
Persistence: Durable Objects, Memory server</code></pre>
    </div>

    <div class="pattern-box">
      <h4>Autonomous/Ralph Loops</h4>
      <pre><code>Hooks: Stop hook (essential), notifications
Sandboxing: VM or container (required for --dangerously-skip-permissions)
Skills: Orchestration, domain-specific
Sub-Agents: Parallel workers
Persistence: Git + progress files</code></pre>
    </div>

    <div class="pattern-box">
      <h4>Mobile/Remote</h4>
      <pre><code>Infrastructure: System (Mac API), Tailscale
Hooks: Push notifications (Poke/Pushover)
MCP: GitHub, Linear
Plugins: Claude HUD (for context visibility)</code></pre>
    </div>

    <hr class="section-divider">

    <div class="quick-ref">
      <h3 class="quick-ref-title">Quick Reference Commands</h3>
      <pre><code># Plugins
/plugin marketplace add author/repo
/plugin install plugin-name

# MCP Servers (TypeScript)
npx -y @modelcontextprotocol/server-name

# MCP Servers (Python)
uvx mcp-server-name

# Multi-Agent Manager
cargo install rpai

# CC Mirror
npx cc-mirror quick --provider mirror --name mclaude</code></pre>

      <h4>Configuration Files</h4>
      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Purpose</th>
              <th>Location</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Hooks</td><td><code>~/.claude/settings.json</code></td></tr>
            <tr><td>MCP Servers</td><td><code>~/.claude/settings.json</code></td></tr>
            <tr><td>Skills</td><td><code>.claude/skills/*.md</code></td></tr>
            <tr><td>Sub-Agents</td><td><code>.claude/agents/*.yaml</code></td></tr>
            <tr><td>Plugins</td><td><code>~/.claude/plugins/</code></td></tr>
            <tr><td>Claude-Mem</td><td><code>~/.claude-mem/settings.json</code></td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <hr class="section-divider">

    <div class="related-pages">
      <h3>Related Taxonomies</h3>
      <ul>
        <li><a href="orchestration.html">Orchestration Patterns</a> - Patterns using these tools</li>
        <li><a href="context-memory.html">Context &amp; Memory</a> - Persistence strategies</li>
        <li><a href="workflows.html">Workflows</a> - Task management</li>
        <li><a href="deployment.html">Deployment</a> - Infrastructure patterns</li>
        <li><a href="cross-reference.html">Cross-Reference Index</a> - Master index</li>
      </ul>
    </div>

    <nav class="footer-nav">
      <a href="workflows.html">Prev: Workflows</a>
      <a href="deployment.html">Next: Deployment</a>
    </nav>

  </div>
  <script src="../../js/copy-code.js"></script>
</body>
</html>
