<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ralph Wiggum Pattern - Claude Code Orchestration</title>
  <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
  <div class="container">

    <!-- Breadcrumb Navigation -->
    <nav class="nav-breadcrumb">
      <a href="../../index.html">Home</a>
      <span>/</span>
      <a href="../index.html">Patterns</a>
      <span>/</span>
      <a href="index.html">Orchestration</a>
      <span>/</span>
      <span>Ralph Wiggum Pattern</span>
    </nav>

    <!-- You Are Here Context Box -->
    <div class="callout callout-insight" style="background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%); border-left: 4px solid #2a7d7d;">
      <div class="callout-title"><strong>You</strong> Are <strong>Her</strong>e</div>
      <p><strong>Whe</strong>re this <strong>fit</strong>s:</p>
      <ul>
        <li><strong>Com</strong>plexity <strong>Lev</strong>el 3-4</strong> on the <strong>orc</strong>hestration <strong>lad</strong>der</li>
        <li><strong>Aft</strong>er: Basic Claude Code usage, CLAUDE.md, slash commands</li>
        <li><strong>Bef</strong>ore: CC Mirror multi-agent, Gas Town factory-scale</li>
      </ul>
      <p><strong>Wha</strong>t you'll <strong>lea</strong>rn: How to run <strong>aut</strong>onomous <strong>dev</strong>elopment <strong>loo</strong>ps that <strong>shi</strong>p <strong>fea</strong>tures <strong>ove</strong>rnight with <strong>fre</strong>sh <strong>con</strong>text per <strong>ite</strong>ration.</p>
    </div>

    <h1><strong>Ral</strong>ph <strong>Wig</strong>gum <strong>Pat</strong>tern</h1>
    <p class="conversational-lead"><strong>The</strong> simple <strong>bas</strong>h loop that <strong>tur</strong>ned <strong>ove</strong>rnight <strong>dev</strong>elopment into <strong>rea</strong>lity. <strong>Nam</strong>ed after <strong>The</strong> Simpsons <strong>cha</strong>racter who <strong>per</strong>sists <strong>reg</strong>ardless of <strong>obs</strong>tacles.</p>

    <!-- Table of Contents -->
    <div class="toc">
      <div class="toc-title">Contents</div>
      <ul>
        <li><a href="#origin">Origin and Philosophy</a></li>
        <li><a href="#core-mechanism">Core Mechanism</a></li>
        <li><a href="#implementations">Implementation Variants</a></li>
        <li><a href="#prd-strategies">PRD Strategies and Templates</a></li>
        <li><a href="#progress-tracking">Progress.txt Strategies</a></li>
        <li><a href="#task-sizing">Task Sizing - The Critical Factor</a></li>
        <li><a href="#verification">Verification and Feedback Loops</a></li>
        <li><a href="#variants">Ralph Variants and Forks</a></li>
        <li><a href="#troubleshooting">Troubleshooting Common Issues</a></li>
        <li><a href="#when-to-use">When to Use (and When Not To)</a></li>
      </ul>
    </div>

    <!-- Problem Statement -->
    <div class="problem-statement">
      <strong>Cla</strong>ude Code <strong>ses</strong>sions end. <strong>Con</strong>text <strong>win</strong>dows fill up. <strong>Lon</strong>g sessions <strong>suf</strong>fer from "<strong>con</strong>text rot" - <strong>LLM</strong>s get <strong>stu</strong>pider with <strong>mor</strong>e tokens. <strong>How</strong> do you <strong>shi</strong>p <strong>fea</strong>tures that <strong>tak</strong>e longer than a <strong>sin</strong>gle <strong>ses</strong>sion?
    </div>

    <!-- Section: Origin -->
    <h2 id="origin"><strong>Ori</strong>gin and <strong>Phi</strong>losophy</h2>

    <div class="pattern-box">
      <div class="pattern-title">The Founding Insight</div>
      <blockquote>
        "It's a 'we learn from failure'-centric approach. You define your goal condition and let the agent loop over and over until it has verifiably reached that promised goal."
        <footer>- @arvidkahl</footer>
      </blockquote>
    </div>

    <h3><strong>Whe</strong>re the <strong>Nam</strong>e Comes <strong>Fro</strong>m</h3>
    <p><strong>Ral</strong>ph Wiggum from <strong>The</strong> Simpsons - the <strong>sim</strong>ple-minded <strong>chi</strong>ld who <strong>per</strong>sists in <strong>tas</strong>ks <strong>reg</strong>ardless of <strong>obs</strong>tacles. The <strong>pat</strong>tern <strong>emb</strong>odies:</p>
    <ul>
      <li><strong>Per</strong>sistence over <strong>per</strong>fection</strong></li>
      <li><strong>Fai</strong>lures are <strong>dat</strong>a, not <strong>sto</strong>ps</li>
      <li><strong>Eve</strong>ntually <strong>con</strong>sistent <strong>com</strong>pletion</li>
    </ul>

    <h3><strong>Ori</strong>ginal <strong>Cre</strong>ator</h3>
    <p><strong>Geo</strong>ffrey Huntley</strong> (<a href="https://ghuntley.com/ralph/">ghuntley.com/ralph/</a>) <strong>pio</strong>neered the <strong>con</strong>cept. Key <strong>ins</strong>ight: "<strong>Det</strong>erministically <strong>bad</strong>" failures are <strong>pre</strong>dictable and <strong>inf</strong>ormative. <strong>Ope</strong>rator skill (<strong>pro</strong>mpting) <strong>mat</strong>ters more than <strong>mod</strong>el <strong>cap</strong>ability <strong>alo</strong>ne.</p>

    <hr class="section-divider">

    <!-- Section: Core Mechanism -->
    <h2 id="core-mechanism"><strong>Cor</strong>e <strong>Mec</strong>hanism</h2>

    <h3>The <strong>Fun</strong>damental <strong>Loo</strong>p</h3>
    <p>At its <strong>abs</strong>olute <strong>sim</strong>plest:</p>

    <div class="tutorial-block">
      <div class="tutorial-header">The Ralph Loop in One Line</div>
      <div class="tutorial-content">
        <pre><code>while :; do cat PROMPT.md | claude ; done</code></pre>
        <p><strong>Eve</strong>rything else is <strong>sca</strong>ffolding <strong>aro</strong>und this <strong>pat</strong>tern.</p>
      </div>
    </div>

    <h3>How It <strong>Wor</strong>ks</h3>
    <div class="ascii-diagram">
┌─────────────────────────────────────────────┐
│  1. Start with fresh context                │
│            ↓                                │
│  2. Read task state from files              │
│     (prd.json, progress.txt, git history)   │
│            ↓                                │
│  3. Pick highest priority incomplete task   │
│            ↓                                │
│  4. Implement task                          │
│            ↓                                │
│  5. Run verification (tests, typecheck)     │
│            ↓                                │
│  6. If pass: commit, update prd.json        │
│     If fail: log learnings, try again       │
│            ↓                                │
│  7. Append to progress.txt                  │
│            ↓                                │
│  8. Check completion condition              │
│     All done? → Output promise → EXIT       │
│     Not done? → Loop continues              │
└─────────────────────────────────────────────┘
    </div>

    <!-- Checkpoint -->
    <div class="callout callout-success">
      <div class="callout-title">Checkpoint: Understanding the Core Concept</div>
      <p><strong>Ver</strong>ify you <strong>und</strong>erstand:</p>
      <ul>
        <li>Each <strong>ite</strong>ration spawns a <strong>NEW</strong> Claude <strong>ins</strong>tance with <strong>NO</strong> memory of <strong>pre</strong>vious work</li>
        <li><strong>Con</strong>tinuity comes <strong>ent</strong>irely from: <strong>Git</strong> history, <strong>prd</strong>.json, <strong>pro</strong>gress.txt, <strong>fil</strong>e system</li>
        <li>This <strong>avo</strong>ids <strong>con</strong>text <strong>win</strong>dow <strong>ove</strong>rflow and "<strong>con</strong>text rot"</li>
      </ul>
    </div>

    <hr class="section-divider">

    <!-- Section: Implementations -->
    <h2 id="implementations"><strong>Imp</strong>lementation <strong>Var</strong>iants</h2>

    <h3><strong>Off</strong>icial <strong>Plu</strong>gin <strong>Imp</strong>lementation</h3>
    <p><strong>Sou</strong>rce: <code>github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum</code></p>

    <div class="tutorial-block">
      <div class="tutorial-header">Quick Start with Official Plugin</div>
      <div class="tutorial-content">
        <div class="tutorial-step">
          <div class="tutorial-step-number">1</div>
          <div class="tutorial-step-content">
            <h4>Run the Ralph Loop Command</h4>
            <pre><code>/ralph-loop "Build a REST API for todos. Requirements: CRUD operations, input validation, tests. Output &lt;promise&gt;COMPLETE&lt;/promise&gt; when done." --completion-promise "COMPLETE" --max-iterations 50</code></pre>
          </div>
        </div>
        <div class="tutorial-step">
          <div class="tutorial-step-number">2</div>
          <div class="tutorial-step-content">
            <h4>The Plugin Handles the Loop</h4>
            <p>Claude Code <strong>aut</strong>omatically:</p>
            <ul>
              <li><strong>Wor</strong>ks on the <strong>tas</strong>k</li>
              <li><strong>Tri</strong>es to <strong>exi</strong>t</li>
              <li><strong>Sto</strong>p hook <strong>blo</strong>cks the <strong>exi</strong>t</li>
              <li><strong>Sto</strong>p hook <strong>fee</strong>ds the <strong>SAM</strong>E <strong>pro</strong>mpt back</li>
              <li><strong>Rep</strong>eats until <strong>com</strong>pletion</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <h3><strong>Bas</strong>h Script <strong>Imp</strong>lementation (Matt Pocock Style)</h3>
    <pre><code>#!/bin/bash
set -e

MAX_ITERATIONS=$1

for (( i=1; i<=$MAX_ITERATIONS; i++ )); do
  echo "Iteration $i / $MAX_ITERATIONS"

  claude "Review plans/prd.json and plans/progress.txt.
    Mark the right PRD items as passes: true.
    Append your progress to progress.txt.
    Make a git commit of that feature.
    Only work on a single feature.
    If PRD is complete, output PROMISE COMPLETE HERE." | tee output.txt

  if grep -q "PROMISE COMPLETE HERE" output.txt; then
    break
  fi
done</code></pre>

    <p><strong>Key</strong> details:</p>
    <ul>
      <li><code>set -e</code> - <strong>err</strong>ors throw</li>
      <li><strong>Max</strong> iterations as <strong>saf</strong>ety <strong>bac</strong>kstop</li>
      <li><strong>One</strong> feature per <strong>ite</strong>ration</li>
      <li><strong>Git</strong> commit <strong>eac</strong>h loop</li>
      <li><code>PROMISE COMPLETE HERE</code> <strong>sto</strong>ps the <strong>loo</strong>p</li>
    </ul>

    <h3><strong>Jq</strong>-Based Loop <strong>Con</strong>dition (Maurice Kleine)</h3>
    <pre><code>while jq '.tasks[] | select(.passes == false)' claude-tasks.json | grep -q .; do
  claude --chrome -p echo "[YOUR PROMPT]"
done</code></pre>
    <p><strong>Use</strong>s the <code>passes</code> <strong>pro</strong>perty <strong>dir</strong>ectly to <strong>end</strong> the <strong>loo</strong>p - <strong>mor</strong>e <strong>ele</strong>gant than <strong>gre</strong>pping <strong>out</strong>put.</p>

    <!-- Checkpoint -->
    <div class="callout callout-success">
      <div class="callout-title">Checkpoint: Pick Your Implementation</div>
      <p><strong>You</strong> should now be <strong>abl</strong>e to:</p>
      <ul>
        <li><strong>Cho</strong>ose between <strong>off</strong>icial <strong>plu</strong>gin, <strong>bas</strong>h script, or <strong>jq</strong>-based <strong>app</strong>roach</li>
        <li><strong>Und</strong>erstand what <strong>eac</strong>h variant <strong>off</strong>ers</li>
        <li><strong>Set</strong> up a <strong>bas</strong>ic <strong>loo</strong>p in <strong>you</strong>r project</li>
      </ul>
    </div>

    <hr class="section-divider">

    <!-- Section: PRD Strategies -->
    <h2 id="prd-strategies"><strong>PRD</strong> <strong>Str</strong>ategies and <strong>Tem</strong>plates</h2>

    <h3>Why <strong>JSO</strong>N Over <strong>Mar</strong>kdown?</h3>
    <p>Per <strong>Mat</strong>t Pocock: "<strong>Jus</strong>t copied <strong>Ant</strong>hropic's <strong>app</strong>roach"</p>
    <p><strong>JSO</strong>N is:</p>
    <ul>
      <li><strong>Str</strong>uctured</strong> - <strong>eas</strong>ier for <strong>LLM</strong> to <strong>par</strong>se/<strong>upd</strong>ate</li>
      <li><strong>Mac</strong>hine-<strong>rea</strong>dable</strong> - can be <strong>pro</strong>cessed by <strong>jq</strong>, <strong>scr</strong>ipts</li>
      <li><strong>Exp</strong>licit <strong>sta</strong>te</strong> - <code>passes: true/false</code> is <strong>una</strong>mbiguous</li>
    </ul>

    <h3><strong>Bas</strong>ic <strong>prd</strong>.json <strong>Tem</strong>plate</h3>
    <pre><code>{
  "project": "Project Name",
  "branchName": "ralph/feature-name",
  "description": "Feature description",
  "userStories": [
    {
      "id": "US-001",
      "title": "Task title",
      "description": "As a [user], I need [what]",
      "acceptanceCriteria": [
        "Criterion 1",
        "Criterion 2",
        "npm run typecheck passes"
      ],
      "priority": 1,
      "passes": false,
      "notes": ""
    }
  ]
}</code></pre>

    <h3><strong>Sim</strong>pler <strong>Fla</strong>t <strong>For</strong>mat (Matt Pocock)</h3>
    <pre><code>{
  "delete_video_shows_confirmation": {
    "description": "Delete video shows confirmation dialog before deleting",
    "passes": true
  },
  "beats_display": {
    "description": "Beats display as three orange ellipses dots below clip",
    "details": "Add beat to clip, verify 3 orange dots appear",
    "passes": false
  }
}</code></pre>

    <div class="gotcha-block">
      <h4><strong>Acc</strong>eptance <strong>Cri</strong>teria Must Be <strong>Ver</strong>ifiable</h4>
      <p><strong>Good</strong> (verifiable):</p>
      <ul>
        <li>"Add investorType column with default 'cold'"</li>
        <li>"Filter dropdown has options: All, Cold, Friend"</li>
        <li>"npm run typecheck passes"</li>
      </ul>
      <p><strong>Bad</strong> (vague):</p>
      <ul>
        <li>"Works correctly"</li>
        <li>"Good UX"</li>
        <li>"Handles edge cases"</li>
      </ul>
      <p><strong>Alw</strong>ays include: <code>"npm run typecheck passes"</code> as <strong>fin</strong>al <strong>cri</strong>terion.</p>
    </div>

    <hr class="section-divider">

    <!-- Section: Progress Tracking -->
    <h2 id="progress-tracking"><strong>Pro</strong>gress.txt <strong>Str</strong>ategies</h2>

    <h3><strong>Pur</strong>pose</h3>
    <p><strong>App</strong>end-only <strong>log</strong> for <strong>LLM</strong> <strong>mem</strong>ory <strong>acr</strong>oss <strong>ite</strong>rations.</p>

    <div class="gotcha-block">
      <h4><strong>Cri</strong>tical Rule: APPEND Only</h4>
      <p><strong>NEV</strong>ER UPDATE</strong> - would <strong>ove</strong>rwrite <strong>his</strong>tory. <strong>Alw</strong>ays <strong>app</strong>end new <strong>ent</strong>ries.</p>
    </div>

    <h3><strong>Bas</strong>ic <strong>Tem</strong>plate</h3>
    <pre><code>Use this to leave a note for the next person working on your codebase.

---

Iteration 1 (2026-01-09 10:00):
- Completed: US-001 - Tool skeleton created
- Learned: Use orange (#FF6B35) for visibility on dark backgrounds
- Next: Consider beat playback timing

---

Iteration 2 (2026-01-09 10:15):
- Completed: US-002 - Category mapping
- Issue encountered: Zod schema needed adjustment for optional fields
- Pattern discovered: Always use .optional() explicitly</code></pre>

    <h3>What to <strong>Log</strong></h3>
    <ol>
      <li><strong>Wha</strong>t was <strong>com</strong>pleted</strong> - <strong>Ref</strong>erence user <strong>sto</strong>ry ID</li>
      <li><strong>Wha</strong>t was <strong>lea</strong>rned</strong> - <strong>Pat</strong>terns, <strong>got</strong>chas, <strong>dec</strong>isions</li>
      <li><strong>Wha</strong>t <strong>blo</strong>cked or <strong>fai</strong>led</strong> - <strong>Hel</strong>p <strong>fut</strong>ure <strong>ite</strong>rations <strong>avo</strong>id</li>
      <li><strong>Wha</strong>t to do <strong>nex</strong>t</strong> - <strong>Sug</strong>gestions for <strong>pri</strong>ority</li>
    </ol>

    <hr class="section-divider">

    <!-- Section: Task Sizing -->
    <h2 id="task-sizing"><strong>Tas</strong>k <strong>Siz</strong>ing - The <strong>Cri</strong>tical <strong>Fac</strong>tor</h2>

    <div class="problem-statement">
      <strong>Con</strong>text rot: <strong>LLM</strong>s get <strong>stu</strong>pider with <strong>mor</strong>e <strong>tok</strong>ens. If <strong>tas</strong>ks are <strong>too</strong> big, <strong>qua</strong>lity <strong>dro</strong>ps <strong>dra</strong>matically and <strong>err</strong>ors <strong>com</strong>pound.
    </div>

    <h3>The <strong>Gol</strong>den Rule</h3>
    <div class="recommendation">
      <strong>Eac</strong>h task <strong>mus</strong>t be <strong>com</strong>pletable in <strong>ONE</strong> iteration (~one <strong>con</strong>text <strong>win</strong>dow)
    </div>

    <h3><strong>Rig</strong>ht-Sized <strong>Tas</strong>ks</h3>
    <ul>
      <li><strong>Add</strong> a <strong>dat</strong>abase <strong>col</strong>umn + <strong>mig</strong>ration</li>
      <li><strong>Add</strong> a UI <strong>com</strong>ponent to an <strong>exi</strong>sting <strong>pag</strong>e</li>
      <li><strong>Upd</strong>ate a <strong>ser</strong>ver <strong>act</strong>ion with <strong>new</strong> logic</li>
      <li><strong>Add</strong> a <strong>fil</strong>ter <strong>dro</strong>pdown to a <strong>lis</strong>t</li>
      <li><strong>Wri</strong>te tests for <strong>one</strong> module</li>
      <li><strong>Imp</strong>lement <strong>one</strong> API <strong>end</strong>point</li>
    </ul>

    <h3><strong>Too</strong> Big (<strong>Spl</strong>it <strong>The</strong>se)</h3>
    <table>
      <tr>
        <th>Too Big</th>
        <th>Split Into</th>
      </tr>
      <tr>
        <td>"Build the entire dashboard"</td>
        <td>Schema, queries, UI, filters</td>
      </tr>
      <tr>
        <td>"Add authentication"</td>
        <td>Schema, middleware, login UI, sessions</td>
      </tr>
      <tr>
        <td>"Refactor the API"</td>
        <td>One story per endpoint</td>
      </tr>
      <tr>
        <td>"Create e-commerce flow"</td>
        <td>Cart, checkout, payment, confirmation</td>
      </tr>
    </table>

    <blockquote>
      "If you can't describe it in 2-3 sentences, it's too big."
      <footer>- @ryancarson</footer>
    </blockquote>

    <hr class="section-divider">

    <!-- Section: Verification -->
    <h2 id="verification"><strong>Ver</strong>ification and <strong>Fee</strong>dback <strong>Loo</strong>ps</h2>

    <div class="callout callout-danger">
      <div class="callout-title">Critical Warning</div>
      <p>"Without verification, Ralph produces garbage." - @mattpocockuk</p>
    </div>

    <h3><strong>Ver</strong>ification <strong>Hie</strong>rarchy</h3>
    <table>
      <tr>
        <th>Priority</th>
        <th>Method</th>
        <th>Use Case</th>
      </tr>
      <tr>
        <td>1</td>
        <td>Type checking</td>
        <td><code>pnpm typecheck</code> / <code>npm run typecheck</code> - Always</td>
      </tr>
      <tr>
        <td>2</td>
        <td>Unit tests</td>
        <td><code>pnpm test</code> / <code>pytest</code> - For logic</td>
      </tr>
      <tr>
        <td>3</td>
        <td>CI green</td>
        <td>Every commit must pass</td>
      </tr>
      <tr>
        <td>4</td>
        <td>Browser automation</td>
        <td>Playwright MCP for UI verification</td>
      </tr>
      <tr>
        <td>5</td>
        <td>Manual spot-check</td>
        <td>Human review at milestones</td>
      </tr>
    </table>

    <div class="recommendation">
      <p><strong>Alw</strong>ays include <strong>ver</strong>ification in <strong>acc</strong>eptance <strong>cri</strong>teria:</p>
      <pre><code>"acceptanceCriteria": [
  "Dropdown renders with options: All, Active, Inactive",
  "Selecting option filters list correctly",
  "npm run typecheck passes",
  "npm run test passes"
]</code></pre>
    </div>

    <blockquote>
      "If you don't keep CI green, you're hamstringing future agent runs with bad code, and they'll need to bisect to find bugs. Super nasty."
      <footer>- @mattpocockuk</footer>
    </blockquote>

    <hr class="section-divider">

    <!-- Section: Variants -->
    <h2 id="variants"><strong>Ral</strong>ph <strong>Var</strong>iants and <strong>For</strong>ks</h2>

    <div class="card-grid">
      <div class="card">
        <div class="card-title">Marathon Ralph</div>
        <div class="card-description"><strong>Rep</strong>o: github.com/gruckion/marathon-ralph<br><strong>Pur</strong>pose: Build <strong>ent</strong>ire apps with <strong>uni</strong>t and <strong>E2E</strong> tests <strong>fol</strong>lowing SDLC</div>
        <div class="card-meta">Author: @stephen_rayner | Lift: Medium</div>
      </div>
      <div class="card">
        <div class="card-title">Dr. Ralph</div>
        <div class="card-description"><strong>Pur</strong>pose: <strong>Mul</strong>ti-phase <strong>ver</strong>sion with <strong>con</strong>fidence <strong>thr</strong>esholds. <strong>Onl</strong>y <strong>adv</strong>ances when 80%+ <strong>con</strong>fident.</div>
        <div class="card-meta">Author: @MikeEndale | Lift: Medium</div>
      </div>
      <div class="card">
        <div class="card-title">Lisa</div>
        <div class="card-description"><strong>Rep</strong>o: github.com/Arakiss/lisa<br><strong>Pur</strong>pose: Fork with <strong>enh</strong>anced <strong>log</strong>ging + <strong>pro</strong>gress <strong>tra</strong>cking</div>
        <div class="card-meta">Author: @petruarakiss | Lift: Quick Win</div>
      </div>
      <div class="card">
        <div class="card-title">Rate-Limited Ralph</div>
        <div class="card-description"><strong>Rep</strong>o: github.com/ghuntley/ralph-claude-code<br><strong>Pur</strong>pose: <strong>Han</strong>dle API <strong>rat</strong>e <strong>lim</strong>its <strong>gra</strong>cefully with <strong>bac</strong>koff</div>
        <div class="card-meta">Author: @ghuntley | Lift: Quick Win</div>
      </div>
      <div class="card">
        <div class="card-title">Ralph Wiggum Marketer</div>
        <div class="card-description"><strong>Rep</strong>o: github.com/muratcankoylan/ralph-wiggum-marketer<br><strong>Pur</strong>pose: <strong>Sel</strong>f-critiquing <strong>con</strong>tent loop for <strong>mar</strong>keting copy</div>
        <div class="card-meta">Author: @koylanai | Lift: Medium</div>
      </div>
    </div>

    <hr class="section-divider">

    <!-- Section: Troubleshooting -->
    <h2 id="troubleshooting"><strong>Tro</strong>ubleshooting <strong>Com</strong>mon <strong>Iss</strong>ues</h2>

    <details>
      <summary><strong>Sto</strong>ries Too <strong>Lar</strong>ge - <strong>Con</strong>text <strong>ove</strong>rflow, <strong>bro</strong>ken code</summary>
      <div>
        <p><strong>Sym</strong>ptom:</strong> Agent <strong>los</strong>es track, <strong>qua</strong>lity <strong>dro</strong>ps, <strong>err</strong>ors <strong>com</strong>pound</p>
        <p><strong>Fix:</strong> Split into <strong>sma</strong>ller <strong>sto</strong>ries (2-3 <strong>sen</strong>tence rule)</p>
        <pre><code># Before: Too big
"Build the authentication system"

# After: Right-sized
"US-001: Add user table migration"
"US-002: Implement password hashing"
"US-003: Create login API endpoint"
"US-004: Create signup API endpoint"</code></pre>
      </div>
    </details>

    <details>
      <summary><strong>Wea</strong>k Tests - <strong>Err</strong>ors <strong>com</strong>pound <strong>acr</strong>oss <strong>ite</strong>rations</summary>
      <div>
        <p><strong>Sym</strong>ptom:</strong> <strong>Bug</strong>s slip <strong>thr</strong>ough, <strong>lat</strong>er <strong>ite</strong>rations <strong>bre</strong>ak <strong>ear</strong>lier work</p>
        <p><strong>Fix:</strong> Require <strong>typ</strong>echeck + <strong>tes</strong>ts in <strong>eve</strong>ry <strong>acc</strong>eptance <strong>cri</strong>teria</p>
      </div>
    </details>

    <details>
      <summary><strong>Fro</strong>ntend <strong>Wit</strong>hout <strong>Bro</strong>wser <strong>Ver</strong>ification</summary>
      <div>
        <p><strong>Sym</strong>ptom:</strong> UI <strong>cha</strong>nges <strong>cla</strong>imed <strong>com</strong>plete but <strong>bro</strong>ken</p>
        <p><strong>Fix:</strong> Add <strong>Pla</strong>ywright/<strong>bro</strong>wser <strong>ver</strong>ification to <strong>acc</strong>eptance <strong>cri</strong>teria</p>
        <pre><code>"acceptanceCriteria": [
  "Visual verification via Playwright screenshot",
  "Navigate to /users, click filter, confirm behavior"
]</code></pre>
      </div>
    </details>

    <details>
      <summary><strong>Dup</strong>licate <strong>Det</strong>ection <strong>Fal</strong>se <strong>Pos</strong>itives</summary>
      <div>
        <p><strong>Sym</strong>ptom:</strong> Agent <strong>ski</strong>ps <strong>val</strong>id work <strong>thi</strong>nking it's <strong>don</strong>e</p>
        <p><strong>Fix:</strong> Require <strong>exp</strong>licit <strong>con</strong>firmation, don't <strong>rel</strong>y on <strong>fuz</strong>zy <strong>mat</strong>ching</p>
      </div>
    </details>

    <details>
      <summary><strong>Rec</strong>overy from <strong>Bad</strong> State</summary>
      <div>
        <pre><code># Reset to last known good
git log --oneline -10
git reset --hard &lt;good-commit&gt;

# Clear progress
echo "# Resetting from bad state" > progress.txt

# Update PRD - manually set passes: false on unfinished items

# Resume
./ralph.sh 10</code></pre>
      </div>
    </details>

    <hr class="section-divider">

    <!-- Section: When to Use -->
    <h2 id="when-to-use"><strong>Whe</strong>n to <strong>Use</strong> (and <strong>Whe</strong>n <strong>Not</strong> To)</h2>

    <h3><strong>Goo</strong>d <strong>Can</strong>didates</h3>
    <ul>
      <li><strong>Wel</strong>l-defined <strong>goa</strong>ls with <strong>ver</strong>ifiable <strong>com</strong>pletion</li>
      <li><strong>Mec</strong>hanical, <strong>rep</strong>etitive tasks</li>
      <li><strong>Mig</strong>rations (e.g., <strong>Jes</strong>t to <strong>Vit</strong>est)</li>
      <li><strong>Arc</strong>hitecture <strong>imp</strong>lementation</li>
      <li><strong>Fea</strong>ture <strong>dev</strong>elopment with <strong>cle</strong>ar <strong>spe</strong>cs</li>
      <li><strong>Tas</strong>ks with <strong>aut</strong>omatic <strong>ver</strong>ification (<strong>tes</strong>ts, <strong>lin</strong>ters)</li>
      <li><strong>Gre</strong>enfield <strong>pro</strong>jects where you can <strong>wal</strong>k away</li>
      <li><strong>Ove</strong>rnight work on <strong>wel</strong>l-scoped <strong>fea</strong>tures</li>
    </ul>

    <h3><strong>Poo</strong>r <strong>Can</strong>didates</h3>
    <ul>
      <li><strong>Amb</strong>iguous/<strong>sub</strong>jective tasks ("<strong>mak</strong>e this <strong>pre</strong>tty")</li>
      <li><strong>Sec</strong>urity-<strong>sen</strong>sitive code <strong>req</strong>uiring <strong>hum</strong>an <strong>rev</strong>iew</li>
      <li><strong>Tas</strong>ks <strong>wit</strong>hout <strong>cle</strong>ar <strong>suc</strong>cess <strong>cri</strong>teria</li>
      <li><strong>One</strong>-shot <strong>ope</strong>rations</li>
      <li><strong>Pro</strong>duction <strong>deb</strong>ugging <strong>req</strong>uiring <strong>hum</strong>an <strong>jud</strong>gment</li>
      <li><strong>Tas</strong>ks <strong>req</strong>uiring <strong>des</strong>ign <strong>dec</strong>isions</li>
      <li><strong>Exp</strong>loratory work <strong>wit</strong>hout <strong>def</strong>ined <strong>end</strong> state</li>
    </ul>

    <div class="decision-point">
      <h4><strong>Dec</strong>ision <strong>Che</strong>cklist</h4>
      <p><strong>Use</strong> Ralph if <strong>ALL</strong> of <strong>the</strong>se are <strong>tru</strong>e:</p>
      <ul>
        <li>You can <strong>def</strong>ine "<strong>don</strong>e" in <strong>ver</strong>ifiable <strong>ter</strong>ms</li>
        <li><strong>Eac</strong>h story <strong>fit</strong>s in <strong>one</strong> context <strong>win</strong>dow</li>
        <li>You have <strong>aut</strong>omated <strong>ver</strong>ification (<strong>tes</strong>ts, <strong>typ</strong>echeck)</li>
        <li>You're <strong>com</strong>fortable with <strong>imp</strong>erfection (<strong>som</strong>e bugs <strong>fix</strong>ed 2-3 <strong>tim</strong>es)</li>
      </ul>
    </div>

    <!-- Final Checkpoint -->
    <div class="callout callout-success" style="margin-top: 40px;">
      <div class="callout-title">Milestone Complete: Ralph Pattern Mastery</div>
      <p><strong>You</strong> now <strong>und</strong>erstand:</p>
      <ul>
        <li>The <strong>cor</strong>e <strong>mec</strong>hanism (<strong>fre</strong>sh <strong>con</strong>text + <strong>ext</strong>ernal <strong>mem</strong>ory)</li>
        <li><strong>Mul</strong>tiple <strong>imp</strong>lementation <strong>opt</strong>ions</li>
        <li><strong>PRD</strong> and <strong>pro</strong>gress <strong>str</strong>ategies</li>
        <li><strong>Tas</strong>k <strong>siz</strong>ing and <strong>ver</strong>ification <strong>req</strong>uirements</li>
        <li><strong>Whe</strong>n <strong>Ral</strong>ph is (<strong>and</strong> isn't) <strong>app</strong>ropriate</li>
      </ul>
      <p><strong>Nex</strong>t steps: <a href="cc-mirror.html">CC Mirror</a> for <strong>mul</strong>ti-agent <strong>orc</strong>hestration, or <a href="gas-town.html">Gas Town</a> for <strong>fac</strong>tory-scale <strong>dev</strong>elopment.</p>
    </div>

    <!-- Related Pages -->
    <div class="related-pages">
      <h3>Related Pages</h3>
      <ul>
        <li><a href="cc-mirror.html">CC Mirror - Multi-Agent Orchestration</a></li>
        <li><a href="gas-town.html">Gas Town - Factory-Scale Agent Architecture</a></li>
        <li><a href="multi-agent-patterns.html">Multi-Agent Patterns Overview</a></li>
      </ul>
    </div>

    <!-- Footer Navigation -->
    <div class="footer-nav">
      <a href="index.html">Back to Orchestration Patterns</a>
      <a href="cc-mirror.html">Next: CC Mirror</a>
    </div>

  </div>
  <script src="../../js/copy-code.js"></script>
</body>
</html>
