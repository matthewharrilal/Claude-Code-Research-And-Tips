<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learning & Feedback Loops - Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
  <div class="container">
    <nav class="nav-breadcrumb">
      <a href="../../index.html">Home</a><span>→</span>
      <a href="../index.html">Foundations</a><span>→</span>
      <a href="index.html">Principles</a><span>→</span>
      Learning Loops
    </nav>

    <div class="you-are-here">
      <h3>You Are Here</h3>
      <p><strong>Context:</strong> <span class="bionic">Sys</span>tems that <span class="bionic">lea</span>rn from previous runs <span class="bionic">out</span>perform systems that start fresh every time. This guide covers the <span class="bionic">Com</span>pounding Ralph pattern and <span class="bionic">feed</span>back loop engineering.</p>
      <p><strong>Prerequisites:</strong> <a href="core.html">Core Principles</a> (especially P2: External State > Internal Memory)</p>
      <p><strong>After this:</strong> <a href="derivation-guide.html">Derivation Guide</a> to create your own patterns.</p>
    </div>

    <h1><span class="bionic">Lea</span>rning & <span class="bionic">Feed</span>back <span class="bionic">Lo</span>op <span class="bionic">Eng</span>ineering</h1>

    <p class="lead">The most powerful insight from Claude Code practitioners: systems that learn from previous runs outperform systems that start fresh every time.</p>

    <!-- Key Insight Box -->
    <div class="callout-insight">
      <h3>Ryan Carson's Key Insight</h3>
      <blockquote>
        "What's amazing is I can ask it to look at previous runs to learn what worked or didn't work (I archive each PRD and user story JSON). So every time I run Ralph, it gets better and better."
        <cite>-- @ryancarson</cite>
      </blockquote>
    </div>

    <!-- Table of Contents -->
    <nav class="toc">
      <h3>Quick Navigation</h3>
      <ul>
        <li><a href="#compounding-pattern">The Compounding Knowledge Pattern</a></li>
        <li><a href="#feedback-types">Feedback Loop Types</a></li>
        <li><a href="#implementation">Implementing Feedback Loops</a></li>
        <li><a href="#measuring">Measuring Improvement</a></li>
        <li><a href="#anti-patterns">Anti-patterns in Learning</a></li>
        <li><a href="#lifecycle">The Compounding Development Lifecycle</a></li>
        <li><a href="#verification">The Verification Imperative</a></li>
        <li><a href="#architecture">Advanced Learning Architecture</a></li>
      </ul>
    </nav>

    <hr class="divider-context">

    <!-- Compounding Pattern -->
    <section id="compounding-pattern">
      <h2><span class="bionic">The</span> <span class="bionic">Com</span>pounding <span class="bionic">Know</span>ledge <span class="bionic">Pat</span>tern</h2>

      <p>This is the <strong>Compounding Ralph</strong> pattern:</p>

      <div class="diagram-container">
        <div class="ascii-diagram">
<pre>
Run 1: Initial attempt
  -> Archive prd.json, learnings
          │
          ▼
Run 2: References Run 1 archives
  -> Better prompts, fewer failures
  -> Archive this run too
          │
          ▼
Run 3: References Runs 1+2
  -> Even better performance
  -> Continues compounding...
</pre>
        </div>
      </div>

      <h3>Why Compounding Works</h3>
      <p>Traditional Ralph starts fresh each session. Compounding Ralph adds:</p>
      <ul>
        <li>Archived PRDs from previous runs</li>
        <li>Archived user story JSONs</li>
        <li>Agent references past successes AND failures</li>
        <li>Patterns discovered in one run inform the next</li>
      </ul>
    </section>

    <hr class="divider-procedure">

    <!-- Feedback Loop Types -->
    <section id="feedback-types">
      <h2><span class="bionic">Feed</span>back <span class="bionic">Lo</span>op <span class="bionic">Ty</span>pes</h2>

      <!-- Type 1: Within-Session -->
      <div class="feedback-type">
        <h3>1. Within-Session Learning</h3>
        <p><strong>Mechanism:</strong> progress.txt accumulation</p>
        <p>Each iteration within a Ralph loop builds on the previous:</p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre># Progress Log

## Codebase Patterns
- Migrations: Use IF NOT EXISTS
- React: useRef&lt;Timeout | null&gt;(null)
- Zod: Always use .optional() explicitly

---

## 2026-01-09 - US-001
- Implemented: Tool skeleton with Zod schema
- Learned: Use orange (#FF6B35) for dark backgrounds
- Files: src/tools/upsert.ts

---

## 2026-01-09 - US-002
- Implemented: Category mapping
- Learned: Schema needed adjustment for optional fields
- Pattern added to Codebase Patterns section above</pre>
        </div>

        <div class="callout-principle">
          <h4>The Codebase Patterns Section</h4>
          <ul>
            <li>Lives at <strong>TOP</strong> of progress.txt</li>
            <li>Accumulates reusable patterns</li>
            <li>Agent reads this <strong>FIRST</strong> each iteration</li>
            <li>By story 10, Ralph knows patterns from stories 1-9</li>
          </ul>
        </div>

        <div class="callout-warning">
          <h4>Critical Rules</h4>
          <ul>
            <li><strong>APPEND ONLY</strong> - never edit previous entries</li>
            <li>Patterns discovered go to the top section</li>
            <li>Learnings compound across iterations</li>
          </ul>
        </div>
      </div>

      <!-- Type 2: Cross-Session -->
      <div class="feedback-type">
        <h3>2. Cross-Session Learning</h3>
        <p><strong>Mechanism:</strong> CLAUDE.md and AGENTS.md</p>

        <h4>CLAUDE.md - Project-Level Knowledge</h4>
        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre># Project: MyApp

## Tech Stack
- Next.js 14, TypeScript, Prisma, PostgreSQL

## Commands
- `npm run dev` - Dev server (port 3000)
- `npm test` - Run Jest tests

## Conventions
- All API routes in src/api/
- Use Zod for validation
- Repository pattern for data access

## Known Gotchas
- Migrations need DEFAULT for existing data
- Use .optional() for nullable Zod fields</pre>
        </div>

        <h4>When to Update CLAUDE.md</h4>
        <ul>
          <li>Permanent patterns discovered</li>
          <li>Critical gotchas that apply to all future work</li>
          <li>Conventions that shouldn't change</li>
        </ul>

        <h4>Git History as Memory</h4>
        <p>The ultimate persistent memory:</p>
        <ul>
          <li>Commits as checkpoints</li>
          <li>Diff as context (what changed)</li>
          <li>History as narrative</li>
          <li>Rollback as safety net</li>
        </ul>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre># Agent reads history for context
git log --oneline -10
git diff main..HEAD</pre>
        </div>
      </div>

      <!-- Type 3: Cross-Run -->
      <div class="feedback-type">
        <h3>3. Cross-Run Learning (Compounding Ralph)</h3>
        <p><strong>Mechanism:</strong> Archives and references</p>

        <h4>Archive Structure</h4>
        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>archives/
├── run-2026-01-05/
│   ├── prd.json
│   ├── progress.txt
│   └── learnings.md
├── run-2026-01-06/
│   ├── prd.json
│   ├── progress.txt
│   └── learnings.md
└── run-2026-01-08/
    └── ...</pre>
        </div>

        <h4>What Gets Archived</h4>
        <table class="data-table">
          <thead>
            <tr>
              <th>Artifact</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>prd.json</td><td>What was attempted, what passed</td></tr>
            <tr><td>progress.txt</td><td>Session learnings, patterns discovered</td></tr>
            <tr><td>learnings.md</td><td>Synthesized insights (optional)</td></tr>
            <tr><td>git commits</td><td>Actual code changes</td></tr>
          </tbody>
        </table>
      </div>

      <!-- Type 4: Cross-Project -->
      <div class="feedback-type">
        <h3>4. Cross-Project Learning (Semantic Memory)</h3>
        <p><strong>Mechanism:</strong> Claude-Mem plugin</p>

        <div class="diagram-container">
          <div class="ascii-diagram">
<pre>
┌─────────────────────────────────────────────┐
│  Claude Code Session                        │
│  └─ Lifecycle Hooks                         │
│       └─ Capture events                     │
└─────────────────────────────────────────────┘
              │
              v
┌─────────────────────────────────────────────┐
│  Worker Service                             │
│  ├─ SQLite DB (raw data)                    │
│  ├─ Chroma Vector DB (embeddings)           │
│  └─ Claude Agent SDK (compression)          │
└─────────────────────────────────────────────┘
              │
              v
┌─────────────────────────────────────────────┐
│  Future Session                             │
│  └─ Auto-inject relevant context            │
└─────────────────────────────────────────────┘
</pre>
          </div>
        </div>

        <h4>How It Works</h4>
        <ol>
          <li><strong>Capture:</strong> Lifecycle hooks log all session events to SQLite</li>
          <li><strong>Compress:</strong> Agent-SDK generates semantic summaries (~50-100 tokens)</li>
          <li><strong>Retrieve:</strong> 3-layer system (search -> timeline -> full details)</li>
          <li><strong>Inject:</strong> Relevant context auto-injected into new sessions</li>
        </ol>
      </div>
    </section>

    <div class="checkpoint">
      <h4 class="checkpoint-header">Checkpoint: Feedback Loop Types</h4>
      <p>You should now understand the four levels:</p>
      <ul>
        <li><strong>Within-Session:</strong> progress.txt accumulation during a Ralph run</li>
        <li><strong>Cross-Session:</strong> CLAUDE.md, AGENTS.md, git history</li>
        <li><strong>Cross-Run:</strong> Archived PRDs and learnings from previous runs</li>
        <li><strong>Cross-Project:</strong> Claude-Mem for knowledge across projects</li>
      </ul>
    </div>

    <hr class="divider-procedure">

    <!-- Implementation -->
    <section id="implementation">
      <h2><span class="bionic">Imp</span>lementing <span class="bionic">Feed</span>back <span class="bionic">Lo</span>ops</h2>

      <h3>The Progress.txt Pattern</h3>
      <p>The heart of within-session learning:</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre># Progress Log - Append Only (NEVER UPDATE)

## Codebase Patterns
- [Accumulated patterns here - grows over time]
- Migrations: IF NOT EXISTS
- React: useRef&lt;Timeout | null&gt;(null)
- Zod: .optional() for nullable fields

## Key Files
- db/schema.ts
- app/auth/actions.ts

---

## 2026-01-09 - US-001
- **What:** Created tool skeleton with Zod schema
- **Files:** src/tools/upsert.ts
- **Learnings:**
  - Use orange for visibility on dark backgrounds
  - Pattern: Validate inputs before database operations

---

## 2026-01-09 - US-002
- **What:** Added category mapping
- **Files:** src/tools/categories.ts, src/types/index.ts
- **Issue:** Zod schema needed adjustment for optional fields
- **Pattern:** Added ".optional() for nullable" to Codebase Patterns</pre>
      </div>

      <h3>The Archive Pattern</h3>
      <p>End-of-run archival for cross-run learning:</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>#!/bin/bash
# archive-run.sh - Run after Ralph completes

DATE=$(date +%Y-%m-%d)
RUN_ID=$(date +%H%M%S)
ARCHIVE_DIR="archives/run-$DATE-$RUN_ID"

mkdir -p "$ARCHIVE_DIR"

# Copy artifacts
cp plans/prd.json "$ARCHIVE_DIR/"
cp plans/progress.txt "$ARCHIVE_DIR/"

# Generate learnings summary
echo "# Learnings from Run $DATE-$RUN_ID" > "$ARCHIVE_DIR/learnings.md"
echo "" >> "$ARCHIVE_DIR/learnings.md"
echo "## Patterns Discovered" >> "$ARCHIVE_DIR/learnings.md"
head -20 plans/progress.txt | grep -A 100 "## Codebase Patterns" >> "$ARCHIVE_DIR/learnings.md"

# Git log for this run
git log --oneline --since="$(date -v-1d +%Y-%m-%d)" >> "$ARCHIVE_DIR/commits.log"

echo "Archived to $ARCHIVE_DIR"</pre>
      </div>

      <h3>The Reference Pattern</h3>
      <p>How the agent uses archives in subsequent runs:</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre># prompt.md - Instructions for Ralph

## Before You Start

1. Review `archives/` folder for recent runs
2. Look at `learnings.md` for patterns that worked
3. Check what failed and why
4. Apply these insights to current work

## Archive Analysis Checklist
- What database patterns were used?
- What validation approaches worked?
- Were there any repeated failures?
- What gotchas were discovered?

## Current Task
[Your PRD here]</pre>
      </div>

      <h3>The CLAUDE.md Update Pattern</h3>
      <p>Promoting learnings from session to permanent:</p>

      <div class="diagram-container">
        <div class="ascii-diagram">
<pre>
progress.txt (session)
        │
        v  "This pattern is reusable"
        │
CLAUDE.md (permanent)
</pre>
        </div>
      </div>

      <h4>Criteria for Promotion</h4>
      <ul>
        <li>Pattern applies to future work (not just this task)</li>
        <li>Gotcha will affect future developers</li>
        <li>Convention should be followed project-wide</li>
      </ul>

      <h4>Process</h4>
      <ol>
        <li>Review progress.txt at end of feature</li>
        <li>Identify patterns worth keeping</li>
        <li>Add to CLAUDE.md in appropriate section</li>
        <li>Remove redundancy from future progress.txt</li>
      </ol>
    </section>

    <hr class="divider-procedure">

    <!-- Measuring Improvement -->
    <section id="measuring">
      <h2><span class="bionic">Mea</span>suring <span class="bionic">Imp</span>rovement</h2>

      <h3>Metrics That Matter</h3>
      <table class="data-table">
        <thead>
          <tr>
            <th>Metric</th>
            <th>How to Measure</th>
            <th>Good Signal</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Iterations per task</td>
            <td>Count Ralph loops</td>
            <td class="status-good">Decreasing over time</td>
          </tr>
          <tr>
            <td>First-attempt success rate</td>
            <td>Tasks passing first try</td>
            <td class="status-good">Increasing</td>
          </tr>
          <tr>
            <td>Time to completion</td>
            <td>Wall clock time</td>
            <td class="status-good">Decreasing</td>
          </tr>
          <tr>
            <td>Pattern reuse</td>
            <td>References to Codebase Patterns</td>
            <td class="status-good">Increasing</td>
          </tr>
          <tr>
            <td>Failure repetition</td>
            <td>Same error appearing</td>
            <td class="status-good">Decreasing</td>
          </tr>
        </tbody>
      </table>

      <h3>Tracking Progress</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre># Run Statistics

## Run 2026-01-05
- Tasks: 5
- Iterations: 12
- First-try passes: 2/5 (40%)
- Time: 45 min

## Run 2026-01-08
- Tasks: 6
- Iterations: 8
- First-try passes: 4/6 (67%)
- Time: 30 min

## Trend: Improving</pre>
      </div>

      <h3>Signs of Successful Compounding</h3>
      <ol>
        <li><strong>Fewer iterations per task</strong> - Agent solves faster</li>
        <li><strong>Reduced failures</strong> - Known patterns avoid mistakes</li>
        <li><strong>Faster completion</strong> - Less exploration needed</li>
        <li><strong>Pattern references</strong> - Agent cites previous learnings</li>
        <li><strong>Smaller progress.txt additions</strong> - Less new to discover</li>
      </ol>
    </section>

    <div class="checkpoint">
      <h4 class="checkpoint-header">Checkpoint: Implementation</h4>
      <p>You should now understand:</p>
      <ul>
        <li>progress.txt is APPEND ONLY with patterns at the top</li>
        <li>Archive runs after completion with archive-run.sh</li>
        <li>Prompt agents to review archives before starting</li>
        <li>Promote session learnings to CLAUDE.md when permanent</li>
        <li>Track metrics to verify compounding is working</li>
      </ul>
    </div>

    <hr class="divider-warning">

    <!-- Anti-patterns in Learning -->
    <section id="anti-patterns">
      <h2><span class="bionic">An</span>ti-<span class="bionic">pat</span>terns in <span class="bionic">Lea</span>rning</h2>

      <div class="anti-pattern-card">
        <h3>1. Not Archiving</h3>
        <p><strong>The Problem:</strong> Every run starts from zero. No compounding. Same mistakes repeated.</p>
        <div class="the-fix">
          <h4>The Fix</h4>
          <p>Archive after every significant run: <code>./archive-run.sh</code></p>
        </div>
      </div>

      <div class="anti-pattern-card">
        <h3>2. Not Referencing Prior Work</h3>
        <p><strong>The Problem:</strong> Agent doesn't read archives. Knowledge exists but isn't used.</p>
        <div class="the-fix">
          <h4>The Fix</h4>
          <p>Explicitly instruct archive review in prompt.md:</p>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>## Required: Review Prior Runs
Before implementing, read:
1. archives/*/learnings.md
2. Most recent progress.txt</pre>
          </div>
        </div>
      </div>

      <div class="anti-pattern-card">
        <h3>3. Over-relying on Session Memory</h3>
        <p><strong>The Problem:</strong> Using context compaction instead of external files. Lossy. Detail lost.</p>
        <div class="the-fix">
          <h4>The Fix</h4>
          <p>Externalize everything:</p>
          <ul>
            <li>progress.txt for learnings</li>
            <li>prd.json for state</li>
            <li>git for code changes</li>
            <li>CLAUDE.md for permanent knowledge</li>
          </ul>
        </div>
      </div>

      <div class="anti-pattern-card">
        <h3>4. Bloated CLAUDE.md</h3>
        <p><strong>The Problem:</strong> Everything promoted to CLAUDE.md. Context window filled with irrelevant history.</p>
        <div class="the-fix">
          <h4>The Fix</h4>
          <p>Keep CLAUDE.md under 500 tokens:</p>
          <ul>
            <li>Only truly permanent patterns</li>
            <li>Essential gotchas only</li>
            <li>Prune regularly</li>
          </ul>
        </div>
      </div>

      <div class="anti-pattern-card">
        <h3>5. Progress.txt Editing</h3>
        <p><strong>The Problem:</strong> Editing previous entries. History lost. Can't trace what happened when.</p>
        <div class="the-fix">
          <h4>The Fix</h4>
          <p><strong>APPEND ONLY.</strong> Never modify. The log is the log.</p>
        </div>
      </div>

      <div class="anti-pattern-card">
        <h3>6. No Verification Loop</h3>
        <p><strong>The Problem:</strong> Agent marks tasks complete without testing. False completion compounds.</p>
        <div class="the-fix">
          <h4>The Fix</h4>
          <p>Always include verification in acceptance criteria:</p>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>{
  "acceptanceCriteria": [
    "Feature works as specified",
    "npm run typecheck passes",
    "npm run test passes"
  ]
}</pre>
          </div>
        </div>
      </div>
    </section>

    <hr class="divider-procedure">

    <!-- The Compounding Development Lifecycle -->
    <section id="lifecycle">
      <h2><span class="bionic">The</span> <span class="bionic">Com</span>pounding <span class="bionic">Dev</span>elopment <span class="bionic">Life</span>cycle</h2>

      <h3>Daily Cycle</h3>
      <div class="diagram-container">
        <div class="ascii-diagram">
<pre>
Morning: Review overnight Ralph output
    |
    v
Midday: Update CLAUDE.md with new learnings
    |
    v
Afternoon: Plan next Ralph run
    |
    v
Evening: Write PRD, start Ralph
    |
    v
Night: Ralph runs autonomously
    |
    v
[Repeat]
</pre>
        </div>
      </div>

      <h3>Weekly Cycle</h3>
      <div class="diagram-container">
        <div class="ascii-diagram">
<pre>
Monday: Review week's archives
    |
    v
Tuesday-Thursday: Run features
    |
    v
Friday: Consolidate learnings
    |
    v
Weekend: Archive cleanup, pattern synthesis
    |
    v
[Next Week: Reference this week's learnings]
</pre>
        </div>
      </div>

      <div class="callout-insight">
        <h4>The Mental Model</h4>
        <blockquote>
          "Think of AI coding as an extremely persistent but context-limited junior developer who works 24/7. You become the product manager/architect. Each run should benefit from all previous runs."
        </blockquote>
      </div>

      <h3>Key Principles</h3>
      <ol>
        <li><strong>Heavy upfront planning</strong> pays massive dividends</li>
        <li><strong>Persistence > perfection</strong> in single prompt (iterate many times)</li>
        <li><strong>Memory via artifacts</strong> (JSON, git, logs) > relying on long context</li>
        <li><strong>Compounding returns</strong> - each run makes the next better</li>
        <li><strong>Parallelization</strong> - run multiple Ralphs simultaneously</li>
      </ol>
    </section>

    <hr class="divider-checkpoint">

    <!-- Verification Imperative -->
    <section id="verification">
      <h2><span class="bionic">The</span> <span class="bionic">Ver</span>ification <span class="bionic">Imp</span>erative</h2>

      <p>Per Boris Cherny (Claude Code creator):</p>
      <blockquote class="callout-principle">
        "Verification feedback loop -> 2-3x quality"
      </blockquote>

      <p><strong>Without verification, learning is corrupted:</strong></p>
      <ul>
        <li>False completions pollute progress.txt</li>
        <li>Bad patterns get archived</li>
        <li>Future runs learn from failures, not successes</li>
      </ul>

      <h3>Verification Hierarchy</h3>
      <table class="data-table">
        <thead>
          <tr>
            <th>Priority</th>
            <th>Method</th>
            <th>Use Case</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1</td><td>Type checking</td><td><code>pnpm typecheck</code> - Always</td></tr>
          <tr><td>2</td><td>Unit tests</td><td><code>pnpm test</code> - For logic</td></tr>
          <tr><td>3</td><td>CI green</td><td>Every commit must pass</td></tr>
          <tr><td>4</td><td>Browser automation</td><td>Playwright for UI</td></tr>
          <tr><td>5</td><td>Manual spot-check</td><td>Human at milestones</td></tr>
        </tbody>
      </table>

      <h3>Verification in PRD</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>{
  "acceptanceCriteria": [
    "Dropdown renders with options: All, Active, Inactive",
    "Selecting option filters list correctly",
    "npm run typecheck passes",
    "npm run test passes",
    "Visual verification via Playwright screenshot"
  ]
}</pre>
      </div>
    </section>

    <hr class="divider-procedure">

    <!-- Advanced Learning Architecture -->
    <section id="architecture">
      <h2><span class="bionic">Adv</span>anced: <span class="bionic">Lea</span>rning <span class="bionic">Arch</span>itecture</h2>

      <h3>The Full Stack</h3>
      <div class="diagram-container">
        <div class="ascii-diagram">
<pre>
┌─────────────────────────────────────────────────────────────┐
│                    SEMANTIC MEMORY                           │
│  (Claude-Mem: Cross-project patterns, long-term knowledge)  │
└─────────────────────────────────────────────────────────────┘
                              ^
                              |
┌─────────────────────────────────────────────────────────────┐
│                    CROSS-RUN ARCHIVES                        │
│  (archives/: PRDs, progress logs, synthesized learnings)    │
└─────────────────────────────────────────────────────────────┘
                              ^
                              |
┌─────────────────────────────────────────────────────────────┐
│                    CROSS-SESSION STATE                       │
│  (CLAUDE.md, AGENTS.md, git history)                        │
└─────────────────────────────────────────────────────────────┘
                              ^
                              |
┌─────────────────────────────────────────────────────────────┐
│                    WITHIN-SESSION LEARNING                   │
│  (progress.txt: append-only, Codebase Patterns section)     │
└─────────────────────────────────────────────────────────────┘
                              ^
                              |
┌─────────────────────────────────────────────────────────────┐
│                    INSTANT FEEDBACK                          │
│  (Tests, typecheck, CI, browser automation)                 │
└─────────────────────────────────────────────────────────────┘
</pre>
        </div>
      </div>

      <h3>Flow Direction</h3>
      <div class="diagram-container">
        <div class="ascii-diagram">
<pre>
Instant Feedback (tests pass/fail)
        |
        v  "This approach works"
Within-Session (progress.txt pattern)
        |
        v  "This pattern is reusable"
Cross-Session (CLAUDE.md update)
        |
        v  "Archive this run's learnings"
Cross-Run Archives
        |
        v  "Query for similar situations"
Semantic Memory (future sessions)
</pre>
        </div>
      </div>
    </section>

    <div class="milestone">
      Learning Loops Complete! You now understand how to build systems that get better with every run.
    </div>

    <!-- Quick Reference -->
    <section id="quick-reference">
      <h2><span class="bionic">Qui</span>ck <span class="bionic">Ref</span>erence: <span class="bionic">Lea</span>rning <span class="bionic">Lo</span>op <span class="bionic">Check</span>list</h2>

      <h3>Before Each Run</h3>
      <ul class="checklist">
        <li>Review recent archives</li>
        <li>Check CLAUDE.md for relevant patterns</li>
        <li>Write PRD with explicit verification criteria</li>
      </ul>

      <h3>During Each Run</h3>
      <ul class="checklist">
        <li>progress.txt updated after each iteration</li>
        <li>Codebase Patterns section maintained</li>
        <li>Git commits after each passing task</li>
      </ul>

      <h3>After Each Run</h3>
      <ul class="checklist">
        <li>Archive PRD, progress, learnings</li>
        <li>Promote key patterns to CLAUDE.md</li>
        <li>Clean up temporary notes</li>
      </ul>

      <h3>Weekly Review</h3>
      <ul class="checklist">
        <li>Consolidate archives</li>
        <li>Synthesize cross-run patterns</li>
        <li>Prune CLAUDE.md if bloated</li>
        <li>Update prompt.md with new instructions</li>
      </ul>
    </section>

    <hr class="divider-context">

    <!-- Summary: The Learning Commandments -->
    <section id="summary">
      <h2><span class="bionic">Sum</span>mary: The <span class="bionic">Lea</span>rning <span class="bionic">Comm</span>andments</h2>

      <ol class="commandment-list">
        <li><strong>Archive everything.</strong> Runs that disappear teach nothing.</li>
        <li><strong>Reference archives.</strong> Knowledge unused is knowledge wasted.</li>
        <li><strong>Append, never edit.</strong> progress.txt is sacred history.</li>
        <li><strong>Verify before logging.</strong> False completions corrupt learning.</li>
        <li><strong>Promote patterns.</strong> Session learnings -> permanent knowledge.</li>
        <li><strong>Prune regularly.</strong> Context is finite; keep only what matters.</li>
        <li><strong>Measure improvement.</strong> If you can't track it, you can't improve it.</li>
        <li><strong>Compound daily.</strong> Each run should benefit from all previous runs.</li>
        <li><strong>External over internal.</strong> Files outlast context windows.</li>
        <li><strong>The agent is stateless.</strong> Memory is architecture, not magic.</li>
      </ol>
    </section>

    <div class="footer-nav">
      <a href="anti-patterns.html">← Anti-Patterns</a>
      <a href="derivation-guide.html">Next: Derivation Guide →</a>
    </div>
  </div>

  
  <script src="../../js/copy-code.js"></script>
</body>
</html>
