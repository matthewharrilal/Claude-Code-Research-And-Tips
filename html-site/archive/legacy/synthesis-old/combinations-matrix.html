<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta data-pagefind-meta="section" content="Synthesis">
  <meta data-pagefind-meta="category" content="Combinations">
  <title>Pattern Combination Matrix - Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/sidebar.css">
  <link rel="stylesheet" href="../css/search.css">
</head>
<body>
  <!-- Search Modal -->
  <div class="search-modal" id="searchModal" aria-hidden="true">
    <div class="search-overlay" onclick="closeSearch()"></div>
    <div class="search-content">
      <div class="search-header">
        <div class="search-input-wrapper">
          <span class="search-icon-input">&#128269;</span>
          <input type="text" id="searchInput" placeholder="Search documentation..." autocomplete="off" />
          <kbd class="search-kbd">ESC</kbd>
        </div>
      </div>
      <div class="search-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="synthesis">Synthesis</button>
        <button class="filter-btn" data-filter="extractions">Extractions</button>
      </div>
      <div class="search-results" id="searchResults">
        <div class="search-empty"><p>Start typing to search... (Press Cmd+K anytime)</p></div>
      </div>
      <div class="search-footer">
        <span>Up/Down Navigate</span><span>Enter Select</span><span>ESC Close</span>
      </div>
    </div>
  </div>

  <button class="search-trigger" onclick="openSearch()" aria-label="Search" style="float: right; margin-bottom: 1rem;">
    <span class="search-icon">Cmd+K</span>
    <span class="search-text">Search</span>
  </button>

  <div class="container">
    <!-- Breadcrumb Navigation -->
    <nav class="nav-breadcrumb">
      <a href="../index.html">Home</a>
      <span>/</span>
      <a href="synthesis-index.html">Synthesis</a>
      <span>/</span>
      <a href="combinations-master.html">Combinations</a>
      <span>/</span>
      <span>Matrix</span>
    </nav>

    <!-- You Are Here Context Box -->
    <div class="you-are-here" style="background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%); border-left: 4px solid #2a7d7d; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
      <h3 style="color: #2a7d7d; margin-top: 0; font-size: 0.9em; text-transform: uppercase; letter-spacing: 0.5px;">You Are Here</h3>
      <p style="margin-bottom: 0;">This is the <strong>master reference for combining Claude Code patterns</strong>. Use this when you've learned individual patterns (Ralph, Hooks, Subagents, etc.) and need to understand which patterns work together, which conflict, and which combinations give the best ROI. Start here before attempting any multi-pattern setup.</p>
    </div>

    <h1><span class="bionic">Pat</span>tern <span class="bionic">Com</span>bination <span class="bionic">Mat</span>rix</h1>

    <p class="conversational-lead">
      A <span class="bionic">com</span>prehensive guide to combining Claude Code power-user patterns for maximum effectiveness.
    </p>

    <!-- Table of Contents -->
    <div class="toc">
      <div class="toc-title">Contents</div>
      <ul>
        <li><a href="#legend">Legend</a></li>
        <li><a href="#quick-reference">Quick Reference Matrix</a></li>
        <li><a href="#detailed-analysis">Detailed Combination Analysis</a></li>
        <li><a href="#roi-matrix">Combination ROI Matrix</a></li>
        <li><a href="#recommendations">Recommended Combinations by Stage</a></li>
        <li><a href="#advanced">Advanced Combinations</a></li>
        <li><a href="#anti-patterns">Anti-Patterns to Avoid</a></li>
        <li><a href="#decision-flowchart">Decision Flowchart</a></li>
        <li><a href="#quick-start">Quick Start Commands</a></li>
        <li><a href="#troubleshooting">Troubleshooting</a></li>
      </ul>
    </div>

    <hr class="section-divider">

    <!-- Legend -->
    <section id="legend">
      <h2><span class="bionic">Leg</span>end</h2>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Rating</th><th>Meaning</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Documented</strong></td><td>Community-validated, documented examples exist</td></tr>
            <tr><td><strong>Synergistic</strong></td><td>Works well, complementary strengths</td></tr>
            <tr><td><strong>Possible</strong></td><td>Can work together with careful setup</td></tr>
            <tr><td><strong>Anti-pattern</strong></td><td>Conflicting approaches, don't combine</td></tr>
            <tr><td><strong>Unexplored</strong></td><td>No known examples, untested</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Quick Reference Matrix -->
    <section id="quick-reference">
      <h2><span class="bionic">Qui</span>ck <span class="bionic">Ref</span>erence <span class="bionic">Mat</span>rix</h2>

      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th></th>
              <th>Ralph Loop</th>
              <th>CC Mirror</th>
              <th>Gas Town</th>
              <th>Hooks</th>
              <th>Subagents</th>
              <th>Git Worktrees</th>
              <th>Claude-Mem</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Ralph Loop</strong></td>
              <td>-</td>
              <td>Possible</td>
              <td>Possible</td>
              <td>Documented</td>
              <td>Documented</td>
              <td>Synergistic</td>
              <td>Synergistic</td>
            </tr>
            <tr>
              <td><strong>CC Mirror</strong></td>
              <td>Possible</td>
              <td>-</td>
              <td>Anti-pattern</td>
              <td>Synergistic</td>
              <td>Documented</td>
              <td>Synergistic</td>
              <td>Unexplored</td>
            </tr>
            <tr>
              <td><strong>Gas Town</strong></td>
              <td>Possible</td>
              <td>Anti-pattern</td>
              <td>-</td>
              <td>Synergistic</td>
              <td>Documented</td>
              <td>Possible</td>
              <td>Unexplored</td>
            </tr>
            <tr>
              <td><strong>Hooks</strong></td>
              <td>Documented</td>
              <td>Synergistic</td>
              <td>Synergistic</td>
              <td>-</td>
              <td>Synergistic</td>
              <td>Documented</td>
              <td>Documented</td>
            </tr>
            <tr>
              <td><strong>Subagents</strong></td>
              <td>Documented</td>
              <td>Documented</td>
              <td>Documented</td>
              <td>Synergistic</td>
              <td>-</td>
              <td>Synergistic</td>
              <td>Unexplored</td>
            </tr>
            <tr>
              <td><strong>Git Worktrees</strong></td>
              <td>Synergistic</td>
              <td>Synergistic</td>
              <td>Possible</td>
              <td>Documented</td>
              <td>Synergistic</td>
              <td>-</td>
              <td>Possible</td>
            </tr>
            <tr>
              <td><strong>Claude-Mem</strong></td>
              <td>Synergistic</td>
              <td>Unexplored</td>
              <td>Unexplored</td>
              <td>Documented</td>
              <td>Unexplored</td>
              <td>Possible</td>
              <td>-</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Detailed Combination Analysis -->
    <section id="detailed-analysis">
      <h2><span class="bionic">Det</span>ailed <span class="bionic">Com</span>bination <span class="bionic">Ana</span>lysis</h2>

      <h3>Ralph Loop + Hooks (Documented)</h3>
      <p><strong>Rating:</strong> Synergistic</p>
      <p><strong>Evidence:</strong> Official Anthropic Ralph Wiggum plugin uses hooks for loop persistence</p>

      <h4>How It Works</h4>
      <ul>
        <li>PreToolUse hooks for notifications (e.g., Poke push notifications)</li>
        <li>Stop hooks for graceful loop termination</li>
        <li>PostToolUse hooks for progress logging</li>
      </ul>

      <h4>Benefits</h4>
      <ul>
        <li>Mobile notifications during AFK runs</li>
        <li>Clean shutdown when human intervention needed</li>
        <li>Automatic progress tracking</li>
      </ul>

      <h4>Example</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Hook triggers push notification when Claude needs input
/ralph-loop "Build auth system" --completion-promise "COMPLETE" --max-iterations 25
# Stop hook fires on SIGTERM, saves state to progress.txt</code></pre>
      </div>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>Ralph Loop + Subagents (Documented)</h3>
      <p><strong>Rating:</strong> Documented</p>
      <p><strong>Evidence:</strong> Matt Pocock's HOTL Ralph pattern, Ryan Carson's production use</p>

      <h4>How It Works</h4>
      <ul>
        <li>Each Ralph iteration can spawn subagents for specific tasks</li>
        <li>Subagents complete, return results, die</li>
        <li>Main loop continues with fresh context</li>
      </ul>

      <h4>Benefits</h4>
      <ul>
        <li>Parallel exploration within sequential loop</li>
        <li>Specialized subagents for specific file types</li>
        <li>Context isolation prevents bloat</li>
      </ul>

      <h4>Example</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>{
  "userStory": "Add authentication",
  "subtasks": [
    {"spawn": "security-auditor", "task": "Review JWT implementation"},
    {"spawn": "test-writer", "task": "Generate auth tests"}
  ]
}</code></pre>
      </div>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>Ralph Loop + Git Worktrees (Synergistic)</h3>
      <p><strong>Rating:</strong> Synergistic</p>
      <p><strong>Evidence:</strong> @0xSero mentioned adding worktrees for parallelization</p>

      <h4>How It Works</h4>
      <ul>
        <li>Multiple Ralph loops run in parallel worktrees</li>
        <li>Each worktree owns a feature branch</li>
        <li>Human merges completed features</li>
      </ul>

      <h4>Benefits</h4>
      <ul>
        <li>Parallel overnight feature development</li>
        <li>No branch conflicts during execution</li>
        <li>Clean merge history</li>
      </ul>

      <h4>Implementation</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Spawn parallel Ralph loops in worktrees
for feature in auth payments notifications; do
  git worktree add ../wt-$feature $feature-branch
  (cd ../wt-$feature && ./ralph.sh 20) &
done
wait</code></pre>
      </div>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>Ralph Loop + Claude-Mem (Synergistic)</h3>
      <p><strong>Rating:</strong> Synergistic</p>
      <p><strong>Evidence:</strong> Logical fit, both solve context persistence differently</p>

      <h4>How It Works</h4>
      <ul>
        <li>Ralph uses file-based state (progress.txt, prd.json)</li>
        <li>Claude-Mem provides semantic project memory</li>
        <li>Combined: Rich context + iteration isolation</li>
      </ul>

      <h4>Benefits</h4>
      <ul>
        <li>New iterations understand project history</li>
        <li>Previous decisions preserved semantically</li>
        <li>Avoids re-explaining codebase</li>
      </ul>

      <div class="callout callout-warning">
        <div class="callout-title">Caution</div>
        <ul>
          <li>May have some redundancy in state tracking</li>
          <li>Claude-Mem's auto-injection could conflict with Ralph's lean prompts</li>
        </ul>
      </div>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>CC Mirror + Hooks (Synergistic)</h3>
      <p><strong>Rating:</strong> Synergistic</p>
      <p><strong>Evidence:</strong> CC Mirror uses hooks for auto-compact notifications</p>

      <h4>How It Works</h4>
      <ul>
        <li>CC Mirror orchestrates multi-agent task graphs</li>
        <li>Hooks provide observability and alerts</li>
        <li>PostToolUse hooks track agent activity</li>
      </ul>

      <h4>Benefits</h4>
      <ul>
        <li>Real-time visibility into parallel agents</li>
        <li>Automatic notifications on task completion</li>
        <li>Context auto-compact integration</li>
      </ul>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>CC Mirror + Subagents (Documented)</h3>
      <p><strong>Rating:</strong> Documented</p>
      <p><strong>Evidence:</strong> Core CC Mirror architecture, official demo</p>

      <h4>How It Works</h4>
      <ul>
        <li>Orchestrator uses Task tool to spawn workers</li>
        <li>Workers are specialized subagents (Haiku, Sonnet, Opus)</li>
        <li>Task dependencies managed via addBlocks/addBlockedBy</li>
      </ul>

      <h4>Tool Ownership</h4>
      <ul>
        <li><strong>Orchestrator:</strong> Task tools, AskUserQuestion, limited Read</li>
        <li><strong>Workers:</strong> Read, Write, Edit, Bash, Glob, Grep</li>
      </ul>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>CC Mirror + Gas Town (Anti-pattern)</h3>
      <p><strong>Rating:</strong> Anti-pattern</p>
      <p><strong>Evidence:</strong> Competing orchestration paradigms</p>

      <h4>Why It Conflicts</h4>
      <ul>
        <li>Both try to be the "conductor"</li>
        <li>Different task graph models (CC Mirror: Linear-style, Gas Town: inbox-based)</li>
        <li>Different agent lifecycle management</li>
        <li>Overlapping role definitions (Deacon vs CC Mirror orchestrator)</li>
      </ul>

      <div class="callout callout-warning">
        <div class="callout-title">Instead</div>
        <ul>
          <li>Choose one orchestration system</li>
          <li>Use CC Mirror for 80% of cases (simpler)</li>
          <li>Use Gas Town only at Stage 7+ (10+ agents)</li>
        </ul>
      </div>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>Subagents + Git Worktrees (Synergistic)</h3>
      <p><strong>Rating:</strong> Synergistic</p>
      <p><strong>Evidence:</strong> AI-Maestro pattern with Docker containers (similar isolation)</p>

      <h4>How It Works</h4>
      <ul>
        <li>Each subagent operates in assigned worktree</li>
        <li>No file conflicts between agents</li>
        <li>Parent orchestrator manages merges</li>
      </ul>

      <h4>Benefits</h4>
      <ul>
        <li>True parallel development</li>
        <li>Atomic feature branches</li>
        <li>Conflict-free execution</li>
      </ul>

      <h4>Implementation</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>spawn_agent() {
  local worktree="./worktrees/agent-$1"
  git worktree add $worktree feature-$1
  claude --worktree $worktree "$2"
}</code></pre>
      </div>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>Hooks + Claude-Mem (Documented)</h3>
      <p><strong>Rating:</strong> Documented</p>
      <p><strong>Evidence:</strong> Claude-Mem uses lifecycle hooks for capture</p>

      <h4>How It Works</h4>
      <ul>
        <li>Claude-Mem installs hooks for: SessionStart, PostToolUse, prompts</li>
        <li>Hooks capture events to SQLite</li>
        <li>Semantic compression runs asynchronously</li>
      </ul>

      <div class="callout callout-insight">
        <div class="callout-title">Key Insight</div>
        <p><strong>This is the foundation:</strong> Claude-Mem is built on hooks</p>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Checkpoint: Understanding the Matrix -->
    <div class="checkpoint" style="background: #f0ebe3; border-left: 4px solid #6b9b7a; border-radius: 8px; padding: 1.5rem; margin: 2rem 0;">
      <div class="checkpoint-header" style="color: #6b9b7a; font-weight: 600;">Checkpoint: Understanding the Matrix</div>
      <p><strong>You should now understand:</strong></p>
      <ul>
        <li>What the 5 compatibility ratings mean (Documented, Synergistic, Possible, Anti-pattern, Unexplored)</li>
        <li>Which patterns are natural complements (high synergy)</li>
        <li>Which patterns conflict and should never be combined</li>
        <li>The basic mechanism of each documented combination</li>
      </ul>
      <p><strong>If unclear:</strong> Re-read the Quick Reference Matrix and Detailed Combination Analysis sections above. For deeper understanding of any specific pattern, see the individual pattern documents in <code>extractions/orchestration/</code>.</p>
    </div>

    <hr class="section-divider">

    <!-- Combination ROI Matrix -->
    <section id="roi-matrix">
      <h2><span class="bionic">Com</span>bination <span class="bionic">ROI</span> <span class="bionic">Mat</span>rix</h2>

      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Combination</th>
              <th>Setup Effort</th>
              <th>Ongoing Effort</th>
              <th>Payoff</th>
              <th>ROI</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Ralph + Hooks</td>
              <td>Low</td>
              <td>None</td>
              <td>High</td>
              <td>5/5</td>
              <td>Push notifications during AFK runs</td>
            </tr>
            <tr>
              <td>Hooks + Subagents</td>
              <td>Low</td>
              <td>Low</td>
              <td>High</td>
              <td>5/5</td>
              <td>Observable multi-agent workflows</td>
            </tr>
            <tr>
              <td>Subagents + Worktrees</td>
              <td>Medium</td>
              <td>Low</td>
              <td>High</td>
              <td>4/5</td>
              <td>True parallel feature development</td>
            </tr>
            <tr>
              <td>Ralph + Worktrees</td>
              <td>Medium</td>
              <td>Low</td>
              <td>High</td>
              <td>4/5</td>
              <td>Parallel overnight loops</td>
            </tr>
            <tr>
              <td>CC Mirror + Hooks</td>
              <td>Low</td>
              <td>None</td>
              <td>High</td>
              <td>4/5</td>
              <td>Built-in observability</td>
            </tr>
            <tr>
              <td>CC Mirror + Subagents</td>
              <td>None</td>
              <td>Low</td>
              <td>High</td>
              <td>5/5</td>
              <td>Already integrated</td>
            </tr>
            <tr>
              <td>Ralph + Claude-Mem</td>
              <td>Medium</td>
              <td>None</td>
              <td>Medium</td>
              <td>3/5</td>
              <td>Redundant state tracking possible</td>
            </tr>
            <tr>
              <td>CC Mirror + Worktrees</td>
              <td>Medium</td>
              <td>Medium</td>
              <td>High</td>
              <td>3/5</td>
              <td>Requires custom integration</td>
            </tr>
            <tr>
              <td>Gas Town + Hooks</td>
              <td>Medium</td>
              <td>Low</td>
              <td>High</td>
              <td>3/5</td>
              <td>Complex but powerful</td>
            </tr>
            <tr>
              <td>Gas Town + Subagents</td>
              <td>High</td>
              <td>Medium</td>
              <td>Very High</td>
              <td>3/5</td>
              <td>Full agent factory (Stage 7+)</td>
            </tr>
            <tr>
              <td>Claude-Mem + Worktrees</td>
              <td>Medium</td>
              <td>Medium</td>
              <td>Medium</td>
              <td>2/5</td>
              <td>Needs testing for concurrency</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Recommended First Combinations -->
    <section id="recommendations">
      <h2><span class="bionic">Rec</span>ommended <span class="bionic">Com</span>binations by <span class="bionic">Sta</span>ge</h2>

      <h3>For Beginners (Stage 1-3)</h3>

      <h4>1. Hooks + HUD Plugin</h4>
      <ul>
        <li>Install claude-hud for visibility</li>
        <li>Add PreToolUse hook for notifications</li>
        <li>Zero code required</li>
      </ul>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>/plugin install claude-hud</code></pre>
      </div>

      <h4>2. Subagents Only</h4>
      <ul>
        <li>Use Task tool for parallel work</li>
        <li>Let Claude manage spawning</li>
        <li>Simplest multi-agent entry point</li>
      </ul>

      <h3>For Intermediate Users (Stage 4-5)</h3>

      <h4>1. Ralph + Hooks</h4>
      <ul>
        <li>Run overnight feature loops</li>
        <li>Get notified when done</li>
        <li>File-based state management</li>
        <li><em>Setup time: 30 minutes</em></li>
      </ul>

      <h4>2. Subagents + Worktrees</h4>
      <ul>
        <li>Parallel feature development</li>
        <li>No merge conflicts during work</li>
        <li>Human reviews and merges</li>
        <li><em>Setup time: 1 hour</em></li>
      </ul>

      <h4>3. CC Mirror + Hooks</h4>
      <ul>
        <li>Native orchestration unlocked</li>
        <li>Observable agent activity</li>
        <li>Covers 80% of multi-agent needs</li>
        <li><em>Setup time: 15 minutes</em></li>
      </ul>

      <h3>For Advanced Users (Stage 6-7)</h3>

      <h4>1. Ralph + Worktrees + Hooks</h4>
      <ul>
        <li>Multiple parallel Ralph loops</li>
        <li>Push notifications per loop</li>
        <li>Ship multiple features overnight</li>
        <li><em>Setup time: 2 hours</em></li>
      </ul>

      <h4>2. CC Mirror + Subagents + Worktrees</h4>
      <ul>
        <li>Full orchestration with isolation</li>
        <li>Model-appropriate task routing</li>
        <li>Production-grade parallel work</li>
        <li><em>Setup time: 2-3 hours</em></li>
      </ul>

      <h4>3. Claude-Mem + Any Pattern</h4>
      <ul>
        <li>Persistent project memory</li>
        <li>Reduces context re-explanation</li>
        <li>Worth adding to any workflow</li>
        <li><em>Setup time: 30 minutes</em></li>
      </ul>
    </section>

    <hr class="section-divider">

    <!-- Advanced Combinations -->
    <section id="advanced">
      <h2><span class="bionic">Adv</span>anced <span class="bionic">Com</span>binations</h2>

      <h3>The Full Stack (Stage 7+)</h3>
      <p><strong>Pattern:</strong> Ralph + CC Mirror (alternating) + Worktrees + Hooks + Claude-Mem</p>

      <h4>How It Works</h4>
      <ol>
        <li>Claude-Mem provides project memory</li>
        <li>CC Mirror orchestrates daytime interactive work</li>
        <li>Ralph loops run overnight on separate worktrees</li>
        <li>Hooks notify human of completion/blocks</li>
        <li>Human reviews and merges in morning</li>
      </ol>

      <p><strong>Cost:</strong> High setup, high payoff</p>
      <p><strong>Best for:</strong> Solo devs or small teams shipping fast</p>

      <hr style="border: 1px dashed #e0d5c5; margin: 2rem 0;">

      <h3>The Gas Town Stack (Stage 8)</h3>
      <p><strong>Pattern:</strong> Gas Town + Full Agent Hierarchy</p>

      <h4>Prerequisites</h4>
      <ul>
        <li>10+ agent experience</li>
        <li>Comfortable with chaos</li>
        <li>Significant budget ($50-200/day)</li>
        <li>Tmux as primary UI</li>
      </ul>

      <h4>Architecture</h4>
      <div class="ascii-diagram">
HQ (town-level management)
+-- Mayor (coordination)
+-- Deacon (monitoring via hooks)
+-- Dogs (quality gates)
+-- Refinery (task decomposition)
+-- Rigs (project repos with Witnesses)
|   +-- Polecats (persistent workers)
|   +-- Crew (ephemeral workers)
+-- Overseer (YOU with inbox)
      </div>

      <blockquote>
        <p>"If you have any doubt whatsoever, then you can't use it"</p>
        <cite>-- Steve Yegge</cite>
      </blockquote>
    </section>

    <hr class="section-divider">

    <!-- Anti-Patterns to Avoid -->
    <section id="anti-patterns">
      <h2><span class="bionic">Ant</span>i-Patterns to <span class="bionic">Avo</span>id</h2>

      <h3>1. CC Mirror + Gas Town</h3>
      <p><strong>Why:</strong> Competing orchestrators fight for control</p>

      <h3>2. Multiple Orchestrators</h3>
      <p><strong>Why:</strong> Conflicting task graphs, agent confusion</p>

      <h3>3. Ralph + CC Mirror (Simultaneous)</h3>
      <p><strong>Why:</strong> Both try to manage iteration state</p>

      <h3>4. Deep Subagent Nesting (>3 levels)</h3>
      <p><strong>Why:</strong> Context loss, coordination overhead, cost explosion</p>

      <h3>5. Claude-Mem + Very Short Sessions</h3>
      <p><strong>Why:</strong> Overhead exceeds benefit for quick tasks</p>

      <h3>6. Worktrees Without Merge Strategy</h3>
      <p><strong>Why:</strong> Features diverge, merge becomes nightmare</p>
    </section>

    <hr class="section-divider">

    <!-- Decision Flowchart -->
    <section id="decision-flowchart">
      <h2><span class="bionic">Dec</span>ision <span class="bionic">Flo</span>wchart</h2>

      <div class="ascii-diagram">
What's your use case?
|
+-- Single overnight feature
|   +-- Ralph + Hooks
|
+-- Multiple parallel features
|   +-- Ralph + Worktrees + Hooks
|
+-- Interactive multi-agent work
|   +-- CC Mirror + Subagents
|
+-- Complex project with memory
|   +-- Claude-Mem + (Ralph or CC Mirror)
|
+-- Mobile-first development
|   +-- Worktrees + Hooks (Poke) + Cloud VM
|
+-- 10+ agents, factory-scale
|   +-- Gas Town (if Stage 7+)
|
+-- Just starting out?
    +-- Subagents only -> add Hooks -> add HUD
      </div>
    </section>

    <hr class="section-divider">

    <!-- Quick Start Commands -->
    <section id="quick-start">
      <h2><span class="bionic">Qui</span>ck <span class="bionic">Sta</span>rt <span class="bionic">Com</span>mands</h2>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Basic observability
/plugin install claude-hud

# Memory persistence
/plugin marketplace add thedotmack/claude-mem
/plugin install claude-mem

# CC Mirror orchestration
npx cc-mirror quick --provider mirror --name mclaude

# Ralph loop
./ralph.sh 25

# Git worktree for parallel agent
git worktree add ../worktrees/feature-x feature-x-branch

# tmux agent manager (for multiple instances)
cargo install rpai && rpai</code></pre>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Troubleshooting -->
    <section id="troubleshooting">
      <h2><span class="bionic">Tro</span>ubleshooting</h2>

      <details class="troubleshoot">
        <summary>Pattern Combination Not Working</summary>
        <div>
          <p><strong>Symptom:</strong> You've combined two patterns but aren't seeing the expected synergy - they seem to interfere with each other.</p>
          <p><strong>Cause:</strong> Often this happens when both patterns try to manage the same resource (context, files, state) without coordination.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>Check if both patterns are writing to the same files (e.g., both using progress.txt)</li>
            <li>Verify that hooks aren't conflicting (multiple PostToolUse hooks on same matcher)</li>
            <li>Ensure only one orchestration system is active (CC Mirror OR Gas Town, never both)</li>
          </ol>
          <div class="code-block">
            <pre><code># Debug: Check what hooks are active
cat ~/.claude/settings.json | jq '.hooks'

# Debug: Check for file conflicts
ls -la *.txt *.json *.md | grep -E "(progress|prd|state)"</code></pre>
          </div>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Context Explosion in Multi-Pattern Setup</summary>
        <div>
          <p><strong>Symptom:</strong> Context fills up rapidly (80%+ in HUD) when using multiple patterns together.</p>
          <p><strong>Cause:</strong> Each pattern adds context overhead. Memory patterns (Claude-Mem) + rich state files (progress.txt) + verbose hooks = context bloat.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>Use subagents to isolate expensive operations</li>
            <li>Keep progress.txt lean (append only key learnings)</li>
            <li>Configure Claude-Mem to inject only on-demand, not automatically</li>
            <li>Use fresh context (Ralph pattern) if context exceeds 70%</li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Hooks Not Firing for Subagent Operations</summary>
        <div>
          <p><strong>Symptom:</strong> PostToolUse hooks work for main agent but not for spawned subagents.</p>
          <p><strong>Cause:</strong> Subagents may run in isolated contexts where project-level hooks aren't inherited.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>Configure hooks at the global level (<code>~/.claude/settings.json</code>) not project level</li>
            <li>Verify subagent inherits hook configuration</li>
            <li>Consider using CC Mirror which has built-in hook integration for workers</li>
          </ol>
          <div class="code-block">
            <pre><code># Global hooks (applies to all sessions including subagents)
cat ~/.claude/settings.json

# Project hooks (may not apply to subagents)
cat .claude/settings.json</code></pre>
          </div>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>CC Mirror and Gas Town Confusion</summary>
        <div>
          <p><strong>Symptom:</strong> You're trying to use both orchestration systems and agents are receiving conflicting instructions.</p>
          <p><strong>Cause:</strong> These are competing paradigms. CC Mirror uses TaskCreate/TaskUpdate. Gas Town uses inbox-based coordination. They cannot coexist.</p>
          <p><strong>Fix:</strong></p>
          <ul>
            <li><strong>CC Mirror:</strong> For 80% of multi-agent use cases, simpler setup</li>
            <li><strong>Gas Town:</strong> Only for 10+ agent scenarios at Stage 7+</li>
          </ul>
          <p>Never mix them. If transitioning, fully remove one before implementing the other.</p>
        </div>
      </details>
    </section>

    <hr class="section-divider">

    <!-- Related Pages -->
    <div class="related-pages">
      <h3>Related Combinations Documents</h3>
      <ul>
        <li><a href="combinations-extensions.html">Extension Combinations</a> - Plugin and MCP combinations</li>
        <li><a href="combinations-pairwise.html">Pairwise Combinations</a> - Deep dive on two-pattern synergies</li>
        <li><a href="combinations-triple-plus.html">Triple+ Stacks</a> - Advanced multi-pattern setups</li>
        <li><a href="combinations-unexplored.html">Unexplored Territory</a> - Frontier pattern ideas</li>
      </ul>
    </div>

    <!-- Footer Navigation -->
    <nav class="footer-nav">
      <a href="combinations-extensions.html" class="nav-prev">
        <span class="nav-direction">Previous</span>
        <span class="nav-title">Extensions</span>
      </a>
      <a href="combinations-pairwise.html" class="nav-next">
        <span class="nav-direction">Next</span>
        <span class="nav-title">Pairwise Combinations</span>
      </a>
    </nav>

    <!-- Tags -->
    <div style="margin-top: 2rem;">
      <span class="tag">#combinations</span>
      <span class="tag">#patterns</span>
      <span class="tag">#ralph</span>
      <span class="tag">#cc-mirror</span>
      <span class="tag">#gas-town</span>
      <span class="tag">#hooks</span>
      <span class="tag">#subagents</span>
      <span class="tag">#git-worktrees</span>
      <span class="tag">#claude-mem</span>
      <span class="tag">#orchestration</span>
      <span class="tag">#multi-agent</span>
      <span class="tag">#decision-guide</span>
      <span class="tag">#roi-matrix</span>
    </div>
  </div>

  <script src="../js/copy-code.js"></script>
  <script src="../js/search.js"></script>
  <script src="../js/global-nav.js"></script>
</body>
</html>
