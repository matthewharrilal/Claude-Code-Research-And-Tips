<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta data-pagefind-meta="section" content="Synthesis">
  <meta data-pagefind-meta="category" content="Combinations">
  <title>Community Extensions as Composition Layer - Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/sidebar.css">
  <link rel="stylesheet" href="../css/search.css">
</head>
<body>
  <!-- Search Modal -->
  <div class="search-modal" id="searchModal" aria-hidden="true">
    <div class="search-overlay" onclick="closeSearch()"></div>
    <div class="search-content">
      <div class="search-header">
        <div class="search-input-wrapper">
          <span class="search-icon-input">&#128269;</span>
          <input type="text" id="searchInput" placeholder="Search documentation..." autocomplete="off" />
          <kbd class="search-kbd">ESC</kbd>
        </div>
      </div>
      <div class="search-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="synthesis">Synthesis</button>
        <button class="filter-btn" data-filter="extractions">Extractions</button>
      </div>
      <div class="search-results" id="searchResults">
        <div class="search-empty"><p>Start typing to search... (Press Cmd+K anytime)</p></div>
      </div>
      <div class="search-footer">
        <span>Up/Down Navigate</span><span>Enter Select</span><span>ESC Close</span>
      </div>
    </div>
  </div>

  <button class="search-trigger" onclick="openSearch()" aria-label="Search" style="float: right; margin-bottom: 1rem;">
    <span class="search-icon">Cmd+K</span>
    <span class="search-text">Search</span>
  </button>

  <div class="container">
    <!-- Breadcrumb Navigation -->
    <nav class="nav-breadcrumb">
      <a href="../index.html">Home</a>
      <span>/</span>
      <a href="synthesis-index.html">Synthesis</a>
      <span>/</span>
      <a href="combinations-master.html">Combinations</a>
      <span>/</span>
      <span>Extensions</span>
    </nav>

    <!-- You Are Here Context Box -->
    <div class="you-are-here" style="background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%); border-left: 4px solid #2a7d7d; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
      <h3 style="color: #2a7d7d; margin-top: 0; font-size: 0.9em; text-transform: uppercase; letter-spacing: 0.5px;">You Are Here</h3>
      <p style="margin-bottom: 0;">This is your guide to the <strong>Claude Code extension ecosystem</strong>. Extensions (plugins, MCP servers, community tools) are the building blocks that make advanced patterns possible. Read this to understand what tools are available, how to install them, and how they combine to create powerful workflows.</p>
    </div>

    <h1><span class="bionic">Com</span>munity <span class="bionic">Ext</span>ensions as <span class="bionic">Com</span>position <span class="bionic">Lay</span>er</h1>

    <p class="conversational-lead">
      <span class="bionic">Ext</span>ensions transform Claude Code from a single-agent tool into a <span class="bionic">com</span>posable platform. This document maps the extension ecosystem and establishes patterns for combining extensions as building blocks.
    </p>

    <!-- Table of Contents -->
    <div class="toc">
      <div class="toc-title">Contents</div>
      <ul>
        <li><a href="#plugin-ecosystem">Plugin Ecosystem Overview</a></li>
        <li><a href="#visualization">Visualization Extensions (Claude HUD)</a></li>
        <li><a href="#memory">Memory Extensions (Claude-Mem)</a></li>
        <li><a href="#workflow">Workflow Extensions (Code-Simplifier, Ralph)</a></li>
        <li><a href="#multi-agent">Multi-Agent Extensions (CC Mirror, Infinite Orchestra)</a></li>
        <li><a href="#mcp-servers">MCP Servers</a></li>
        <li><a href="#monitoring">Monitoring Extensions (rpai)</a></li>
        <li><a href="#primitives">Extensions as Primitives</a></li>
        <li><a href="#composition-patterns">Extension Composition Patterns</a></li>
        <li><a href="#proven-combos">Proven Extension Combinations</a></li>
        <li><a href="#building-custom">Building Custom Extensions</a></li>
        <li><a href="#gaps">Extension Gaps</a></li>
        <li><a href="#quick-reference">Quick Reference</a></li>
        <li><a href="#troubleshooting">Troubleshooting</a></li>
      </ul>
    </div>

    <hr class="section-divider">

    <!-- Plugin Ecosystem Overview -->
    <section id="plugin-ecosystem">
      <h2><span class="bionic">Plu</span>gin <span class="bionic">Eco</span>system <span class="bionic">Ove</span>rview</h2>

      <h3>Ecosystem Tiers</h3>
      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Tier</th><th>Description</th><th>Examples</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Official Anthropic</strong></td><td>Maintained by Claude Code team</td><td>code-simplifier, ralph-wiggum</td></tr>
            <tr><td><strong>Community Marketplace</strong></td><td>Installable via <code>/plugin marketplace</code></td><td>claude-mem, claude-hud</td></tr>
            <tr><td><strong>Standalone Tools</strong></td><td>External utilities that complement Claude Code</td><td>rpai, CC Mirror, Infinite Orchestra</td></tr>
            <tr><td><strong>MCP Servers</strong></td><td>Protocol-compliant tool integrations</td><td>filesystem, github, memory, fetch</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Installation Patterns</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Official plugins
/plugin install code-simplifier

# Marketplace plugins
/plugin marketplace add jarrodwatts/claude-hud
/plugin install claude-hud

# MCP servers (in settings.json)
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": { "GITHUB_PERSONAL_ACCESS_TOKEN": "..." }
    }
  }
}</code></pre>
      </div>

      <h3>Plugin Discovery Resources</h3>
      <ul>
        <li><strong>Sub-Agents Directory:</strong> https://sub-agents.directory (200+ prompts)</li>
        <li><strong>MCP Server Registry:</strong> https://mcp.so, https://smithery.ai</li>
        <li><strong>VoltAgent Collection:</strong> github.com/VoltAgent/awesome-claude-code-subagents</li>
      </ul>
    </section>

    <hr class="section-divider">

    <!-- Visualization Extensions -->
    <section id="visualization">
      <h2><span class="bionic">Vis</span>ualization <span class="bionic">Ext</span>ensions</h2>

      <h3>Claude HUD (@jarrodwatts)</h3>
      <p><strong>Repo:</strong> github.com/jarrodwatts/claude-hud (1.8K stars)</p>
      <p>Real-time visibility into Claude Code sessions.</p>

      <h4>What It Shows</h4>
      <ul>
        <li>Context percentage with color-coded bar (green/yellow/red)</li>
        <li>Model in use, plan tier, session duration</li>
        <li>Tool activity (spinners for running, checkmarks for complete)</li>
        <li>Subagent status and elapsed time</li>
        <li>Todo progress counter</li>
      </ul>

      <h4>Installation</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>/plugin marketplace add jarrodwatts/claude-hud
/plugin install claude-hud
/claude-hud:setup</code></pre>
      </div>

      <h4>Configuration (Full Layout)</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>{
  "layout": "default",
  "display": {
    "showModel": true,
    "showContextBar": true,
    "showConfigCounts": true,
    "showDuration": true,
    "showTools": true,
    "showAgents": true,
    "showTodos": true
  }
}</code></pre>
      </div>

      <h4>Sample Output</h4>
      <div class="code-block">
        <pre><code>[Opus 4.5] ########-- 35% | 1 MCPs | timer 1m
check Read x2 | check WebFetch x1 | check Edit x1</code></pre>
      </div>

      <h4>Use in Compositions</h4>
      <ul>
        <li>Monitor Ralph loops for context exhaustion</li>
        <li>Debug multi-agent workflows</li>
        <li>Track token budget during long sessions</li>
      </ul>
    </section>

    <hr class="section-divider">

    <!-- Memory Extensions -->
    <section id="memory">
      <h2><span class="bionic">Mem</span>ory <span class="bionic">Ext</span>ensions</h2>

      <h3>Claude-Mem (@thedotmack)</h3>
      <p><strong>Repo:</strong> github.com/thedotmack/claude-mem</p>
      <p>Persistent memory across sessions via semantic compression.</p>

      <h4>Key Stats</h4>
      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Metric</th><th>Improvement</th></tr>
          </thead>
          <tbody>
            <tr><td>Token usage</td><td>Up to 95% fewer per session</td></tr>
            <tr><td>Tool calls before limit</td><td>~20x more</td></tr>
            <tr><td>Storage</td><td>Local SQLite + Chroma vector DB</td></tr>
          </tbody>
        </table>
      </div>

      <h4>Architecture</h4>
      <div class="ascii-diagram">
Claude Code Session
  -> Lifecycle Hooks capture events
    -> Worker Service (port 37777)
      -> SQLite (raw data)
      -> Chroma Vector DB (embeddings)
      -> Claude Agent SDK (compression)
    -> Future Session
      -> Auto-inject relevant context
      </div>

      <h4>Installation</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>/plugin marketplace add thedotmack/claude-mem
/plugin install claude-mem
# Restart Claude Code</code></pre>
      </div>

      <h4>3-Layer Retrieval System</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>// Layer 1: Compact search
search(query="authentication bug", type="bugfix", limit=10)

// Layer 2: Chronological snippets
timeline()

// Layer 3: Full details (always batch!)
get_observations(ids=[123, 456])</code></pre>
      </div>

      <h4>Privacy Controls</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>&lt;private&gt;
API_KEY=sk-xxx
DATABASE_PASSWORD=secret
&lt;/private&gt;</code></pre>
      </div>

      <h4>Use in Compositions</h4>
      <ul>
        <li>Long-term project continuity</li>
        <li>Multi-session feature development</li>
        <li>Team knowledge persistence</li>
      </ul>
    </section>

    <hr class="section-divider">

    <!-- Workflow Extensions -->
    <section id="workflow">
      <h2><span class="bionic">Wor</span>kflow <span class="bionic">Ext</span>ensions</h2>

      <h3>Code-Simplifier (@bcherny - Official Anthropic)</h3>
      <p><strong>Repo:</strong> github.com/anthropics/claude-plugins-official</p>
      <p>The actual tool the Claude Code team uses internally for code polish.</p>

      <h4>Installation</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>/plugin marketplace update claude-plugins-official
/plugin install code-simplifier</code></pre>
      </div>

      <h4>Usage</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>Use the code simplifier agent to clean up this code
# or
Use code-simplifier on this PR</code></pre>
      </div>

      <h4>What It Does</h4>
      <ul>
        <li>Simplifies code structure</li>
        <li>Reduces unnecessary complexity and nesting</li>
        <li>Eliminates redundant code and abstractions</li>
        <li>Improves variable and function names</li>
        <li>Removes obvious comments</li>
        <li><strong>Preserves functionality</strong> (stylistic changes only)</li>
      </ul>

      <h4>Key Rules</h4>
      <ul>
        <li>Clarity + explicitness > brevity + cleverness</li>
        <li>Avoid nested ternaries - use switch/if-else</li>
        <li>Focus on recently modified code only</li>
      </ul>

      <h4>Workflow Pattern</h4>
      <div class="ascii-diagram">
Feature Agent -> Implementation Agent -> Test Agent -> Code-Simplifier -> Commit
      </div>

      <h3>Ralph Wiggum Plugin (Official)</h3>
      <p><strong>Location:</strong> github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum</p>
      <p>Self-referential loop for autonomous task completion.</p>

      <h4>Quick Start</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>/ralph-loop "Build a REST API for todos. Requirements: CRUD operations, input validation, tests. Output &lt;promise&gt;COMPLETE&lt;/promise&gt; when done." --completion-promise "COMPLETE" --max-iterations 50</code></pre>
      </div>

      <h4>How It Works</h4>
      <ol>
        <li>You run <code>/ralph-loop</code> once with task description</li>
        <li>Claude Code works on task</li>
        <li>Stop hook blocks exit</li>
        <li>Stop hook feeds SAME prompt back</li>
        <li>Repeats until completion promise found</li>
      </ol>

      <h4>Best Practices</h4>
      <ul>
        <li>Clear completion criteria (not "make it good")</li>
        <li>Incremental goals (phases, not monoliths)</li>
        <li>Self-correction instructions (TDD pattern)</li>
        <li>Escape hatches (<code>--max-iterations</code>)</li>
      </ul>

      <h4>Ralph Variants</h4>
      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Variant</th><th>Author</th><th>Purpose</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Marathon Ralph</strong></td><td>@gruckion</td><td>Full SDLC with E2E tests</td></tr>
            <tr><td><strong>Dr. Ralph</strong></td><td>@MikeEndale</td><td>Confidence thresholds (80%+ to advance)</td></tr>
            <tr><td><strong>Lisa</strong></td><td>@Arakiss</td><td>Enhanced logging + progress tracking</td></tr>
            <tr><td><strong>Zeroshot</strong></td><td>@covibes</td><td>"Next gen version"</td></tr>
            <tr><td><strong>Ralph Marketer</strong></td><td>@koylanai</td><td>Self-critiquing content loop</td></tr>
            <tr><td><strong>Ralph Orchestrator</strong></td><td>@mikeyobrien</td><td>Multi-agent coordination</td></tr>
            <tr><td><strong>Rate-Limited Ralph</strong></td><td>@ghuntley</td><td>API rate limit handling</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Multi-Agent Extensions -->
    <section id="multi-agent">
      <h2><span class="bionic">Mul</span>ti-Agent <span class="bionic">Ext</span>ensions</h2>

      <h3>CC Mirror (@nummanali)</h3>
      <p><strong>Repo:</strong> github.com/numman-ali/cc-mirror</p>
      <p>Unlocks Claude Code's disabled multi-agent orchestration feature.</p>

      <h4>Setup (3 commands)</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>npx cc-mirror quick --provider mirror --name mclaude
mclaude
"Load the orchestration skill and initiate"</code></pre>
      </div>

      <h4>What You Get</h4>
      <ul>
        <li>Agents break down tasks</li>
        <li>Track dependencies/blockers</li>
        <li>Collaborate on implementation</li>
        <li>Natural language direction</li>
      </ul>

      <h4>Sample Output</h4>
      <div class="code-block">
        <pre><code>Agent #1 completed! It chose FastAPI (Python)

Task List:
[x] #1 Design API architecture
[ ] #2 Create project structure
[ ] #3 Implement data models
[blocked] #4 Implement REST API endpoints (blocked by #3)</code></pre>
      </div>

      <h4>Provider Options</h4>
      <ul>
        <li><code>mirror</code> - Default, reflects Claude's internal primitives</li>
        <li><code>GLM-4.7</code> - Handles multi-agent coordination well</li>
        <li>OpenRouter, LiteLLM, others</li>
      </ul>

      <h3>Infinite Orchestra (@0xSero)</h3>
      <p><strong>Repo:</strong> github.com/0xSero/orchestra</p>
      <p>Self-improving orchestrator running 24/7 in Docker.</p>

      <h4>Architecture</h4>
      <div class="ascii-diagram">
Central Orchestrator
  -> Monitors idle + activity
  -> Triggers self-improvement
      |
      v
Specialized Workers
  - Coder (Implementation)
  - Architect (Design)
  - Research (Investigation)
  - Memory (Context persistence)
      |
      v
Docker Container
  - Isolation from host
  - 24/7 operation
  - Resource limits
      </div>

      <p><strong>Key Demo:</strong> Set goal to "improve itself" -> it added Docker containerization to prevent destroying host machine.</p>
    </section>

    <hr class="section-divider">

    <!-- MCP Servers -->
    <section id="mcp-servers">
      <h2><span class="bionic">MCP</span> <span class="bionic">Ser</span>vers</h2>

      <h3>Official Reference Servers</h3>
      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Server</th><th>Package</th><th>Purpose</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Filesystem</strong></td><td><code>@modelcontextprotocol/server-filesystem</code></td><td>Secure file operations</td></tr>
            <tr><td><strong>Git</strong></td><td><code>mcp-server-git</code> (Python)</td><td>Repository operations</td></tr>
            <tr><td><strong>GitHub</strong></td><td><code>@modelcontextprotocol/server-github</code></td><td>Issues, PRs, repos</td></tr>
            <tr><td><strong>Memory</strong></td><td><code>@modelcontextprotocol/server-memory</code></td><td>Knowledge graph persistence</td></tr>
            <tr><td><strong>Fetch</strong></td><td><code>@modelcontextprotocol/server-fetch</code></td><td>Web content fetching</td></tr>
            <tr><td><strong>Sequential Thinking</strong></td><td><code>@modelcontextprotocol/server-sequential-thinking</code></td><td>Reflective problem-solving</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Browser Automation</h3>

      <h4>Puppeteer Server</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>{
  "mcpServers": {
    "puppeteer": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-puppeteer"]
    }
  }
}</code></pre>
      </div>

      <p><strong>Playwright Integration:</strong> Used heavily in Ralph + Opus 4.5 combinations for UI verification.</p>

      <p><strong>Browserbase Cloud (@pk_iv):</strong> MCP -> CDP translation layer for remote browser execution. Solves security risks of local browser automation.</p>

      <div class="ascii-diagram">
Claude Code (MCP Client)
    -> Binary Protocol
    -> Intercepting Server (MCP -> CDP Translation)
    -> Browserbase Cloud Browsers
      </div>

      <h3>Database Servers</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>{
  "mcpServers": {
    "sqlite": {
      "command": "uvx",
      "args": ["mcp-server-sqlite", "--db-path", "/path/to/data.db"]
    },
    "postgres": {
      "command": "uvx",
      "args": ["mcp-server-postgres"],
      "env": { "DATABASE_URL": "postgresql://user:pass@host:5432/db" }
    }
  }
}</code></pre>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Monitoring Extensions -->
    <section id="monitoring">
      <h2><span class="bionic">Mon</span>itoring <span class="bionic">Ext</span>ensions</h2>

      <h3>rpai - Multi-Agent Dashboard (@radoslav11)</h3>
      <p>TUI tool for tmux that monitors multiple parallel AI agents.</p>

      <h4>Installation</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>cargo install rpai
rpai  # Run in tmux session</code></pre>
      </div>

      <h4>What It Does</h4>
      <ul>
        <li>Scans tmux panes for running agents (Claude, Cursor, Codex)</li>
        <li>Displays TUI with agent list, status, output previews</li>
        <li>Jump to any agent with selection</li>
        <li>Mouse support</li>
      </ul>

      <h4>Sample View</h4>
      <div class="code-block">
        <pre><code>+-------------------------------------------+
|  RPAI - Agent Monitor                      |
+-------------------------------------------+
|  [1] CURSOR AGENT    ====== running        |
|  [2] CLAUDE AGENT    ====== running        |
|  [3] CODEX AGENT     ====== idle           |
+-------------------------------------------+
|  Preview: Claude is executing Python...    |
|  > import pandas as pd                     |
+-------------------------------------------+</code></pre>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Checkpoint: Extension Types -->
    <div class="checkpoint" style="background: #f0ebe3; border-left: 4px solid #6b9b7a; border-radius: 8px; padding: 1.5rem; margin: 2rem 0;">
      <div class="checkpoint-header" style="color: #6b9b7a; font-weight: 600;">Checkpoint: Extension Types</div>
      <p><strong>You should now understand:</strong></p>
      <ul>
        <li>The four ecosystem tiers: Official, Marketplace, Standalone, MCP Servers</li>
        <li>How to install plugins from each tier</li>
        <li>What Claude HUD displays and why it matters for workflow decisions</li>
        <li>How Claude-Mem's 3-layer retrieval system works</li>
        <li>The difference between Ralph variants and when to use each</li>
        <li>What CC Mirror unlocks and how to set it up</li>
      </ul>
      <p><strong>If unclear:</strong> Re-read the specific extension section. For installation issues, check the Quick Reference at the end of this document. For MCP server configuration, see the Tool Extensions section.</p>
    </div>

    <hr class="section-divider">

    <!-- Extensions as Primitives -->
    <section id="primitives">
      <h2><span class="bionic">Ext</span>ensions as <span class="bionic">Pri</span>mitives</h2>

      <h3>The Primitive Mental Model</h3>
      <p>Extensions are not monolithic features - they are <strong>composable primitives</strong> that stack:</p>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Extension Type</th><th>Primitive Capability</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Claude HUD</strong></td><td>Observability</td></tr>
            <tr><td><strong>Claude-Mem</strong></td><td>Persistence</td></tr>
            <tr><td><strong>Code-Simplifier</strong></td><td>Polish</td></tr>
            <tr><td><strong>Ralph</strong></td><td>Iteration</td></tr>
            <tr><td><strong>CC Mirror</strong></td><td>Coordination</td></tr>
            <tr><td><strong>MCP Servers</strong></td><td>External Integration</td></tr>
            <tr><td><strong>Hooks</strong></td><td>Event Automation</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Composition Philosophy</h3>
      <blockquote>
        <p>"Think of extensions as LEGO blocks. Each provides one capability. Power comes from combination."</p>
      </blockquote>

      <div class="callout callout-insight">
        <div class="callout-title">Key Insight</div>
        <p><strong>Single Extension = Capability</strong></p>
        <p><strong>Multiple Extensions = Workflow</strong></p>
        <p><strong>Coordinated Extensions = System</strong></p>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Extension Composition Patterns -->
    <section id="composition-patterns">
      <h2><span class="bionic">Ext</span>ension <span class="bionic">Com</span>position <span class="bionic">Pat</span>terns</h2>

      <h3>Pattern 1: Chain Extensions (A -> B -> C)</h3>
      <p><strong>Ralph + Code-Simplifier Chain:</strong></p>
      <ol>
        <li>Ralph iterates on feature implementation</li>
        <li>On completion, trigger code-simplifier</li>
        <li>Final polish before commit</li>
      </ol>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>/ralph-loop "Build user auth. When done, use code-simplifier agent. Output &lt;promise&gt;COMPLETE&lt;/promise&gt; after polish."</code></pre>
      </div>

      <h3>Pattern 2: Parallel Extensions</h3>
      <p><strong>Multi-Agent with Monitoring:</strong></p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Terminal 1
tmux new-session -d -s backend "cd ~/project/backend && ./ralph.sh 20"

# Terminal 2
tmux new-session -d -s frontend "cd ~/project/frontend && ./ralph.sh 20"

# Terminal 3
rpai  # Monitor all</code></pre>
      </div>

      <h3>Pattern 3: Conditional Extensions</h3>
      <p><strong>HUD-Triggered Actions:</strong></p>
      <div class="code-block">
        <pre><code>IF context > 80% (via HUD observation)
THEN trigger new Ralph iteration (fresh context)
ELSE continue current session</code></pre>
      </div>

      <h4>With Hooks</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>{
  "hooks": {
    "PostToolUse": [{
      "matcher": "*",
      "hooks": [{
        "type": "command",
        "command": "~/.claude/hooks/check-context-threshold.sh"
      }]
    }]
  }
}</code></pre>
      </div>

      <h3>Pattern 4: Stacked Persistence</h3>
      <p><strong>Claude-Mem + Ralph + Progress.txt:</strong></p>
      <div class="ascii-diagram">
Claude-Mem: Long-term semantic memory
     |
Ralph prd.json: Task state tracking
     |
progress.txt: Append-only session learnings
     |
Git: Code change history
      </div>
      <p>Each layer provides different persistence granularity.</p>
    </section>

    <hr class="section-divider">

    <!-- Proven Extension Combinations -->
    <section id="proven-combos">
      <h2><span class="bionic">Pro</span>ven <span class="bionic">Ext</span>ension <span class="bionic">Com</span>binations</h2>

      <h3>Combo 1: "AGI Stack" (Opus 4.5 + Ralph + Playwright)</h3>
      <p><strong>Source:</strong> @weswinder</p>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Component</th><th>Role</th></tr>
          </thead>
          <tbody>
            <tr><td>Opus 4.5</td><td>Strong reasoning model</td></tr>
            <tr><td>Ralph Wiggum</td><td>Iterative persistence</td></tr>
            <tr><td>Playwright</td><td>Browser verification</td></tr>
          </tbody>
        </table>
      </div>

      <p><strong>Why It Works:</strong></p>
      <ul>
        <li>Ralph feeds same prompt repeatedly until success</li>
        <li>Playwright enables real-world UI verification</li>
        <li>Opus 4.5 reduces iterations needed</li>
      </ul>

      <blockquote>
        <p>"Put costly tools like browser control in subagents to protect your main context window tokens"</p>
        <cite>-- @TendiesOfWisdom</cite>
      </blockquote>

      <h3>Combo 2: Long-Session Development</h3>
      <ul>
        <li>Claude-Mem (memory persistence)</li>
        <li>Claude HUD (context monitoring)</li>
        <li>Code-Simplifier (periodic polish)</li>
        <li>Auto-formatting hooks</li>
      </ul>

      <h3>Combo 3: Overnight Autonomous Development</h3>
      <ul>
        <li>Ralph loop (iteration)</li>
        <li>Mobile notifications (hooks)</li>
        <li>CC Mirror (multi-agent if needed)</li>
        <li>Git worktrees (parallel isolation)</li>
      </ul>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># Create worktrees for parallel work
git worktree add ../wt-auth auth-branch
git worktree add ../wt-api api-branch

# Run Ralph in each (separate terminals)
(cd ../wt-auth && ./ralph.sh 25) &
(cd ../wt-api && ./ralph.sh 25) &

# Notifications on AskUserQuestion
# (configured in hooks)</code></pre>
      </div>

      <h3>Combo 4: Production Agent Deployment</h3>
      <ul>
        <li>Claude Agent SDK</li>
        <li>Skills (local development)</li>
        <li>Cloudflare Sandboxes</li>
        <li>Durable Objects (session persistence)</li>
      </ul>

      <div class="ascii-diagram">
Local (Claude Code)
  -> Develop skills fast
  -> Test locally

Cloud (Cloudflare)
  -> Claude Agent SDK harness
  -> Sandbox for code execution
  -> Durable Objects for resume
      </div>
    </section>

    <hr class="section-divider">

    <!-- Building Custom Extensions -->
    <section id="building-custom">
      <h2><span class="bionic">Bui</span>lding <span class="bionic">Cus</span>tom <span class="bionic">Ext</span>ensions</h2>

      <h3>Plugin API Basics</h3>

      <h4>Plugin Structure</h4>
      <div class="code-block">
        <pre><code>my-plugin/
  - .claude-plugin/
    - plugin.json       # Manifest
  - commands/
    - my-command.md     # Slash commands
  - hooks/
    - hooks.json        # Hook configuration
    - my-hook.sh        # Hook scripts
  - agents/
    - my-agent.yaml     # Custom agents</code></pre>
      </div>

      <h4>plugin.json</h4>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>{
  "name": "my-plugin",
  "version": "1.0.0",
  "description": "My custom extension",
  "author": "me",
  "commands": ["commands/my-command.md"],
  "hooks": "hooks/hooks.json"
}</code></pre>
      </div>

      <h3>Integration Points</h3>
      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Point</th><th>Type</th><th>Use Case</th></tr>
          </thead>
          <tbody>
            <tr><td><code>/commands</code></td><td>Slash commands</td><td>Quick actions</td></tr>
            <tr><td><code>hooks/</code></td><td>Event handlers</td><td>Automation on events</td></tr>
            <tr><td><code>agents/</code></td><td>Sub-agents</td><td>Specialized tasks</td></tr>
            <tr><td><code>skills/</code></td><td>Skills</td><td>Reusable capabilities</td></tr>
            <tr><td>MCP servers</td><td>External tools</td><td>API/DB/browser access</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Hook Configuration</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>{
  "hooks": {
    "PreToolUse": [{
      "matcher": "Bash",
      "hooks": [{ "type": "command", "command": "./validate.sh" }]
    }],
    "PostToolUse": [{
      "matcher": "Edit",
      "hooks": [{ "type": "command", "command": "./format.sh" }]
    }],
    "SessionStart": [{
      "type": "command",
      "command": "./init.sh"
    }],
    "SessionEnd": [{
      "type": "command",
      "command": "./cleanup.sh"
    }]
  }
}</code></pre>
      </div>

      <h3>Sub-Agent Definition (YAML)</h3>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code>name: my-specialist
description: Handles specific domain tasks
model: opus
---
You are an expert in [domain].

When invoked:
1. Analyze the request
2. Apply domain-specific patterns
3. Return structured output

Always follow these rules:
- Rule 1
- Rule 2</code></pre>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Extension Gaps -->
    <section id="gaps">
      <h2><span class="bionic">Ext</span>ension <span class="bionic">Gap</span>s</h2>

      <p>What the ecosystem currently lacks:</p>

      <h3>Missing Extensions</h3>
      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Gap</th><th>Description</th><th>Workaround</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Visual Diff Viewer</strong></td><td>Side-by-side code diffs in terminal</td><td>Use git diff, external tools</td></tr>
            <tr><td><strong>Cost Tracker</strong></td><td>Real-time token/$ spending</td><td>Manual estimation</td></tr>
            <tr><td><strong>Session Recording</strong></td><td>Full replay of sessions</td><td>Log to files manually</td></tr>
            <tr><td><strong>Team Collaboration</strong></td><td>Shared memory across users</td><td>External DB, shared files</td></tr>
            <tr><td><strong>Automated Testing</strong></td><td>Built-in test runner integration</td><td>Hooks + external runners</td></tr>
            <tr><td><strong>Rollback Manager</strong></td><td>Undo sequences of changes</td><td>Git reset</td></tr>
            <tr><td><strong>Context Compactor</strong></td><td>Automatic context summarization</td><td>Manual or Claude-Mem</td></tr>
            <tr><td><strong>Multi-Model Router</strong></td><td>Route tasks to best model</td><td>CC Mirror partial support</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Infrastructure Gaps</h3>
      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Gap</th><th>Impact</th><th>Status</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>Windows Support</strong></td><td>Limited extension compatibility</td><td>Active development</td></tr>
            <tr><td><strong>Plugin Marketplace UI</strong></td><td>CLI-only discovery</td><td>Requested</td></tr>
            <tr><td><strong>Extension Dependencies</strong></td><td>No dependency resolution</td><td>Manual install order</td></tr>
            <tr><td><strong>Hot Reload All Plugins</strong></td><td>Restart required</td><td>Partial support in 2.1</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Integration Gaps</h3>
      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Gap</th><th>Desired Integration</th></tr>
          </thead>
          <tbody>
            <tr><td><strong>IDE Plugins</strong></td><td>VS Code, JetBrains sync</td></tr>
            <tr><td><strong>Slack/Discord</strong></td><td>Native workspace integration</td></tr>
            <tr><td><strong>Jira/Linear</strong></td><td>Issue tracking sync</td></tr>
            <tr><td><strong>Figma</strong></td><td>Design-to-code pipeline</td></tr>
            <tr><td><strong>CI/CD</strong></td><td>GitHub Actions, CircleCI</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Quick Reference -->
    <section id="quick-reference">
      <h2><span class="bionic">Qui</span>ck <span class="bionic">Ref</span>erence: <span class="bionic">Ext</span>ension <span class="bionic">Ins</span>tallation</h2>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre><code># HUD - Visibility
/plugin marketplace add jarrodwatts/claude-hud && /plugin install claude-hud

# Memory - Persistence
/plugin marketplace add thedotmack/claude-mem && /plugin install claude-mem

# Code-Simplifier - Polish
/plugin install code-simplifier

# Ralph - Iteration
# (Built-in or use bash scripts)

# CC Mirror - Multi-Agent
npx cc-mirror quick --provider mirror --name mclaude

# rpai - Monitoring
cargo install rpai</code></pre>
      </div>

      <h3>Summary</h3>
      <p>Extensions transform Claude Code from a chat interface into a <strong>composable agentic platform</strong>:</p>

      <div class="table-responsive">
        <table>
          <thead>
            <tr><th>Capability</th><th>Extension</th></tr>
          </thead>
          <tbody>
            <tr><td>See what Claude is doing</td><td>Claude HUD</td></tr>
            <tr><td>Remember across sessions</td><td>Claude-Mem</td></tr>
            <tr><td>Iterate until done</td><td>Ralph</td></tr>
            <tr><td>Polish code automatically</td><td>Code-Simplifier</td></tr>
            <tr><td>Coordinate multiple agents</td><td>CC Mirror</td></tr>
            <tr><td>Connect external tools</td><td>MCP Servers</td></tr>
            <tr><td>Automate on events</td><td>Hooks</td></tr>
            <tr><td>Monitor parallel agents</td><td>rpai</td></tr>
            <tr><td>Deploy to production</td><td>Claude SDK + Cloudflare</td></tr>
          </tbody>
        </table>
      </div>

      <div class="callout callout-insight">
        <div class="callout-title">Key Insight</div>
        <p>The power is in <strong>combination</strong>. Stack primitives. Build workflows. Create systems.</p>
      </div>
    </section>

    <hr class="section-divider">

    <!-- Troubleshooting -->
    <section id="troubleshooting">
      <h2><span class="bionic">Tro</span>ubleshooting</h2>

      <details class="troubleshoot">
        <summary>Plugin Installation Fails</summary>
        <div>
          <p><strong>Symptom:</strong> <code>/plugin install &lt;name&gt;</code> returns an error or the plugin doesn't appear in <code>/plugin list</code>.</p>
          <p><strong>Cause:</strong> Plugin may not be in local cache, or marketplace add step was skipped.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>For marketplace plugins, always add first:
              <div class="code-block">
                <pre><code># Wrong - won't find the plugin
/plugin install claude-hud

# Right - add from marketplace first
/plugin marketplace add jarrodwatts/claude-hud
/plugin install claude-hud</code></pre>
              </div>
            </li>
            <li>For official plugins, update the plugin list first:
              <div class="code-block">
                <pre><code>/plugin marketplace update claude-plugins-official
/plugin install code-simplifier</code></pre>
              </div>
            </li>
            <li>Verify installation:
              <div class="code-block">
                <pre><code>/plugin list
# Should show: claude-hud, code-simplifier, etc.</code></pre>
              </div>
            </li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Claude-Mem Not Capturing Sessions</summary>
        <div>
          <p><strong>Symptom:</strong> Claude-Mem is installed but <code>search()</code> returns no results from past sessions.</p>
          <p><strong>Cause:</strong> The worker service may not be running, or lifecycle hooks aren't installed correctly.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>Check if the worker service is running:
              <div class="code-block">
                <pre><code># Should see process on port 37777
lsof -i :37777
# Or check Claude-Mem status
curl http://localhost:37777/health</code></pre>
              </div>
            </li>
            <li>Restart Claude Code after installation (required for hooks to activate)</li>
            <li>Verify hooks are configured:
              <div class="code-block">
                <pre><code>cat ~/.claude/settings.json | grep -A5 "claude-mem"</code></pre>
              </div>
            </li>
            <li>Manual capture test:
              <div class="code-block">
                <pre><code># Force a memory capture
curl -X POST http://localhost:37777/capture -d '{"observation": "test"}'</code></pre>
              </div>
            </li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>CC Mirror Orchestration Skill Not Loading</summary>
        <div>
          <p><strong>Symptom:</strong> After running <code>npx cc-mirror quick</code>, the orchestration skill doesn't activate or agents don't spawn.</p>
          <p><strong>Cause:</strong> The alias may not be set up correctly, or Claude Code needs the explicit skill load command.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>Verify the alias was created:
              <div class="code-block">
                <pre><code>which mclaude
# Should show path to cc-mirror wrapper</code></pre>
              </div>
            </li>
            <li>Use the full command if alias fails:
              <div class="code-block">
                <pre><code>npx cc-mirror quick --provider mirror --name mclaude
# Then start it
mclaude</code></pre>
              </div>
            </li>
            <li>Explicitly load the orchestration skill:
              <div class="code-block">
                <pre><code>Load the orchestration skill and initiate</code></pre>
              </div>
            </li>
            <li>Check provider configuration:
              <div class="code-block">
                <pre><code>cat ~/.cc-mirror/config.json
# Verify provider settings</code></pre>
              </div>
            </li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>MCP Server Connection Errors</summary>
        <div>
          <p><strong>Symptom:</strong> MCP tools show in <code>/mcp</code> but fail when Claude tries to use them with "connection refused" or "timeout" errors.</p>
          <p><strong>Cause:</strong> Server process may have crashed, or configuration has wrong path/command.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>Verify the server is running:
              <div class="code-block">
                <pre><code># For npm-based servers
ps aux | grep "mcp-server"</code></pre>
              </div>
            </li>
            <li>Test the server manually:
              <div class="code-block">
                <pre><code># Run the command from settings.json directly
npx -y @modelcontextprotocol/server-github
# Should start without errors</code></pre>
              </div>
            </li>
            <li>Check environment variables are set:
              <div class="code-block">
                <pre><code># Verify required tokens exist
echo $GITHUB_PERSONAL_ACCESS_TOKEN</code></pre>
              </div>
            </li>
            <li>Review settings.json for typos in command or args</li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Claude HUD Not Updating</summary>
        <div>
          <p><strong>Symptom:</strong> HUD is installed but shows stale data or doesn't update during the session.</p>
          <p><strong>Cause:</strong> HUD runs as a separate process and may lose sync with the active Claude session.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>Run the setup command again:
              <div class="code-block">
                <pre><code>/claude-hud:setup</code></pre>
              </div>
            </li>
            <li>Restart the HUD process:
              <div class="code-block">
                <pre><code># Find and kill existing HUD process
pkill -f "claude-hud"
# Restart via plugin
/claude-hud:start</code></pre>
              </div>
            </li>
            <li>Check terminal compatibility - HUD requires a terminal that supports ANSI codes</li>
            <li>Try the minimal layout if full layout has issues</li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Conflicting Hooks from Multiple Extensions</summary>
        <div>
          <p><strong>Symptom:</strong> Hooks fire multiple times, or one extension's hooks block another's.</p>
          <p><strong>Cause:</strong> Multiple extensions may have registered hooks for the same events.</p>
          <p><strong>Fix:</strong></p>
          <ol>
            <li>List all active hooks:
              <div class="code-block">
                <pre><code>cat ~/.claude/settings.json | jq '.hooks'</code></pre>
              </div>
            </li>
            <li>Check for duplicate matchers (e.g., two PostToolUse hooks for "Edit")</li>
            <li>Order hooks intentionally - they execute in array order</li>
            <li>Consider consolidating into a single script that calls multiple tools</li>
          </ol>
        </div>
      </details>
    </section>

    <hr class="section-divider">

    <!-- Related Pages -->
    <div class="related-pages">
      <h3>Related Combinations Documents</h3>
      <ul>
        <li><a href="combinations-matrix.html">Combination Matrix</a> - Which patterns work together</li>
        <li><a href="combinations-pairwise.html">Pairwise Combinations</a> - Two-pattern synergies</li>
        <li><a href="combinations-triple-plus.html">Triple+ Stacks</a> - Advanced multi-pattern setups</li>
        <li><a href="combinations-unexplored.html">Unexplored Territory</a> - Frontier pattern ideas</li>
      </ul>
    </div>

    <!-- Footer Navigation -->
    <nav class="footer-nav">
      <a href="combinations-master.html" class="nav-prev">
        <span class="nav-direction">Back</span>
        <span class="nav-title">Combinations Master</span>
      </a>
      <a href="combinations-matrix.html" class="nav-next">
        <span class="nav-direction">Next</span>
        <span class="nav-title">Combination Matrix</span>
      </a>
    </nav>

    <!-- Tags -->
    <div style="margin-top: 2rem;">
      <span class="tag">#extensions</span>
      <span class="tag">#plugins</span>
      <span class="tag">#composition</span>
      <span class="tag">#claude-hud</span>
      <span class="tag">#claude-mem</span>
      <span class="tag">#code-simplifier</span>
      <span class="tag">#ralph</span>
      <span class="tag">#cc-mirror</span>
      <span class="tag">#mcp-servers</span>
      <span class="tag">#hooks</span>
      <span class="tag">#multi-agent</span>
      <span class="tag">#primitives</span>
    </div>
  </div>

  <script src="../js/copy-code.js"></script>
  <script src="../js/search.js"></script>
  <script src="../js/global-nav.js"></script>
</body>
</html>
