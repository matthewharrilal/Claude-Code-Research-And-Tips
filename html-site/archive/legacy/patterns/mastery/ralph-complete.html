<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta data-pagefind-meta="chapter" content="Patterns">
  <meta data-pagefind-meta="section" content="Mastery">
  <title>Ralph Wiggum Pattern: Complete Mastery Guide | Claude Code Knowledge Base</title>
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/search.css">
  <style>
    /* Additional styles for this flagship page */
    .bionic { font-weight: 700; }

    .you-are-here {
      background: linear-gradient(135deg, #f0ebe3 0%, #fefcf3 100%);
      border-left: 4px solid var(--accent);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .you-are-here h2 {
      margin-top: 0;
      border-bottom: none;
      padding-bottom: 0;
      color: var(--accent);
    }

    .checkpoint {
      background: #f0ebe3;
      border-left: 4px solid var(--success);
      border-radius: 8px;
      padding: 1.5rem;
      margin: 2rem 0;
    }

    .checkpoint-header {
      color: var(--success);
      font-weight: 600;
      font-size: 0.85em;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 0.75rem;
    }

    .milestone {
      background: linear-gradient(90deg, var(--success) 0%, var(--accent) 100%);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      text-align: center;
      margin: 2rem 0;
      font-weight: 600;
    }

    .troubleshoot {
      border: 1px solid var(--error);
      border-radius: 8px;
      margin: 1rem 0;
    }

    .troubleshoot summary {
      background: #fef6f5;
      padding: 1rem;
      cursor: pointer;
      color: var(--error);
      font-weight: 600;
      list-style: none;
    }

    .troubleshoot summary::-webkit-details-marker {
      display: none;
    }

    .troubleshoot summary::after {
      content: '+';
      float: right;
    }

    .troubleshoot[open] summary::after {
      content: '-';
    }

    .troubleshoot-content {
      padding: 1rem;
      background: white;
    }

    .hero-quote {
      font-size: 1.25em;
      font-style: italic;
      color: var(--heading);
      padding: 1.5rem;
      margin: 1.5rem 0;
      background: linear-gradient(135deg, #e8f4f4 0%, #fefcf3 100%);
      border-radius: 12px;
      text-align: center;
    }

    .hero-quote cite {
      display: block;
      font-style: normal;
      font-size: 0.8em;
      color: var(--text-muted);
      margin-top: 0.75rem;
    }

    .core-concept {
      background: white;
      border: 2px solid var(--accent);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }

    .core-concept h4 {
      color: var(--accent);
      margin-top: 0;
    }

    .variant-card {
      background: white;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem;
      margin: 1rem 0;
    }

    .variant-card h4 {
      margin-top: 0;
      margin-bottom: 0.5rem;
    }

    .variant-card .author {
      font-size: 0.85em;
      color: var(--text-muted);
      margin-bottom: 0.75rem;
    }

    .anti-pattern-list {
      background: #fef6f5;
      border-radius: 8px;
      padding: 1.25rem;
      margin: 1rem 0;
    }

    .anti-pattern-list li {
      margin: 0.5rem 0;
    }

    .copy-btn {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 4px;
      padding: 0.25rem 0.5rem;
      cursor: pointer;
      font-size: 0.75em;
    }

    .copy-btn:hover {
      background: var(--accent-light);
    }

    .code-block-wrapper {
      position: relative;
    }

    .visual-break {
      text-align: center;
      padding: 1.5rem 0;
      color: var(--text-muted);
      font-size: 1.5em;
    }
  </style>
</head>
<body>
  <!-- Search Modal -->
  <div class="search-modal" id="searchModal" aria-hidden="true">
    <div class="search-overlay" onclick="closeSearch()"></div>
    <div class="search-content">
      <div class="search-header">
        <div class="search-input-wrapper">
          <span class="search-icon-input">&#128269;</span>
          <input type="text" id="searchInput" placeholder="Search documentation..." autocomplete="off" />
          <kbd class="search-kbd">ESC</kbd>
        </div>
      </div>
      <div class="search-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="ch1">Chapter 1</button>
        <button class="filter-btn" data-filter="ch2">Chapter 2</button>
        <button class="filter-btn" data-filter="ch3">Chapter 3</button>
        <button class="filter-btn" data-filter="ch4">Chapter 4</button>
        <button class="filter-btn" data-filter="ref">Reference</button>
      </div>
      <div class="search-results" id="searchResults">
        <div class="search-empty"><p>Start typing to search... (Press Cmd+K anytime)</p></div>
      </div>
      <div class="search-footer">
        <span>&#8593;&#8595; Navigate</span><span>&#8629; Select</span><span>ESC Close</span>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Search Trigger Button -->
    <button class="search-trigger" onclick="openSearch()" aria-label="Search" style="float: right; margin-bottom: 1rem;">
      <span class="search-icon">Cmd+K</span>
      <span class="search-text">Search</span>
    </button>
    <!-- Breadcrumb -->
    <nav class="nav-breadcrumb">
      <a href="../../index.html">Home</a>
      <span>&rarr;</span>
      <a href="../index.html">Patterns</a>
      <span>&rarr;</span>
      <a href="index.html">Mastery</a>
      <span>&rarr;</span>
      <strong>Ralph Wiggum Complete</strong>
    </nav>

    <!-- Page Title -->
    <h1><span class="bionic">Ral</span>ph <span class="bionic">Wig</span>gum <span class="bionic">Pat</span>tern: <span class="bionic">Com</span>plete <span class="bionic">Mas</span>tery <span class="bionic">Gui</span>de</h1>

    <!-- You Are Here Box -->
    <div class="you-are-here">
      <h2><span class="bionic">You</span> Are <span class="bionic">Her</span>e</h2>
      <p><strong><span class="bionic">Wha</span>t this is:</strong> The <span class="bionic">def</span>initive <span class="bionic">ref</span>erence for the <span class="bionic">Ral</span>ph <span class="bionic">Wig</span>gum <span class="bionic">pat</span>tern - an <span class="bionic">aut</span>onomous <span class="bionic">dev</span>elopment <span class="bionic">loo</span>p that lets you "ship <span class="bionic">whi</span>le you <span class="bionic">sle</span>ep."</p>
      <p><strong><span class="bionic">Whe</span>re it <span class="bionic">fit</span>s:</strong> <span class="bionic">Ral</span>ph is <span class="bionic">Lev</span>el 4-5 on the <a href="../../foundations/architecture/complexity-ladder.html"><span class="bionic">com</span>plexity <span class="bionic">lad</span>der</a> - <span class="bionic">bey</span>ond <span class="bionic">sin</span>gle <span class="bionic">ses</span>sions, before <span class="bionic">ful</span>l <span class="bionic">mul</span>ti-agent <span class="bionic">orc</span>hestration.</p>
      <p><strong><span class="bionic">Pre</span>requisites:</strong> <span class="bionic">Com</span>fortable with <span class="bionic">Cla</span>ude Code <span class="bionic">CLI</span>, <span class="bionic">bas</span>ic bash <span class="bionic">scr</span>ipting, git <span class="bionic">wor</span>kflows.</p>
      <p><strong><span class="bionic">Tim</span>e to <span class="bionic">set</span>up:</strong> 15-30 <span class="bionic">min</span>utes for <span class="bionic">bas</span>ic, 1-2 <span class="bionic">hou</span>rs for <span class="bionic">adv</span>anced.</p>
    </div>

    <!-- Hero Quote -->
    <div class="hero-quote">
      "<span class="bionic">Thi</span>nk of the AI <span class="bionic">age</span>nt as an <strong><span class="bionic">eag</span>er but <span class="bionic">som</span>ewhat dim <span class="bionic">jun</span>ior <span class="bionic">dev</span>eloper (<span class="bionic">Ral</span>ph)</strong> who <span class="bionic">nev</span>er <span class="bionic">sle</span>eps, <span class="bionic">hap</span>pily <span class="bionic">wor</span>ks on one <span class="bionic">tin</span>y task at a <span class="bionic">tim</span>e, <span class="bionic">com</span>mits <span class="bionic">oft</span>en, and <span class="bionic">tel</span>ls you when it's <span class="bionic">tru</span>ly <span class="bionic">fin</span>ished - but <span class="bionic">nee</span>ds <span class="bionic">ext</span>remely <span class="bionic">tig</span>ht <span class="bionic">sco</span>ping, <span class="bionic">str</span>ong <span class="bionic">fee</span>dback <span class="bionic">loo</span>ps, and <span class="bionic">har</span>d <span class="bionic">lim</span>its to <span class="bionic">avo</span>id <span class="bionic">dis</span>aster."
      <cite>- Matt Pocock</cite>
    </div>

    <!-- Table of Contents -->
    <nav class="toc">
      <div class="toc-title"><span class="bionic">Tab</span>le of <span class="bionic">Con</span>tents</div>
      <ul>
        <li><a href="#core-mental-model"><span class="bionic">Cor</span>e <span class="bionic">Men</span>tal <span class="bionic">Mod</span>el</a></li>
        <li><a href="#history"><span class="bionic">His</span>tory and <span class="bionic">Ori</span>gin</a></li>
        <li><a href="#basic-implementation"><span class="bionic">Bas</span>ic <span class="bionic">Imp</span>lementation</a></li>
        <li><a href="#all-variants"><span class="bionic">All</span> <span class="bionic">Ral</span>ph <span class="bionic">Var</span>iants</a></li>
        <li><a href="#critical-success-factors"><span class="bionic">Cri</span>tical <span class="bionic">Suc</span>cess <span class="bionic">Fac</span>tors</a></li>
        <li><a href="#failure-modes"><span class="bionic">Fai</span>lure <span class="bionic">Mod</span>es and <span class="bionic">Fix</span>es</a></li>
        <li><a href="#case-studies"><span class="bionic">Rea</span>l <span class="bionic">Res</span>ults and <span class="bionic">Cas</span>e <span class="bionic">Stu</span>dies</a></li>
        <li><a href="#when-not-to-use"><span class="bionic">Whe</span>n NOT to <span class="bionic">Use</span> <span class="bionic">Ral</span>ph</a></li>
        <li><a href="#combinations"><span class="bionic">Com</span>binations That <span class="bionic">Enh</span>ance <span class="bionic">Ral</span>ph</a></li>
        <li><a href="#troubleshooting"><span class="bionic">Tro</span>ubleshooting</a></li>
      </ul>
    </nav>

    <!-- Section: Core Mental Model -->
    <section id="core-mental-model">
      <h2><span class="bionic">The</span> <span class="bionic">Cor</span>e <span class="bionic">Men</span>tal <span class="bionic">Mod</span>el</h2>

      <p><span class="bionic">Ral</span>ph <span class="bionic">Wig</span>gum is a <strong><span class="bionic">per</span>sistence <span class="bionic">pat</span>tern</strong> for AI <span class="bionic">cod</span>ing <span class="bionic">age</span>nts. At its <span class="bionic">abs</span>olute <span class="bionic">cor</span>e:</p>

      <div class="code-block-wrapper">
        <button class="copy-btn" onclick="navigator.clipboard.writeText('while :; do cat PROMPT.md | claude ; done')">Copy</button>
        <pre><code>while :; do cat PROMPT.md | claude ; done</code></pre>
      </div>

      <p><span class="bionic">Eve</span>rything else - PRDs, <span class="bionic">pro</span>gress files, <span class="bionic">ver</span>ification - is <span class="bionic">sca</span>ffolding <span class="bionic">aro</span>und this <span class="bionic">fun</span>damental loop.</p>

      <div class="visual-break">* * *</div>

      <h3><span class="bionic">The</span> <span class="bionic">Phi</span>losophy in <span class="bionic">Thr</span>ee <span class="bionic">Pri</span>nciples</h3>

      <div class="core-concept">
        <h4>1. <span class="bionic">Fre</span>sh <span class="bionic">Con</span>text <span class="bionic">Bea</span>ts <span class="bionic">Acc</span>umulated <span class="bionic">Con</span>text</h4>
        <ul>
          <li>Each <span class="bionic">ite</span>ration <span class="bionic">spa</span>wns a <strong>NEW</strong> <span class="bionic">Cla</span>ude <span class="bionic">ins</span>tance with <strong>NO</strong> <span class="bionic">mem</span>ory</li>
          <li><span class="bionic">Avo</span>ids "<span class="bionic">con</span>text rot" (LLMs <span class="bionic">deg</span>rade with <span class="bionic">tok</span>en <span class="bionic">acc</span>umulation)</li>
          <li><span class="bionic">Mem</span>ory <span class="bionic">liv</span>es in <span class="bionic">ext</span>ernal <span class="bionic">art</span>ifacts, not the <span class="bionic">mod</span>el</li>
        </ul>
      </div>

      <div class="core-concept">
        <h4>2. <span class="bionic">Fai</span>lure Is <span class="bionic">Dat</span>a, Not <span class="bionic">Def</span>eat</h4>
        <ul>
          <li>"<span class="bionic">Det</span>erministically bad" <span class="bionic">fai</span>lures are <span class="bionic">pre</span>dictable and <span class="bionic">inf</span>ormative</li>
          <li>Each <span class="bionic">fai</span>lure <span class="bionic">ref</span>ines the next <span class="bionic">att</span>empt</li>
          <li><span class="bionic">Per</span>sistence + <span class="bionic">lea</span>rning = <span class="bionic">eve</span>ntual <span class="bionic">suc</span>cess</li>
        </ul>
      </div>

      <div class="core-concept">
        <h4>3. <span class="bionic">Sma</span>ll + <span class="bionic">Ver</span>ifiable = <span class="bionic">Rel</span>iable</h4>
        <ul>
          <li><span class="bionic">Tas</span>ks must fit in ONE <span class="bionic">con</span>text <span class="bionic">win</span>dow</li>
          <li>Every task has <span class="bionic">exp</span>licit, <span class="bionic">tes</span>table <span class="bionic">acc</span>eptance <span class="bionic">cri</span>teria</li>
          <li>No <span class="bionic">sub</span>jective <span class="bionic">goa</span>ls, no <span class="bionic">amb</span>iguous <span class="bionic">end</span>points</li>
        </ul>
      </div>

      <div class="visual-break">* * *</div>

      <h3><span class="bionic">Kan</span>ban vs <span class="bionic">Mul</span>ti-Phase</h3>

      <div class="ascii-diagram">
Old Way (Multi-Phase Plans):
Phase 1 --> Phase 2 --> Phase 3 --> Phase 4
Problems: Hard to add tasks, rigid, requires human orchestration.

Ralph Way (Kanban Loop):
+-----------------------------------+
|  Pick task from board             |
|         |                         |
|         v                         |
|  Complete task                    |
|         |                         |
|         v                         |
|  Back to board                    |
|         |                         |
|         v                         |
|  All done? --> Exit               |
|  Not done? --> Loop               |
+-----------------------------------+
Focus on WHAT it should do at the end, not HOW to get there.</div>
    </section>

    <!-- Section: History -->
    <section id="history">
      <h2><span class="bionic">His</span>tory and <span class="bionic">Ori</span>gin</h2>

      <h3><span class="bionic">The</span> <span class="bionic">Cre</span>ator: <span class="bionic">Geo</span>ffrey <span class="bionic">Hun</span>tley</h3>

      <p><span class="bionic">Ral</span>ph <span class="bionic">Wig</span>gum was <span class="bionic">pio</span>neered by <strong><span class="bionic">Geo</span>ffrey <span class="bionic">Hun</span>tley</strong> (<a href="https://ghuntley.com/ralph/">ghuntley.com/ralph/</a>). The <span class="bionic">pat</span>tern gets its name from The <span class="bionic">Sim</span>psons <span class="bionic">cha</span>racter - the <span class="bionic">sim</span>ple-minded child who <span class="bionic">per</span>sists at tasks <span class="bionic">reg</span>ardless of <span class="bionic">obs</span>tacles.</p>

      <p><strong>Key <span class="bionic">phi</span>losophical <span class="bionic">con</span>tributions:</strong></p>
      <ul>
        <li><strong><span class="bionic">Ite</span>ration over <span class="bionic">per</span>fection:</strong> Don't aim for <span class="bionic">per</span>fect on first try</li>
        <li><strong><span class="bionic">Ope</span>rator skill <span class="bionic">mat</span>ters:</strong> <span class="bionic">Suc</span>cess <span class="bionic">dep</span>ends on <span class="bionic">wri</span>ting good <span class="bionic">pro</span>mpts, not just <span class="bionic">hav</span>ing good <span class="bionic">mod</span>els</li>
        <li><strong><span class="bionic">Ext</span>ernal <span class="bionic">mem</span>ory <span class="bionic">arc</span>hitecture:</strong> Rely on files, not <span class="bionic">con</span>text <span class="bionic">win</span>dows</li>
      </ul>

      <h3><span class="bionic">Com</span>munity <span class="bionic">Ado</span>ption <span class="bionic">Tim</span>eline</h3>

      <table>
        <thead>
          <tr>
            <th><span class="bionic">Con</span>tributor</th>
            <th><span class="bionic">Con</span>tribution</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong><span class="bionic">Geo</span>ffrey <span class="bionic">Hun</span>tley</strong></td>
            <td><span class="bionic">Ori</span>ginal <span class="bionic">con</span>cept and name</td>
          </tr>
          <tr>
            <td><strong>Matt <span class="bionic">Poc</span>ock (@mattpocockuk)</strong></td>
            <td><span class="bionic">Vir</span>al video <span class="bionic">dem</span>os, 11 tips <span class="bionic">gui</span>de, PRD <span class="bionic">for</span>mat <span class="bionic">sta</span>ndardization</td>
          </tr>
          <tr>
            <td><strong>Ryan <span class="bionic">Car</span>son (@ryancarson)</strong></td>
            <td><span class="bionic">Com</span>plete <span class="bionic">imp</span>lementation <span class="bionic">gui</span>des, Amp <span class="bionic">int</span>egration, <span class="bionic">com</span>pounding runs</td>
          </tr>
          <tr>
            <td><strong><span class="bionic">Arv</span>id Kahl (@arvidkahl)</strong></td>
            <td><span class="bionic">Com</span>prehensive <span class="bionic">thr</span>ead <span class="bionic">doc</span>umenting <span class="bionic">var</span>iants</td>
          </tr>
        </tbody>
      </table>

      <h3><span class="bionic">Off</span>icial <span class="bionic">Rec</span>ognition</h3>

      <p><span class="bionic">Ant</span>hropic <span class="bionic">pub</span>lished an <span class="bionic">off</span>icial Claude Code <span class="bionic">plu</span>gin:</p>
      <ul>
        <li><strong>Repo:</strong> <a href="https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum">github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum</a></li>
        <li><strong><span class="bionic">Com</span>mands:</strong> <code>/ralph-loop</code>, <code>/cancel-ralph</code></li>
        <li><strong><span class="bionic">Arc</span>hitecture:</strong> Stop hook <span class="bionic">cre</span>ates <span class="bionic">sel</span>f-referential <span class="bionic">fee</span>dback loop</li>
      </ul>
    </section>

    <div class="milestone">Checkpoint: Understanding Complete - Now Let's Build</div>

    <!-- Section: Basic Implementation -->
    <section id="basic-implementation">
      <h2><span class="bionic">The</span> <span class="bionic">Bas</span>ic <span class="bionic">Imp</span>lementation</h2>

      <h3><span class="bionic">Fil</span>e <span class="bionic">Str</span>ucture</h3>

      <div class="file-listing">
        <div class="file-listing-header"><span class="bionic">Req</span>uired Files</div>
        <div class="file-item">
          <span class="file-name">scripts/ralph/ralph.sh</span>
          <span class="file-desc">The loop <span class="bionic">scr</span>ipt</span>
        </div>
        <div class="file-item">
          <span class="file-name">scripts/ralph/prompt.md</span>
          <span class="file-desc"><span class="bionic">Ins</span>tructions for each <span class="bionic">ite</span>ration</span>
        </div>
        <div class="file-item">
          <span class="file-name">scripts/ralph/prd.json</span>
          <span class="file-desc">Task list with user <span class="bionic">sto</span>ries</span>
        </div>
        <div class="file-item">
          <span class="file-name">scripts/ralph/progress.txt</span>
          <span class="file-desc"><span class="bionic">App</span>end-only <span class="bionic">lea</span>rnings</span>
        </div>
        <div class="file-item">
          <span class="file-name">CLAUDE.md</span>
          <span class="file-desc"><span class="bionic">Opt</span>ional: <span class="bionic">Pro</span>ject <span class="bionic">con</span>text</span>
        </div>
      </div>

      <!-- Tutorial: Create Directory -->
      <div class="tutorial-block">
        <div class="tutorial-header"><span class="bionic">Ste</span>p 1: <span class="bionic">Cre</span>ate <span class="bionic">Dir</span>ectory <span class="bionic">Str</span>ucture</div>
        <div class="tutorial-content">
          <div class="tutorial-step">
            <div class="tutorial-step-number">1</div>
            <div class="tutorial-step-content">
              <h4><span class="bionic">Cre</span>ate the Ralph <span class="bionic">dir</span>ectory</h4>
              <div class="code-block-wrapper">
                <button class="copy-btn" onclick="navigator.clipboard.writeText('mkdir -p scripts/ralph/')">Copy</button>
                <pre><code>mkdir -p scripts/ralph/</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Checkpoint after directory -->
      <div class="checkpoint">
        <div class="checkpoint-header">Checkpoint: Directory Created</div>
        <p><strong><span class="bionic">Whe</span>re you are:</strong> You have <span class="bionic">cre</span>ated the <span class="bionic">fol</span>der <span class="bionic">str</span>ucture for Ralph but no files yet.</p>
        <p><strong><span class="bionic">Ver</span>ify your <span class="bionic">sta</span>te:</strong></p>
        <pre><code>ls -la scripts/ralph/</code></pre>
        <p><strong>You <span class="bionic">sho</span>uld see:</strong></p>
        <pre><code>total 0
drwxr-xr-x  2 user  staff  64 Jan  9 10:00 .
drwxr-xr-x  3 user  staff  96 Jan  9 10:00 ..</code></pre>

        <details class="troubleshoot">
          <summary><span class="bionic">Dir</span>ectory <span class="bionic">doe</span>sn't exist?</summary>
          <div class="troubleshoot-content">
            <ul>
              <li><span class="bionic">Che</span>ck: Did you run <code>mkdir -p scripts/ralph/</code> from your <span class="bionic">pro</span>ject root?</li>
              <li><span class="bionic">Che</span>ck: Are you in the <span class="bionic">cor</span>rect <span class="bionic">pro</span>ject <span class="bionic">dir</span>ectory?</li>
              <li><strong>Go back to:</strong> Run the mkdir <span class="bionic">com</span>mand from your <span class="bionic">pro</span>ject root</li>
            </ul>
          </div>
        </details>
      </div>

      <!-- Tutorial: ralph.sh -->
      <div class="tutorial-block">
        <div class="tutorial-header"><span class="bionic">Ste</span>p 2: <span class="bionic">Cre</span>ate ralph.sh - The Core Loop</div>
        <div class="tutorial-content">
          <p>This is the <span class="bionic">hea</span>rt of the <span class="bionic">Ral</span>ph <span class="bionic">pat</span>tern. Ryan <span class="bionic">Car</span>son's <span class="bionic">com</span>plete <span class="bionic">imp</span>lementation:</p>

          <div class="code-block-wrapper">
            <button class="copy-btn" onclick="navigator.clipboard.writeText(`#!/bin/bash
set -e

MAX_ITERATIONS=\${1:-10}
SCRIPT_DIR=\"\$(cd \"\$(dirname \"\${BASH_SOURCE[0]}\")\" && pwd)\"

echo \"Starting Ralph\"

for i in \$(seq 1 \$MAX_ITERATIONS); do
  echo \"=== Iteration \$i ===\"

  OUTPUT=\$(cat \"\$SCRIPT_DIR/prompt.md\" \\
    | claude --dangerously-skip-permissions 2>&1 \\
    | tee /dev/stderr) || true

  if echo \"\$OUTPUT\" | grep -q \"<promise>COMPLETE</promise>\"; then
    echo \"Done!\"
    exit 0
  fi

  sleep 2
done

echo \"Max iterations reached\"
exit 1`)">Copy</button>
            <pre><code>#!/bin/bash
set -e

MAX_ITERATIONS=${1:-10}
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

echo "Starting Ralph"

for i in $(seq 1 $MAX_ITERATIONS); do
  echo "=== Iteration $i ==="

  OUTPUT=$(cat "$SCRIPT_DIR/prompt.md" \
    | claude --dangerously-skip-permissions 2>&1 \
    | tee /dev/stderr) || true

  if echo "$OUTPUT" | grep -q "&lt;promise&gt;COMPLETE&lt;/promise&gt;"; then
    echo "Done!"
    exit 0
  fi

  sleep 2
done

echo "Max iterations reached"
exit 1</code></pre>
          </div>

          <div class="tutorial-step">
            <div class="tutorial-step-number">2</div>
            <div class="tutorial-step-content">
              <h4>Make it <span class="bionic">exe</span>cutable</h4>
              <div class="code-block-wrapper">
                <button class="copy-btn" onclick="navigator.clipboard.writeText('chmod +x scripts/ralph/ralph.sh')">Copy</button>
                <pre><code>chmod +x scripts/ralph/ralph.sh</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Checkpoint after ralph.sh -->
      <div class="checkpoint">
        <div class="checkpoint-header">Checkpoint: Loop Script Created</div>
        <p><strong><span class="bionic">Whe</span>re you are:</strong> You have the loop <span class="bionic">scr</span>ipt <span class="bionic">cre</span>ated and <span class="bionic">exe</span>cutable.</p>
        <p><strong><span class="bionic">Ver</span>ify:</strong></p>
        <pre><code># Check file exists and is executable
ls -la scripts/ralph/ralph.sh

# Quick syntax check
bash -n scripts/ralph/ralph.sh && echo "Syntax OK"</code></pre>
        <p><strong>You <span class="bionic">sho</span>uld see:</strong></p>
        <pre><code>-rwxr-xr-x  1 user  staff  892 Jan  9 10:05 scripts/ralph/ralph.sh
Syntax OK</code></pre>

        <details class="troubleshoot">
          <summary><span class="bionic">Per</span>mission <span class="bionic">den</span>ied or not <span class="bionic">exe</span>cutable?</summary>
          <div class="troubleshoot-content">
            <ul>
              <li><span class="bionic">Che</span>ck: Did you run <code>chmod +x scripts/ralph/ralph.sh</code>?</li>
              <li><span class="bionic">Che</span>ck: File <span class="bionic">per</span>missions should show <code>rwx</code> for owner</li>
              <li>If <span class="bionic">syn</span>tax check fails: Did you copy the <span class="bionic">ent</span>ire <span class="bionic">scr</span>ipt <span class="bionic">inc</span>luding <code>#!/bin/bash</code>?</li>
            </ul>
          </div>
        </details>
      </div>

      <!-- Tutorial: prompt.md -->
      <div class="tutorial-block">
        <div class="tutorial-header"><span class="bionic">Ste</span>p 3: <span class="bionic">Cre</span>ate prompt.md - Agent <span class="bionic">Ins</span>tructions</div>
        <div class="tutorial-content">
          <p>This file tells <span class="bionic">Cla</span>ude what to do on EACH <span class="bionic">ite</span>ration:</p>

          <div class="code-block-wrapper">
            <button class="copy-btn" onclick="navigator.clipboard.writeText(`# Ralph Agent Instructions

## Your Task

1. Read \`scripts/ralph/prd.json\`
2. Read \`scripts/ralph/progress.txt\` (check Codebase Patterns first)
3. Check you're on the correct branch
4. Pick highest priority story where \`passes: false\`
5. Implement that ONE story
6. Run typecheck and tests
7. Commit: \`feat: [ID] - [Title]\`
8. Update prd.json: \`passes: true\`
9. Append learnings to progress.txt

## Progress Format

APPEND to progress.txt:

---
## [Date] - [Story ID]
- What was implemented
- Files changed
- **Learnings:**
  - Patterns discovered
  - Gotchas encountered

## Stop Condition

If ALL stories pass, reply:
<promise>COMPLETE</promise>

Otherwise end normally.`)">Copy</button>
            <pre><code># Ralph Agent Instructions

## Your Task

1. Read `scripts/ralph/prd.json`
2. Read `scripts/ralph/progress.txt` (check Codebase Patterns first)
3. Check you're on the correct branch
4. Pick highest priority story where `passes: false`
5. Implement that ONE story
6. Run typecheck and tests
7. Commit: `feat: [ID] - [Title]`
8. Update prd.json: `passes: true`
9. Append learnings to progress.txt

## Progress Format

APPEND to progress.txt:

---
## [Date] - [Story ID]
- What was implemented
- Files changed
- **Learnings:**
  - Patterns discovered
  - Gotchas encountered

## Stop Condition

If ALL stories pass, reply:
&lt;promise&gt;COMPLETE&lt;/promise&gt;

Otherwise end normally.</code></pre>
          </div>
        </div>
      </div>

      <div class="visual-break">* * *</div>

      <!-- Tutorial: prd.json -->
      <div class="tutorial-block">
        <div class="tutorial-header"><span class="bionic">Ste</span>p 4: <span class="bionic">Cre</span>ate prd.json - Task <span class="bionic">Tra</span>cking</div>
        <div class="tutorial-content">
          <p>The PRD file is <span class="bionic">Ral</span>ph's <span class="bionic">ext</span>ernal <span class="bionic">mem</span>ory - where task <span class="bionic">sta</span>te lives <span class="bionic">bet</span>ween <span class="bionic">ite</span>rations.</p>

          <h4><span class="bionic">Sta</span>ndard <span class="bionic">For</span>mat:</h4>
          <div class="code-block-wrapper">
            <button class="copy-btn" onclick="navigator.clipboard.writeText(`{
  \"project\": \"Project Name\",
  \"branchName\": \"ralph/feature-name\",
  \"description\": \"Feature description\",
  \"userStories\": [
    {
      \"id\": \"US-001\",
      \"title\": \"Add login form\",
      \"description\": \"As a user, I need a login form\",
      \"acceptanceCriteria\": [
        \"Email/password fields render\",
        \"Validates email format\",
        \"Shows error on failure\",
        \"npm run typecheck passes\",
        \"npm run test passes\"
      ],
      \"priority\": 1,
      \"passes\": false,
      \"notes\": \"\"
    },
    {
      \"id\": \"US-002\",
      \"title\": \"Add authentication server action\",
      \"description\": \"Backend logic for login\",
      \"acceptanceCriteria\": [
        \"Checks credentials against database\",
        \"Returns session token on success\",
        \"npm run typecheck passes\"
      ],
      \"priority\": 2,
      \"passes\": false,
      \"notes\": \"\"
    }
  ]
}`)">Copy</button>
            <pre><code>{
  "project": "Project Name",
  "branchName": "ralph/feature-name",
  "description": "Feature description",
  "userStories": [
    {
      "id": "US-001",
      "title": "Add login form",
      "description": "As a user, I need a login form",
      "acceptanceCriteria": [
        "Email/password fields render",
        "Validates email format",
        "Shows error on failure",
        "npm run typecheck passes",
        "npm run test passes"
      ],
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Add authentication server action",
      "description": "Backend logic for login",
      "acceptanceCriteria": [
        "Checks credentials against database",
        "Returns session token on success",
        "npm run typecheck passes"
      ],
      "priority": 2,
      "passes": false,
      "notes": ""
    }
  ]
}</code></pre>
          </div>

          <div class="callout callout-insight">
            <div class="callout-title">Key Insight</div>
            <p><strong><span class="bionic">Alw</span>ays <span class="bionic">inc</span>lude</strong> <code>"npm run typecheck passes"</code> in <span class="bionic">eve</span>ry <span class="bionic">sto</span>ry's <span class="bionic">acc</span>eptance <span class="bionic">cri</span>teria. <span class="bionic">Ver</span>ification is <span class="bionic">non</span>-negotiable.</p>
          </div>
        </div>
      </div>

      <!-- Checkpoint after prd.json -->
      <div class="checkpoint">
        <div class="checkpoint-header">Checkpoint: PRD Created</div>
        <p><strong><span class="bionic">Ver</span>ify <span class="bionic">val</span>id JSON:</strong></p>
        <pre><code># Check valid JSON syntax
cat scripts/ralph/prd.json | jq . > /dev/null && echo "Valid JSON"

# List incomplete stories
cat scripts/ralph/prd.json | jq '.userStories[] | select(.passes == false) | .title'</code></pre>
        <p><strong>You <span class="bionic">sho</span>uld see:</strong></p>
        <pre><code>Valid JSON
"Add login form"
"Add authentication server action"</code></pre>

        <details class="troubleshoot">
          <summary>JSON <span class="bionic">par</span>se <span class="bionic">err</span>or?</summary>
          <div class="troubleshoot-content">
            <p><strong><span class="bionic">Com</span>mon <span class="bionic">err</span>ors:</strong></p>
            <ul>
              <li><span class="bionic">Tra</span>iling <span class="bionic">com</span>mas: <code>{"key": "value",}</code> - <span class="bionic">rem</span>ove last comma</li>
              <li><span class="bionic">Mis</span>sing <span class="bionic">quo</span>tes: <code>{key: "value"}</code> - add <span class="bionic">quo</span>tes <span class="bionic">aro</span>und keys</li>
              <li><span class="bionic">Unc</span>losed <span class="bionic">bra</span>ces: <code>{"key": "value"</code> - add <span class="bionic">clo</span>sing <code>}</code></li>
            </ul>
            <p>Use <a href="https://jsonlint.com">jsonlint.com</a> to <span class="bionic">val</span>idate and find <span class="bionic">err</span>ors.</p>
          </div>
        </details>
      </div>

      <!-- Tutorial: progress.txt -->
      <div class="tutorial-block">
        <div class="tutorial-header"><span class="bionic">Ste</span>p 5: <span class="bionic">Cre</span>ate progress.txt - <span class="bionic">Ext</span>ernal <span class="bionic">Mem</span>ory</div>
        <div class="tutorial-content">
          <div class="code-block-wrapper">
            <button class="copy-btn" onclick="navigator.clipboard.writeText(`# Ralph Progress Log
Started: 2026-01-09

## Codebase Patterns
- Migrations: Use IF NOT EXISTS
- Zod: Always use .optional() for nullable
- React: useRef<Timeout | null>(null)

## Key Files
- db/schema.ts
- app/auth/actions.ts

---`)">Copy</button>
            <pre><code># Ralph Progress Log
Started: 2026-01-09

## Codebase Patterns
- Migrations: Use IF NOT EXISTS
- Zod: Always use .optional() for nullable
- React: useRef&lt;Timeout | null&gt;(null)

## Key Files
- db/schema.ts
- app/auth/actions.ts

---</code></pre>
          </div>

          <div class="callout callout-warning">
            <div class="callout-title">Critical Rule</div>
            <p><strong>APPEND only, never UPDATE.</strong> The word "<span class="bionic">app</span>end" in <span class="bionic">ins</span>tructions is <span class="bionic">ess</span>ential for <span class="bionic">pre</span>serving <span class="bionic">lea</span>rnings <span class="bionic">acr</span>oss <span class="bionic">ite</span>rations.</p>
          </div>
        </div>
      </div>

      <!-- Final Pre-Flight Checkpoint -->
      <div class="checkpoint">
        <div class="checkpoint-header">Checkpoint: Complete Ralph Setup (Pre-Flight)</div>
        <p><strong><span class="bionic">Whe</span>re you are:</strong> All 4 files exist. You're <span class="bionic">rea</span>dy to run Ralph for the first time.</p>

        <p><strong><span class="bionic">Pre</span>-flight <span class="bionic">che</span>cklist:</strong></p>
        <ul>
          <li><input type="checkbox"> <code>ralph.sh</code> has shebang (<code>#!/bin/bash</code>) and is <span class="bionic">exe</span>cutable</li>
          <li><input type="checkbox"> <code>prompt.md</code> <span class="bionic">inc</span>ludes the <code>&lt;promise&gt;COMPLETE&lt;/promise&gt;</code> stop <span class="bionic">con</span>dition</li>
          <li><input type="checkbox"> <code>prd.json</code> is valid JSON with all <code>passes: false</code></li>
          <li><input type="checkbox"> <code>progress.txt</code> exists (can be empty or have <span class="bionic">hea</span>der)</li>
          <li><input type="checkbox"> Git branch <span class="bionic">cre</span>ated for this <span class="bionic">fea</span>ture</li>
          <li><input type="checkbox"> Tests can run (<code>npm test</code> or your test <span class="bionic">com</span>mand)</li>
        </ul>

        <p><strong><span class="bionic">Rea</span>dy to launch?</strong></p>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="navigator.clipboard.writeText('./scripts/ralph/ralph.sh 25')">Copy</button>
          <pre><code># The moment of truth
./scripts/ralph/ralph.sh 25</code></pre>
        </div>
      </div>

      <div class="milestone">Setup Complete - Ralph Is Ready!</div>
    </section>

    <!-- Section: All Variants -->
    <section id="all-variants">
      <h2><span class="bionic">All</span> <span class="bionic">Ral</span>ph <span class="bionic">Var</span>iants</h2>

      <p>The <span class="bionic">com</span>munity has <span class="bionic">evo</span>lved <span class="bionic">sev</span>eral <span class="bionic">spe</span>cialized <span class="bionic">ver</span>sions of the <span class="bionic">Ral</span>ph <span class="bionic">pat</span>tern:</p>

      <div class="variant-card">
        <h4><span class="bionic">Bas</span>ic Ralph</h4>
        <div class="author">The <span class="bionic">fou</span>ndational loop <span class="bionic">pat</span>tern</div>
        <p><strong>Use case:</strong> <span class="bionic">Sta</span>ndard <span class="bionic">fea</span>ture <span class="bionic">dev</span>elopment with clear <span class="bionic">acc</span>eptance <span class="bionic">cri</span>teria.</p>
        <p><strong><span class="bionic">Act</span>ionability:</strong> Medium lift - <span class="bionic">req</span>uires PRD setup + bash <span class="bionic">scr</span>ipting.</p>
      </div>

      <div class="variant-card">
        <h4>AFK Ralph (<span class="bionic">Awa</span>y From <span class="bionic">Key</span>board)</h4>
        <div class="author">@mattpocockuk</div>
        <p><strong><span class="bionic">Wha</span>t makes it <span class="bionic">dif</span>ferent:</strong></p>
        <ul>
          <li>Runs for <span class="bionic">hou</span>rs/days <span class="bionic">wit</span>hout human <span class="bionic">int</span>ervention</li>
          <li><span class="bionic">Req</span>uires <span class="bionic">bul</span>letproof <span class="bionic">fee</span>dback loops (tests, <span class="bionic">typ</span>echeck, CI)</li>
          <li>Wake up to <span class="bionic">com</span>pleted work</li>
        </ul>
        <blockquote>"KISS <span class="bionic">app</span>roach to AI <span class="bionic">cod</span>ing that lets you ship while you <span class="bionic">sle</span>ep" - Matt <span class="bionic">Poc</span>ock</blockquote>
      </div>

      <div class="variant-card">
        <h4>HOTL Ralph (<span class="bionic">Hum</span>an On The Loop)</h4>
        <p><span class="bionic">Sin</span>gle-iteration <span class="bionic">var</span>iant with human <span class="bionic">rev</span>iew between runs.</p>
        <p><strong>When to use:</strong></p>
        <ul>
          <li><span class="bionic">Sec</span>urity-sensitive code</li>
          <li><span class="bionic">Lea</span>rning a new <span class="bionic">cod</span>ebase</li>
          <li><span class="bionic">Deb</span>ugging stuck loops</li>
          <li><span class="bionic">Tra</span>ining PRD <span class="bionic">for</span>mat</li>
        </ul>
      </div>

      <div class="variant-card">
        <h4><span class="bionic">Com</span>pounding Ralph</h4>
        <div class="author">@ryancarson</div>
        <p><strong><span class="bionic">Wha</span>t it adds:</strong></p>
        <ul>
          <li><span class="bionic">Arc</span>hives PRDs from <span class="bionic">pre</span>vious runs</li>
          <li>Agent <span class="bionic">ref</span>erences past <span class="bionic">suc</span>cesses/<span class="bionic">fai</span>lures</li>
          <li>Each run makes the next <span class="bionic">bet</span>ter</li>
        </ul>
        <blockquote>"<span class="bionic">Wha</span>t's <span class="bionic">ama</span>zing is I can ask it to look at <span class="bionic">pre</span>vious runs to <span class="bionic">lea</span>rn what <span class="bionic">wor</span>ked or didn't work. So <span class="bionic">eve</span>ry time I run Ralph, it gets <span class="bionic">bet</span>ter and <span class="bionic">bet</span>ter." - Ryan <span class="bionic">Car</span>son</blockquote>
      </div>

      <div class="variant-card">
        <h4><span class="bionic">Par</span>allel Ralph</h4>
        <p><span class="bionic">Mul</span>tiple Ralph <span class="bionic">ins</span>tances <span class="bionic">run</span>ning <span class="bionic">sim</span>ultaneously on <span class="bionic">dif</span>ferent <span class="bionic">fea</span>tures/<span class="bionic">bra</span>nches.</p>
        <div class="code-block-wrapper">
          <button class="copy-btn" onclick="navigator.clipboard.writeText(`# Spawn parallel Ralph loops in separate worktrees
for feature in auth payments notifications; do
  git worktree add ../wt-\$feature \$feature-branch
  (cd ../wt-\$feature && ./ralph.sh 20) &
done
wait

# Merge results
for feature in auth payments notifications; do
  git merge wt-\$feature
done`)">Copy</button>
          <pre><code># Spawn parallel Ralph loops in separate worktrees
for feature in auth payments notifications; do
  git worktree add ../wt-$feature $feature-branch
  (cd ../wt-$feature && ./ralph.sh 20) &amp;
done
wait

# Merge results
for feature in auth payments notifications; do
  git merge wt-$feature
done</code></pre>
        </div>
        <p><strong><span class="bionic">Act</span>ionability:</strong> Medium-high lift.</p>
      </div>

      <div class="variant-card">
        <h4>Ralph <span class="bionic">Wig</span>gum <span class="bionic">Mar</span>keter</h4>
        <div class="author">@koylanai (<span class="bionic">Mur</span>atcan <span class="bionic">Koy</span>lan)</div>
        <p><strong>Repo:</strong> <a href="https://github.com/muratcankoylan/ralph-wiggum-marketer">github.com/muratcankoylan/ralph-wiggum-marketer</a></p>
        <p><span class="bionic">Sel</span>f-critiquing <span class="bionic">con</span>tent loop for <span class="bionic">mar</span>keting copy.</p>
        <p><strong><span class="bionic">Cri</span>tical <span class="bionic">ins</span>ight from <span class="bionic">aut</span>hor:</strong></p>
        <blockquote>"Ralph <span class="bionic">doe</span>sn't have the LLM '<span class="bionic">dis</span>cover' things on its own. Its <span class="bionic">dis</span>covery is a <span class="bionic">dat</span>abase-driven input <span class="bionic">sys</span>tem... The <span class="bionic">age</span>nt's job is <span class="bionic">syn</span>thesis."</blockquote>
      </div>
    </section>

    <div class="visual-break">* * *</div>

    <!-- Section: Critical Success Factors -->
    <section id="critical-success-factors">
      <h2><span class="bionic">Cri</span>tical <span class="bionic">Suc</span>cess <span class="bionic">Fac</span>tors</h2>

      <h3>1. Task <span class="bionic">Siz</span>ing (THE Most <span class="bionic">Cri</span>tical <span class="bionic">Fac</span>tor)</h3>

      <div class="callout callout-warning">
        <div class="callout-title">The Golden Rule</div>
        <p>Each task must be <span class="bionic">com</span>pletable in <strong>ONE <span class="bionic">ite</span>ration</strong> (~one <span class="bionic">con</span>text <span class="bionic">win</span>dow).</p>
      </div>

      <table>
        <thead>
          <tr>
            <th><span class="bionic">Rig</span>ht-sized tasks</th>
            <th>Too big (<span class="bionic">spl</span>it these)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Add a <span class="bionic">dat</span>abase column + <span class="bionic">mig</span>ration</td>
            <td>"Build the <span class="bionic">ent</span>ire <span class="bionic">das</span>hboard"</td>
          </tr>
          <tr>
            <td>Add a UI <span class="bionic">com</span>ponent to an <span class="bionic">exi</span>sting page</td>
            <td>"Add <span class="bionic">aut</span>hentication"</td>
          </tr>
          <tr>
            <td><span class="bionic">Upd</span>ate a <span class="bionic">ser</span>ver action with new logic</td>
            <td>"<span class="bionic">Ref</span>actor the API"</td>
          </tr>
          <tr>
            <td>Write tests for one <span class="bionic">mod</span>ule</td>
            <td>"<span class="bionic">Cre</span>ate <span class="bionic">e-c</span>ommerce flow"</td>
          </tr>
        </tbody>
      </table>

      <blockquote>"If you can't <span class="bionic">des</span>cribe it in 2-3 <span class="bionic">sen</span>tences, it's too big." - Ryan <span class="bionic">Car</span>son</blockquote>

      <h3>2. Story <span class="bionic">Ord</span>ering (<span class="bionic">Dep</span>endencies First)</h3>

      <div class="ascii-diagram">
Correct Order:
1. Schema/database changes (migrations)  ← FIRST
2. Server actions / backend logic
3. UI components that use the backend
4. Dashboard/summary views that aggregate  ← LAST

Wrong: UI component before the schema it depends on.</div>

      <h3>3. <span class="bionic">Acc</span>eptance <span class="bionic">Cri</span>teria (Must Be <span class="bionic">Ver</span>ifiable)</h3>

      <table>
        <thead>
          <tr>
            <th>Good (<span class="bionic">ver</span>ifiable)</th>
            <th>Bad (vague)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>"Add <span class="bionic">inv</span>estorType column with <span class="bionic">def</span>ault 'cold'"</td>
            <td>"Works <span class="bionic">cor</span>rectly"</td>
          </tr>
          <tr>
            <td>"<span class="bionic">Fil</span>ter <span class="bionic">dro</span>pdown has <span class="bionic">opt</span>ions: All, Cold, <span class="bionic">Fri</span>end"</td>
            <td>"Good UX"</td>
          </tr>
          <tr>
            <td>"npm run <span class="bionic">typ</span>echeck <span class="bionic">pas</span>ses"</td>
            <td>"<span class="bionic">Han</span>dles edge cases"</td>
          </tr>
        </tbody>
      </table>

      <h3>4. <span class="bionic">Fee</span>dback Loops (<span class="bionic">Non</span>-Negotiable)</h3>

      <div class="callout callout-danger">
        <div class="callout-title">Without <span class="bionic">ver</span>ification, Ralph <span class="bionic">pro</span>duces <span class="bionic">gar</span>bage.</div>
      </div>

      <table>
        <thead>
          <tr>
            <th><span class="bionic">Pri</span>ority</th>
            <th><span class="bionic">Met</span>hod</th>
            <th>Use Case</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Type <span class="bionic">che</span>cking</td>
            <td><code>npm run <span class="bionic">typ</span>echeck</code> - Always</td>
          </tr>
          <tr>
            <td>2</td>
            <td>Unit tests</td>
            <td><code>npm test</code> - For logic</td>
          </tr>
          <tr>
            <td>3</td>
            <td>CI green</td>
            <td>Every <span class="bionic">com</span>mit must pass</td>
          </tr>
          <tr>
            <td>4</td>
            <td><span class="bionic">Bro</span>wser <span class="bionic">aut</span>omation</td>
            <td><span class="bionic">Pla</span>ywright MCP for UI</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Section: Failure Modes -->
    <section id="failure-modes">
      <h2><span class="bionic">Com</span>mon <span class="bionic">Fai</span>lure <span class="bionic">Mod</span>es and <span class="bionic">Fix</span>es</h2>

      <details class="troubleshoot">
        <summary>1. <span class="bionic">Sto</span>ries Too Large</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptom:</strong> <span class="bionic">Con</span>text <span class="bionic">ove</span>rflow, <span class="bionic">bro</span>ken code, agent loses track.</p>
          <p><strong><span class="bionic">Dia</span>gnosis:</strong> Task takes more than one <span class="bionic">con</span>text window to <span class="bionic">com</span>plete.</p>
          <p><strong>Fix:</strong> Split into <span class="bionic">sma</span>ller <span class="bionic">sto</span>ries (2-3 <span class="bionic">sen</span>tence rule).</p>
          <pre><code>BAD: "Build entire auth system"

GOOD:
- "Add users table migration"
- "Add auth middleware"
- "Add login form component"
- "Add session management"</code></pre>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>2. Weak Tests / No <span class="bionic">Ver</span>ification</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptom:</strong> <span class="bionic">Err</span>ors <span class="bionic">com</span>pound <span class="bionic">acr</span>oss <span class="bionic">ite</span>rations; future <span class="bionic">ite</span>rations <span class="bionic">inh</span>erit <span class="bionic">bro</span>ken code.</p>
          <blockquote>"If you don't do this, you're <span class="bionic">ham</span>stringing future agent runs with bad code, and they'll need to <span class="bionic">bis</span>ect to find bugs. Super nasty." - Matt <span class="bionic">Poc</span>ock</blockquote>
          <p><strong>Fix:</strong> <span class="bionic">Req</span>uire <span class="bionic">typ</span>echeck + tests in EVERY <span class="bionic">acc</span>eptance <span class="bionic">cri</span>teria.</p>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>3. <span class="bionic">Fro</span>ntend <span class="bionic">Wit</span>hout <span class="bionic">Bro</span>wser <span class="bionic">Ver</span>ification</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptom:</strong> UI <span class="bionic">cha</span>nges <span class="bionic">cla</span>imed <span class="bionic">com</span>plete but <span class="bionic">vis</span>ually <span class="bionic">bro</span>ken.</p>
          <p><strong>Fix:</strong> Add <span class="bionic">Pla</span>ywright/<span class="bionic">bro</span>wser <span class="bionic">ver</span>ification:</p>
          <pre><code>"Verify at localhost:3000/login using dev-browser skill"</code></pre>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>4. <span class="bionic">Pro</span>gress <span class="bionic">Ove</span>rwriting (Not <span class="bionic">App</span>ending)</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptom:</strong> <span class="bionic">Lea</span>rnings lost <span class="bionic">bet</span>ween <span class="bionic">ite</span>rations.</p>
          <p><strong>Fix:</strong> Use the word "APPEND" <span class="bionic">exp</span>licitly in <span class="bionic">pro</span>mpt:</p>
          <pre><code>APPEND to progress.txt (never update or overwrite):</code></pre>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>5. Ralph Stuck <span class="bionic">Rep</span>eating Same Task</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptom:</strong> Same task <span class="bionic">att</span>empted <span class="bionic">rep</span>eatedly, no <span class="bionic">pro</span>gress.</p>
          <p><strong><span class="bionic">Det</span>ection:</strong></p>
          <pre><code>STUCK_THRESHOLD=3
LAST_COMMIT=""
STUCK_COUNT=0

# In loop:
CURRENT_COMMIT=$(git rev-parse HEAD)
if [ "$CURRENT_COMMIT" = "$LAST_COMMIT" ]; then
  STUCK_COUNT=$((STUCK_COUNT + 1))
  if [ $STUCK_COUNT -ge $STUCK_THRESHOLD ]; then
    echo "WARNING: Stuck for $STUCK_COUNT iterations"
    exit 1
  fi
fi
LAST_COMMIT=$CURRENT_COMMIT</code></pre>
          <p><strong><span class="bionic">Man</span>ual <span class="bionic">int</span>ervention:</strong></p>
          <ol>
            <li>Set <code>passes: false</code> on <span class="bionic">pro</span>blematic story</li>
            <li>Add notes field with <span class="bionic">con</span>text</li>
            <li><span class="bionic">Red</span>uce <span class="bionic">acc</span>eptance <span class="bionic">cri</span>teria scope</li>
            <li>Run Ralph again</li>
          </ol>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>6. <span class="bionic">Int</span>eractive <span class="bionic">Pro</span>mpts <span class="bionic">Blo</span>cking</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptom:</strong> <span class="bionic">Scr</span>ipt hangs <span class="bionic">wai</span>ting for user input.</p>
          <p><strong>Fix:</strong></p>
          <pre><code>echo -e "\n\n\n" | npm run db:generate</code></pre>
          <p>Or use <code>--yes</code> flags where <span class="bionic">ava</span>ilable.</p>
        </div>
      </details>
    </section>

    <!-- Section: Case Studies -->
    <section id="case-studies">
      <h2><span class="bionic">Rea</span>l <span class="bionic">Res</span>ults and Case <span class="bionic">Stu</span>dies</h2>

      <div class="real-world-example">
        <div class="real-world-header">Ryan <span class="bionic">Car</span>son's 14-<span class="bionic">Ite</span>ration <span class="bionic">Fea</span>ture</div>
        <div class="real-world-content">
          <table>
            <tr><td><strong><span class="bionic">Pro</span>ject:</strong></td><td><span class="bionic">Unt</span>angle Legal Agent</td></tr>
            <tr><td><strong><span class="bionic">Fea</span>ture:</strong></td><td><span class="bionic">Inc</span>ome <span class="bionic">Ups</span>ert Tool</td></tr>
            <tr><td><strong><span class="bionic">Ite</span>rations:</strong></td><td>14</td></tr>
            <tr><td><strong>Time:</strong></td><td>~2 hours <span class="bionic">aut</span>onomous</td></tr>
            <tr><td><strong>Cost:</strong></td><td>~$10-15 <span class="bionic">est</span>imate</td></tr>
          </table>
          <p><strong>What was built:</strong> Tool <span class="bionic">ske</span>leton with Zod schema, <span class="bionic">cat</span>egory <span class="bionic">map</span>ping, <span class="bionic">dup</span>licate <span class="bionic">det</span>ection, <span class="bionic">dat</span>abase <span class="bionic">ope</span>rations, UI <span class="bionic">com</span>ponents, <span class="bionic">val</span>idation logic.</p>
          <blockquote>"<span class="bionic">Lea</span>rnings <span class="bionic">com</span>pound. By story 10, Ralph knew our <span class="bionic">pat</span>terns."</blockquote>
        </div>
      </div>

      <div class="real-world-example">
        <div class="real-world-header">Matt <span class="bionic">Poc</span>ock's Video <span class="bionic">Edi</span>tor</div>
        <div class="real-world-content">
          <table>
            <tr><td><strong><span class="bionic">Pro</span>ject:</strong></td><td>AI Hero Video <span class="bionic">Edi</span>tor</td></tr>
            <tr><td><strong><span class="bionic">Fea</span>ture:</strong></td><td>Beats <span class="bionic">dis</span>play <span class="bionic">sys</span>tem</td></tr>
            <tr><td><strong><span class="bionic">Out</span>come:</strong></td><td><span class="bionic">Vis</span>ual <span class="bionic">fea</span>ture <span class="bionic">com</span>pleted with <span class="bionic">Pla</span>ywright <span class="bionic">ver</span>ification</td></tr>
          </table>
          <blockquote>"The beats <span class="bionic">dis</span>play as three <span class="bionic">ora</span>nge <span class="bionic">ell</span>ipses dots below clip - Claude used <span class="bionic">Pla</span>ywright to <span class="bionic">ver</span>ify the UI <span class="bionic">act</span>ually <span class="bionic">ren</span>dered <span class="bionic">cor</span>rectly."</blockquote>
        </div>
      </div>

      <h3>Cost <span class="bionic">Est</span>imates</h3>

      <table>
        <thead>
          <tr>
            <th><span class="bionic">Ite</span>rations</th>
            <th><span class="bionic">Tok</span>ens (est.)</th>
            <th>Cost @ $15/M</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>10</td><td>30K-150K</td><td>$0.45-$2.25</td></tr>
          <tr><td>25</td><td>75K-375K</td><td>$1.13-$5.63</td></tr>
          <tr><td>50</td><td>150K-750K</td><td>$2.25-$11.25</td></tr>
          <tr><td>100</td><td>300K-1.5M</td><td>$4.50-$22.50</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Section: When NOT to Use -->
    <section id="when-not-to-use">
      <h2><span class="bionic">Whe</span>n NOT to Use Ralph</h2>

      <div class="anti-pattern-list">
        <p><strong><span class="bionic">Ant</span>i-Patterns (Do Not Use Ralph For):</strong></p>
        <ol>
          <li><strong><span class="bionic">Sub</span>jective tasks</strong> - "Make this <span class="bionic">pre</span>tty" has no <span class="bionic">ver</span>ifiable <span class="bionic">com</span>pletion</li>
          <li><strong><span class="bionic">Sec</span>urity-critical code</strong> - Needs human <span class="bionic">rev</span>iew, not <span class="bionic">aut</span>onomous loops</li>
          <li><strong><span class="bionic">Amb</span>iguous <span class="bionic">req</span>uirements</strong> - "Build <span class="bionic">som</span>ething cool" will waste <span class="bionic">tok</span>ens</li>
          <li><strong><span class="bionic">One</span>-shot <span class="bionic">ope</span>rations</strong> - No need for loops if it's a <span class="bionic">sin</span>gle task</li>
          <li><strong><span class="bionic">Exp</span>loratory work</strong> - No <span class="bionic">def</span>ined end state</li>
          <li><strong><span class="bionic">Des</span>ign <span class="bionic">dec</span>isions</strong> - Ralph <span class="bionic">imp</span>lements, humans <span class="bionic">dec</span>ide</li>
          <li><strong><span class="bionic">Leg</span>acy code <span class="bionic">wit</span>hout tests</strong> - No <span class="bionic">ver</span>ification = no Ralph</li>
          <li><strong><span class="bionic">Pro</span>duction <span class="bionic">dep</span>loyments</strong> - Always <span class="bionic">rev</span>iew before <span class="bionic">shi</span>pping</li>
        </ol>
      </div>

      <blockquote>"A word of <span class="bionic">war</span>ning that it <span class="bionic">doe</span>sn't take the place of good <span class="bionic">pla</span>nning and <span class="bionic">con</span>text <span class="bionic">eng</span>ineering <span class="bionic">pha</span>ses... why burn <span class="bionic">tok</span>ens on brute force" - @seltzergenius</blockquote>
    </section>

    <!-- Section: Combinations -->
    <section id="combinations">
      <h2><span class="bionic">Com</span>binations That <span class="bionic">Enh</span>ance Ralph</h2>

      <h3>Ralph + Opus 4.5 + <span class="bionic">Pla</span>ywright = "AGI"</h3>

      <p><strong>Source:</strong> @weswinder</p>

      <table>
        <thead>
          <tr><th><span class="bionic">Com</span>ponent</th><th>Role</th></tr>
        </thead>
        <tbody>
          <tr><td><strong>Opus 4.5</strong></td><td><span class="bionic">Str</span>ong <span class="bionic">und</span>erlying model for <span class="bionic">rea</span>soning</td></tr>
          <tr><td><strong>Ralph <span class="bionic">Wig</span>gum</strong></td><td><span class="bionic">Ite</span>rative loop that <span class="bionic">per</span>sists <span class="bionic">thr</span>ough <span class="bionic">fai</span>lures</td></tr>
          <tr><td><strong><span class="bionic">Pla</span>ywright</strong></td><td><span class="bionic">Bro</span>wser <span class="bionic">aut</span>omation for <span class="bionic">rea</span>l-world <span class="bionic">ver</span>ification</td></tr>
        </tbody>
      </table>

      <blockquote>"The <span class="bionic">fee</span>dback loop is <span class="bionic">eve</span>rything, but put <span class="bionic">cos</span>tly tools like <span class="bionic">bro</span>wser <span class="bionic">con</span>trol in <span class="bionic">sub</span>agents to <span class="bionic">pro</span>tect your main <span class="bionic">con</span>text window <span class="bionic">tok</span>ens" - @TendiesOfWisdom</blockquote>

      <h3>Ralph + Git <span class="bionic">Wor</span>ktrees (<span class="bionic">Par</span>allel <span class="bionic">Exe</span>cution)</h3>

      <p><strong><span class="bionic">Pur</span>pose:</strong> True <span class="bionic">iso</span>lation <span class="bionic">bet</span>ween <span class="bionic">par</span>allel <span class="bionic">age</span>nts.</p>
      <ul>
        <li>No file <span class="bionic">con</span>flicts</li>
        <li><span class="bionic">Sha</span>red git <span class="bionic">his</span>tory</li>
        <li>Can run on <span class="bionic">sep</span>arate <span class="bionic">mac</span>hines</li>
      </ul>

      <h3>Ralph + CC <span class="bionic">Mir</span>ror <span class="bionic">Orc</span>hestration</h3>

      <p><strong><span class="bionic">Pur</span>pose:</strong> <span class="bionic">Mul</span>ti-agent <span class="bionic">coo</span>rdination with Ralph as the task <span class="bionic">exe</span>cutor.</p>
      <ol>
        <li>Use CC <span class="bionic">Mir</span>ror for task <span class="bionic">dec</span>omposition</li>
        <li>Each agent uses Ralph for its <span class="bionic">ass</span>igned task</li>
        <li><span class="bionic">Tas</span>kCreate/<span class="bionic">Tas</span>kUpdate for <span class="bionic">coo</span>rdination</li>
        <li><span class="bionic">Par</span>allel Ralph loops on <span class="bionic">sep</span>arate <span class="bionic">bra</span>nches</li>
      </ol>
    </section>

    <!-- Section: Troubleshooting -->
    <section id="troubleshooting">
      <h2><span class="bionic">Tro</span>ubleshooting</h2>

      <details class="troubleshoot">
        <summary>Error: "ralph.sh: <span class="bionic">Per</span>mission <span class="bionic">den</span>ied"</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptoms:</strong> <span class="bionic">Can</span>not <span class="bionic">exe</span>cute the Ralph <span class="bionic">scr</span>ipt</p>
          <p><strong>Cause:</strong> <span class="bionic">Scr</span>ipt lacks <span class="bionic">exe</span>cute <span class="bionic">per</span>mission</p>
          <p><strong><span class="bionic">Sol</span>ution:</strong></p>
          <pre><code># Add execute permission
chmod +x scripts/ralph/ralph.sh

# Or run with bash explicitly
bash scripts/ralph/ralph.sh 10</code></pre>
          <p><strong><span class="bionic">Pre</span>vention:</strong> Always run <code>chmod +x</code> after <span class="bionic">cre</span>ating <span class="bionic">scr</span>ipts</p>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Error: "claude: <span class="bionic">com</span>mand not found"</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptoms:</strong> <span class="bionic">Scr</span>ipt runs but can't find Claude Code</p>
          <p><strong>Cause:</strong> Claude Code not <span class="bionic">ins</span>talled or not in PATH</p>
          <p><strong><span class="bionic">Sol</span>ution:</strong></p>
          <pre><code># Install Claude Code
npm install -g @anthropic-ai/claude-code

# Verify installation
which claude
claude --version

# If still not found, add npm global to PATH
export PATH="$PATH:$(npm bin -g)"</code></pre>
        </div>
      </details>

      <details class="troubleshoot">
        <summary>Loop <span class="bionic">con</span>tinues after all tasks done</summary>
        <div class="troubleshoot-content">
          <p><strong><span class="bionic">Sym</span>ptoms:</strong> All <span class="bionic">sto</span>ries pass but Ralph <span class="bionic">doe</span>sn't exit</p>
          <p><strong>Cause:</strong> <span class="bionic">Com</span>pletion <span class="bionic">pro</span>mise not being <span class="bionic">out</span>put or not <span class="bionic">det</span>ected</p>
          <p><strong><span class="bionic">Sol</span>ution:</strong></p>
          <pre><code># Check prompt.md has correct format:
"If ALL stories pass, reply exactly:
&lt;promise&gt;COMPLETE&lt;/promise&gt;"

# Check ralph.sh has correct grep:
if grep -q "&lt;promise&gt;COMPLETE&lt;/promise&gt;" output.txt; then

# Test detection manually:
echo "&lt;promise&gt;COMPLETE&lt;/promise&gt;" > test.txt
grep -q "&lt;promise&gt;COMPLETE&lt;/promise&gt;" test.txt && echo "Match works"</code></pre>
        </div>
      </details>

      <details class="troubleshoot">
        <summary><span class="bionic">Eme</span>rgency <span class="bionic">Rec</span>overy: Ralph <span class="bionic">com</span>pletely stuck</summary>
        <div class="troubleshoot-content">
          <pre><code># Kill the running script
Ctrl+C

# Check state
git log --oneline -10
cat plans/prd.json | jq '.userStories[] | select(.passes == false)'
cat plans/progress.txt | tail -20

# Manual intervention
# Edit prd.json to fix/simplify stuck task
# Add notes to progress.txt explaining the issue

# Restart
./scripts/ralph/ralph.sh 10</code></pre>
        </div>
      </details>

      <details class="troubleshoot">
        <summary><span class="bionic">Eme</span>rgency <span class="bionic">Rec</span>overy: Ralph made bad <span class="bionic">cha</span>nges</summary>
        <div class="troubleshoot-content">
          <pre><code># Undo last Ralph commit
git reset --soft HEAD~1

# Or revert to before Ralph run
git log --oneline -20
git reset --hard abc123  # Last known good commit

# Fix and restart</code></pre>
        </div>
      </details>
    </section>

    <!-- The Bottom Line -->
    <div class="milestone">The Bottom Line</div>

    <section>
      <p>Ralph <span class="bionic">Wig</span>gum is not about <span class="bionic">mak</span>ing the agent <span class="bionic">sma</span>rter. It is about:</p>

      <ol>
        <li><strong><span class="bionic">Wor</span>king <span class="bionic">aro</span>und <span class="bionic">con</span>text <span class="bionic">lim</span>itations</strong> <span class="bionic">thr</span>ough fresh starts</li>
        <li><strong><span class="bionic">Lev</span>eraging <span class="bionic">per</span>sistence</strong> <span class="bionic">thr</span>ough <span class="bionic">ext</span>ernal <span class="bionic">mem</span>ory</li>
        <li><strong><span class="bionic">Bui</span>lding <span class="bionic">fee</span>dback loops</strong> that catch <span class="bionic">err</span>ors</li>
        <li><strong><span class="bionic">Com</span>pounding <span class="bionic">pro</span>gress</strong> <span class="bionic">acr</span>oss <span class="bionic">ite</span>rations</li>
        <li><strong><span class="bionic">Acc</span>epting <span class="bionic">imp</span>erfection</strong> while <span class="bionic">ach</span>ieving <span class="bionic">eve</span>ntual <span class="bionic">con</span>sistency</li>
      </ol>

      <blockquote>"Given <span class="bionic">exc</span>ellent <span class="bionic">upf</span>ront <span class="bionic">spe</span>cification, we can <span class="bionic">alr</span>eady <span class="bionic">ach</span>ieve <span class="bionic">mea</span>ningful <span class="bionic">una</span>ttended <span class="bionic">sof</span>tware <span class="bionic">pro</span>duction in 2026."</blockquote>

      <table>
        <thead>
          <tr><th>Human Role</th><th>AI Role</th></tr>
        </thead>
        <tbody>
          <tr><td><span class="bionic">Pro</span>duct <span class="bionic">Man</span>ager</td><td><span class="bionic">Imp</span>lementation Army</td></tr>
          <tr><td><span class="bionic">Arc</span>hitect</td><td><span class="bionic">Tir</span>eless <span class="bionic">Exe</span>cutor</td></tr>
          <tr><td>25-30 min <span class="bionic">pla</span>nning</td><td>8 hours <span class="bionic">gri</span>nding</td></tr>
          <tr><td><span class="bionic">Mor</span>ning <span class="bionic">rev</span>iew</td><td><span class="bionic">Ove</span>rnight <span class="bionic">shi</span>pping</td></tr>
        </tbody>
      </table>

      <p><strong>Ralph <span class="bionic">ena</span>bles "ship while you <span class="bionic">sle</span>ep" <span class="bionic">wor</span>kflows. The <span class="bionic">pat</span>tern is <span class="bionic">sim</span>ple, <span class="bionic">pow</span>erful, and <span class="bionic">pro</span>ven.</strong></p>
    </section>

    <!-- Related Pages -->
    <div class="related-pages">
      <h3><span class="bionic">Rel</span>ated Pages</h3>
      <ul>
        <li><a href="context-management.html"><span class="bionic">Con</span>text <span class="bionic">Man</span>agement <span class="bionic">Mas</span>tery <span class="bionic">Gui</span>de</a> - How <span class="bionic">fre</span>sh <span class="bionic">con</span>text <span class="bionic">wor</span>ks</li>
        <li><a href="multi-agent.html"><span class="bionic">Mul</span>ti-Agent <span class="bionic">Arc</span>hitecture <span class="bionic">Gui</span>de</a> - <span class="bionic">Sca</span>ling <span class="bionic">bey</span>ond Ralph</li>
        <li><a href="../../foundations/architecture/complexity-ladder.html"><span class="bionic">Com</span>plexity <span class="bionic">Lad</span>der</a> - Where Ralph fits</li>
      </ul>
    </div>

    <!-- Footer Navigation -->
    <nav class="footer-nav">
      <a href="context-management.html">&larr; <span class="bionic">Con</span>text <span class="bionic">Man</span>agement</a>
      <a href="multi-agent.html"><span class="bionic">Mul</span>ti-Agent <span class="bionic">Arc</span>hitecture &rarr;</a>
    </nav>

    <hr class="section-divider">

    <p><em><span class="bionic">Com</span>piled from 10 <span class="bionic">ext</span>raction <span class="bionic">doc</span>uments. Sources: @ryancarson, @mattpocockuk, @arvidkahl, @koylanai, @weswinder, <span class="bionic">Geo</span>ffrey <span class="bionic">Hun</span>tley, and <span class="bionic">com</span>munity <span class="bionic">con</span>tributions.</em></p>
  </div>

  
  <script src="../../js/copy-code.js"></script>
  <script src="../../js/search.js"></script>
</body>
</html>
