<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Snippet Component - Soul Audit</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <style>
        /* ═══════════════════════════════════════════════════════════════════
           DESIGN TOKENS — From KortAI Soul Extraction
           ═══════════════════════════════════════════════════════════════════ */

        :root {
            /* Typography */
            --font-serif: 'Instrument Serif', Georgia, serif;
            --font-sans: 'Inter', system-ui, sans-serif;
            --font-mono: 'JetBrains Mono', monospace;

            --weight-regular: 400;
            --weight-medium: 500;

            --size-xs: 11px;
            --size-sm: 12px;
            --size-base: 14px;

            --leading-tight: 1.3;
            --leading-normal: 1.5;
            --leading-relaxed: 1.7;

            /* Colors - Text */
            --text-primary: #1A1A1A;
            --text-secondary: #444444;
            --text-tertiary: #888888;
            --text-muted: #AAAAAA;
            --text-inverse: #E8E8E8;

            /* Colors - Background */
            --bg-page: #FAFAFA;
            --bg-warm: #FEF9F5;
            --bg-dark: #1A1A1A;
            --bg-code: #1E1E1E;

            /* Colors - Accent */
            --accent-red: #E83025;

            /* Syntax Highlighting - Restrained palette */
            --syntax-keyword: #C586C0;
            --syntax-string: #CE9178;
            --syntax-function: #DCDCAA;
            --syntax-variable: #9CDCFE;
            --syntax-comment: #6A9955;
            --syntax-number: #B5CEA8;

            /* Spacing */
            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 12px;
            --space-base: 16px;
            --space-lg: 20px;

            /* Container */
            --radius-sm: 4px;
            --radius-md: 6px;
        }

        /* ═══════════════════════════════════════════════════════════════════
           PAGE SETUP
           ═══════════════════════════════════════════════════════════════════ */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background: var(--bg-page);
            color: var(--text-primary);
            padding: 48px;
            line-height: var(--leading-relaxed);
        }

        .audit-container {
            max-width: 720px;
            margin: 0 auto;
        }

        .audit-label {
            font-family: var(--font-sans);
            font-size: var(--size-xs);
            font-weight: var(--weight-medium);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: var(--space-base);
        }

        /* ═══════════════════════════════════════════════════════════════════
           CODE SNIPPET COMPONENT
           ═══════════════════════════════════════════════════════════════════ */

        .code-snippet {
            background: var(--bg-code);
            border-radius: 0; /* Sharp corners per KortAI soul */
            overflow: hidden;
        }

        /* ZONE 1: Header */
        .code-snippet__header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-md) var(--space-base);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .code-snippet__language {
            font-family: var(--font-mono);
            font-size: var(--size-xs);
            font-weight: var(--weight-regular);
            color: var(--text-muted);
            text-transform: lowercase;
        }

        .code-snippet__filename {
            font-family: var(--font-mono);
            font-size: var(--size-sm);
            color: var(--text-tertiary);
        }

        .code-snippet__copy {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            background: transparent;
            border: none;
            color: var(--text-tertiary);
            font-family: var(--font-sans);
            font-size: var(--size-xs);
            font-weight: var(--weight-medium);
            cursor: pointer;
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-sm);
            transition: color 0.15s ease;
        }

        .code-snippet__copy:hover {
            color: var(--text-inverse);
        }

        .code-snippet__copy-icon {
            width: 14px;
            height: 14px;
        }

        /* ZONE 2: Code Content */
        .code-snippet__content {
            padding: var(--space-base);
            overflow-x: auto;
        }

        .code-snippet__pre {
            margin: 0;
            font-family: var(--font-mono);
            font-size: 13px;
            line-height: 1.6;
            color: var(--text-inverse);
        }

        .code-snippet__code {
            display: block;
        }

        /* Line numbers - subtle, not competing */
        .code-snippet__line {
            display: block;
        }

        .code-snippet__line-number {
            display: inline-block;
            width: 32px;
            color: var(--text-muted);
            user-select: none;
            text-align: right;
            padding-right: var(--space-md);
            opacity: 0.5;
        }

        /* Syntax highlighting - restrained palette */
        .token-keyword { color: var(--syntax-keyword); }
        .token-string { color: var(--syntax-string); }
        .token-function { color: var(--syntax-function); }
        .token-variable { color: var(--syntax-variable); }
        .token-comment { color: var(--syntax-comment); font-style: italic; }
        .token-number { color: var(--syntax-number); }
        .token-operator { color: var(--text-inverse); }
        .token-punctuation { color: var(--text-tertiary); }
    </style>
</head>
<body>
    <div class="audit-container">
        <div class="audit-label">Component: Code Snippet — Soul Audit</div>

        <!-- Code Snippet Component -->
        <div class="code-snippet">
            <!-- Zone 1: Header -->
            <div class="code-snippet__header">
                <div class="code-snippet__language">javascript</div>
                <button class="code-snippet__copy">
                    <svg class="code-snippet__copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    Copy
                </button>
            </div>

            <!-- Zone 2: Code Content -->
            <div class="code-snippet__content">
                <pre class="code-snippet__pre"><code class="code-snippet__code"><span class="code-snippet__line"><span class="code-snippet__line-number">1</span><span class="token-comment">// Ralph Wiggum Loop — continuous agent iteration</span></span>
<span class="code-snippet__line"><span class="code-snippet__line-number">2</span><span class="token-keyword">while</span> <span class="token-punctuation">(</span><span class="token-keyword">true</span><span class="token-punctuation">)</span> <span class="token-punctuation">{</span></span>
<span class="code-snippet__line"><span class="code-snippet__line-number">3</span>  <span class="token-keyword">const</span> <span class="token-variable">prompt</span> <span class="token-operator">=</span> <span class="token-keyword">await</span> <span class="token-function">readFile</span><span class="token-punctuation">(</span><span class="token-string">'PROMPT.md'</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></span>
<span class="code-snippet__line"><span class="code-snippet__line-number">4</span>  <span class="token-keyword">const</span> <span class="token-variable">result</span> <span class="token-operator">=</span> <span class="token-keyword">await</span> <span class="token-function">claudeCode</span><span class="token-punctuation">(</span><span class="token-variable">prompt</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></span>
<span class="code-snippet__line"><span class="code-snippet__line-number">5</span>  <span class="token-keyword">await</span> <span class="token-function">appendToLog</span><span class="token-punctuation">(</span><span class="token-variable">result</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></span>
<span class="code-snippet__line"><span class="code-snippet__line-number">6</span><span class="token-punctuation">}</span></span></code></pre>
            </div>
        </div>
    </div>

    <script>
        // Copy functionality
        document.querySelector('.code-snippet__copy').addEventListener('click', function() {
            const code = document.querySelector('.code-snippet__code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                this.innerHTML = `
                    <svg class="code-snippet__copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                    Copied
                `;
                setTimeout(() => {
                    this.innerHTML = `
                        <svg class="code-snippet__copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        Copy
                    `;
                }, 2000);
            });
        });
    </script>
</body>
</html>
