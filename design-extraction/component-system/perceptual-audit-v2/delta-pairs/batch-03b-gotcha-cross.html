<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Delta Batch 03B: Gotcha Callout + Cross-Family Pairs</title>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --font-title: 'Instrument Serif', Georgia, serif;
      --font-body: 'Inter', system-ui, sans-serif;
      --font-code: 'JetBrains Mono', 'SF Mono', monospace;
      --weight-semibold: 600;
      --size-xs: 10px;
      --size-sm: 12px;
      --size-base: 14px;
      --text-primary: #1a1a1a;
      --text-secondary: #3d3d3d;
      --text-tertiary: #666666;
      --text-muted: #888888;
      --bg-page: #FEFCF3;
      --bg-gotcha: #FEF2F2;
      --bg-essence: #FEF9F0;
      --accent-red: #E83025;
      --accent-coral: #E8625A;
      --accent-amber: #D97706;
      --space-xl: 24px;
      --space-lg: 20px;
      --space-base: 16px;
      --space-sm: 8px;
      --border-accent: 3px;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: var(--font-body); background: var(--bg-page); color: var(--text-primary); padding: 48px; line-height: 1.6; }
    .page-container { max-width: 720px; margin: 0 auto; }
    .batch-header { font-family: var(--font-title); font-style: italic; font-size: var(--size-xs); text-transform: uppercase; letter-spacing: 0.08em; color: var(--text-tertiary); margin-bottom: var(--space-xl); padding-bottom: 12px; border-bottom: 2px solid var(--accent-red); }
    .pair-section { margin-bottom: 64px; padding-bottom: 32px; border-bottom: 1px dashed var(--text-muted); }
    .pair-label { font-size: var(--size-sm); font-weight: var(--weight-semibold); text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-red); margin-bottom: var(--space-base); }

    .callout-gotcha { background: var(--bg-gotcha); border-left: var(--border-accent) solid var(--accent-coral); padding: var(--space-base) var(--space-lg); margin: var(--space-xl) 0; }
    .callout-gotcha .callout-label { font-size: var(--size-xs); font-weight: var(--weight-semibold); text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-coral); margin-bottom: var(--space-sm); }
    .callout-gotcha .callout-body { font-size: var(--size-sm); line-height: 1.6; color: var(--text-secondary); }

    .file-tree { background: var(--bg-page); border: 1px solid #E5E5E5; margin: var(--space-xl) 0; }
    .file-tree-header { padding: var(--space-sm) var(--space-base); border-bottom: 1px solid #E5E5E5; }
    .file-tree-title { font-size: var(--size-xs); font-weight: var(--weight-semibold); text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-red); }
    .file-tree-body { padding: var(--space-base); }
    .file-tree-body pre { font-family: var(--font-code); font-size: var(--size-sm); line-height: 1.8; color: var(--text-secondary); }

    .decision-matrix { margin: var(--space-xl) 0; }
    .matrix-header { padding-bottom: var(--space-sm); border-bottom: 2px solid var(--accent-red); margin-bottom: var(--space-base); }
    .matrix-title { font-size: var(--size-xs); font-weight: var(--weight-semibold); text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-red); }
    .matrix-table { width: 100%; border-collapse: collapse; font-size: var(--size-sm); }
    .matrix-table th { text-align: left; padding: var(--space-sm); border-bottom: 1px solid #E5E5E5; font-weight: var(--weight-semibold); text-transform: uppercase; font-size: var(--size-xs); color: var(--text-tertiary); }
    .matrix-table td { padding: var(--space-sm); border-bottom: 1px solid #E5E5E5; color: var(--text-secondary); }

    .core-abstraction { border: 1px solid #E5E5E5; margin: var(--space-xl) 0; }
    .abstraction-header { padding: var(--space-base) var(--space-lg); border-bottom: 1px solid #E5E5E5; }
    .abstraction-label { font-size: var(--size-xs); font-weight: var(--weight-semibold); text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-red); margin-bottom: var(--space-sm); }
    .abstraction-wisdom { font-family: var(--font-title); font-style: italic; font-size: var(--size-base); color: var(--text-secondary); }
    .abstraction-code { background: #1E1E1E; padding: var(--space-base); }
    .abstraction-code pre { font-family: var(--font-code); font-size: var(--size-sm); color: #E8E8E8; }

    .task-component { margin: var(--space-xl) 0; }
    .task-header { display: flex; justify-content: space-between; padding-bottom: var(--space-sm); border-bottom: 2px solid var(--accent-red); margin-bottom: var(--space-base); }
    .task-title { font-size: var(--size-xs); font-weight: var(--weight-semibold); text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-red); }
    .task-counter { font-family: var(--font-code); font-size: var(--size-xs); color: var(--text-muted); }
    .task-list { list-style: none; }
    .task-item { display: flex; gap: var(--space-sm); padding: var(--space-sm) 0; }
    .task-checkbox { width: 16px; height: 16px; border: 1px solid var(--text-tertiary); flex-shrink: 0; margin-top: 2px; }
    .task-text { font-size: var(--size-sm); color: var(--text-secondary); }

    .reasoning-component { border: 1px solid #E5E5E5; margin: var(--space-xl) 0; }
    .reasoning-header { padding: var(--space-base) var(--space-lg); border-bottom: 1px solid #E5E5E5; }
    .reasoning-question { font-family: var(--font-title); font-style: italic; font-size: var(--size-base); color: var(--text-primary); }
    .reasoning-columns { display: grid; grid-template-columns: 1fr 1fr; }
    .reasoning-column { padding: var(--space-base) var(--space-lg); }
    .reasoning-column:first-child { border-right: 1px solid #E5E5E5; }
    .reasoning-column-title { font-size: var(--size-xs); font-weight: var(--weight-semibold); text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-red); margin-bottom: var(--space-sm); }
    .reasoning-column-body { font-size: var(--size-sm); line-height: 1.6; color: var(--text-secondary); }
    .reasoning-recommendation { padding: var(--space-base) var(--space-lg); background: var(--bg-essence); border-top: 1px solid #E5E5E5; }
    .reasoning-rec-label { font-size: var(--size-xs); font-weight: var(--weight-semibold); text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-amber); margin-bottom: 4px; }
    .reasoning-rec-text { font-size: var(--size-sm); color: var(--text-secondary); }
  </style>
</head>
<body>
  <div class="page-container">
    <div class="batch-header">Phase 4-Delta / Batch 03B: Gotcha Callout + Cross-Family Pairs</div>

    <!-- D.3: Gotcha + File Tree -->
    <section class="pair-section" id="pair-d3">
      <div class="pair-label">D.3: Gotcha Callout + File Tree</div>
      <div class="callout-gotcha">
        <div class="callout-label">Gotcha</div>
        <div class="callout-body">Don't put business logic in components. This makes testing difficult and creates hidden dependencies.</div>
      </div>
      <div class="file-tree">
        <div class="file-tree-header"><span class="file-tree-title">Anti-Pattern to Avoid</span></div>
        <div class="file-tree-body">
          <pre>src/
├── components/
│   └── UserCard.tsx     ❌ Contains API calls
│       └── fetchUser()  ❌ Business logic here
└── services/
    └── (empty)          ❌ Should be here</pre>
        </div>
      </div>
    </section>

    <!-- D.4: Gotcha + Decision Matrix -->
    <section class="pair-section" id="pair-d4">
      <div class="pair-label">D.4: Gotcha Callout + Decision Matrix</div>
      <div class="callout-gotcha">
        <div class="callout-label">Gotcha</div>
        <div class="callout-body">These patterns have hidden costs. The "simple" option often becomes expensive at scale.</div>
      </div>
      <div class="decision-matrix">
        <div class="matrix-header"><span class="matrix-title">Hidden Costs by Approach</span></div>
        <table class="matrix-table">
          <thead><tr><th>Approach</th><th>Upfront Cost</th><th>Hidden Cost</th></tr></thead>
          <tbody>
            <tr><td>Monolith</td><td>Low</td><td>High (scaling)</td></tr>
            <tr><td>Microservices</td><td>High</td><td>Medium (complexity)</td></tr>
            <tr><td>Serverless</td><td>Medium</td><td>High (debugging)</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- D.5: Gotcha + Core Abstraction -->
    <section class="pair-section" id="pair-d5">
      <div class="pair-label">D.5: Gotcha Callout + Core Abstraction</div>
      <div class="callout-gotcha">
        <div class="callout-label">Gotcha</div>
        <div class="callout-body">This abstraction looks elegant but hides dangerous coupling. Every dependency is a liability.</div>
      </div>
      <div class="core-abstraction">
        <div class="abstraction-header">
          <div class="abstraction-label">Core Principle</div>
          <div class="abstraction-wisdom">"Premature abstraction is the root of all evil in large systems."</div>
        </div>
        <div class="abstraction-code">
          <pre>// Wait for duplication before abstracting
// Rule of three: abstract on the third occurrence
if (isDuplicated >= 3) abstract();</pre>
        </div>
      </div>
    </section>

    <!-- D.6: Gotcha + Task Component -->
    <section class="pair-section" id="pair-d6">
      <div class="pair-label">D.6: Gotcha Callout + Task Component</div>
      <div class="callout-gotcha">
        <div class="callout-label">Gotcha</div>
        <div class="callout-body">Don't skip any of these steps. Each one prevents a class of bugs that's expensive to fix later.</div>
      </div>
      <div class="task-component">
        <div class="task-header">
          <span class="task-title">Required Safety Checks</span>
          <span class="task-counter">0 of 3 complete</span>
        </div>
        <ul class="task-list">
          <li class="task-item"><div class="task-checkbox"></div><span class="task-text">Run type checker</span></li>
          <li class="task-item"><div class="task-checkbox"></div><span class="task-text">Run linter with strict mode</span></li>
          <li class="task-item"><div class="task-checkbox"></div><span class="task-text">Run security audit</span></li>
        </ul>
      </div>
    </section>

    <!-- D.7: Gotcha + Reasoning -->
    <section class="pair-section" id="pair-d7">
      <div class="pair-label">D.7: Gotcha Callout + Reasoning Component</div>
      <div class="callout-gotcha">
        <div class="callout-label">Gotcha</div>
        <div class="callout-body">Both options have traps. Be aware of what you're trading before you decide.</div>
      </div>
      <div class="reasoning-component">
        <div class="reasoning-header"><div class="reasoning-question">Should we use SQL or NoSQL for our database?</div></div>
        <div class="reasoning-columns">
          <div class="reasoning-column">
            <div class="reasoning-column-title">SQL</div>
            <div class="reasoning-column-body">Strong consistency, but schema migrations are painful at scale.</div>
          </div>
          <div class="reasoning-column">
            <div class="reasoning-column-title">NoSQL</div>
            <div class="reasoning-column-body">Flexible schema, but eventual consistency causes subtle bugs.</div>
          </div>
        </div>
        <div class="reasoning-recommendation">
          <div class="reasoning-rec-label">Recommendation</div>
          <div class="reasoning-rec-text">Start with SQL for ACID guarantees. Only move to NoSQL when consistency requirements allow.</div>
        </div>
      </div>
    </section>

  </div>
</body>
</html>
