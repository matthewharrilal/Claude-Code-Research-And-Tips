<!--
═══════════════════════════════════════════════════════════════════════════════
LIGHT SECTION PROVENANCE HEADER — Phase 2B
File: design-extraction/component-system/showcase-nested.html
Part Of: component-system — Component showcase and demo pages
Contributed To: Visual verification of soul alignment across components
═══════════════════════════════════════════════════════════════════════════════
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nested Components — Phase 3.5</title>
  <link rel="stylesheet" href="css/components.css">
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    body {
      background: var(--color-background);
      color: var(--color-text);
      font-family: var(--font-body);
      line-height: var(--leading-relaxed);
      margin: 0;
      padding: var(--space-8);
      max-width: 1200px;
      margin: 0 auto;
    }

    .page-header {
      margin-bottom: var(--space-12);
      padding-bottom: var(--space-8);
      border-bottom: 4px solid var(--color-primary);
    }

    .page-title {
      font-family: var(--font-display);
      font-size: var(--text-display);
      font-weight: 600;
      margin: 0;
    }

    .page-subtitle {
      font-family: var(--font-body);
      font-size: var(--text-lg);
      color: var(--color-text-secondary);
      margin-top: var(--space-2);
    }

    .nav-links {
      display: flex;
      gap: var(--space-4);
      margin-top: var(--space-4);
    }

    .nav-links a {
      font-family: var(--font-body);
      font-size: var(--text-sm);
      color: var(--color-primary);
      text-decoration: none;
      padding: var(--space-2) var(--space-4);
      border: 1px solid var(--color-primary);
    }

    .nav-links a:hover {
      background: var(--color-primary);
      color: white;
    }

    .example {
      margin: var(--space-16) 0;
      padding-top: var(--space-8);
      border-top: 2px solid var(--color-border);
    }

    .example:first-of-type {
      border-top: none;
      padding-top: 0;
    }

    .example-header {
      margin-bottom: var(--space-6);
    }

    .example-number {
      font-family: var(--font-display);
      font-style: italic;
      font-size: var(--text-h1);
      color: var(--color-primary);
      line-height: 1;
    }

    .example-title {
      font-family: var(--font-display);
      font-size: var(--text-h3);
      font-weight: 600;
      margin: var(--space-2) 0 0 0;
    }

    .example-description {
      font-family: var(--font-body);
      font-size: var(--text-base);
      color: var(--color-text-secondary);
      margin-top: var(--space-2);
    }

    .example-content {
      padding: var(--space-6);
      background: white;
      border: 1px solid var(--color-border);
    }

    .side-by-side {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-6);
    }

    @media (max-width: 768px) {
      .side-by-side {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header class="page-header">
    <h1 class="page-title">Nested Components</h1>
    <p class="page-subtitle">8 examples of components composed together</p>
    <nav class="nav-links">
      <a href="index.html">Overview</a>
      <a href="showcase-all.html">All Components</a>
      <a href="anti-pattern-comparison.html">Anti-Patterns</a>
    </nav>
  </header>

  <!-- Example 1: Code Block inside Project Card -->
  <section class="example">
    <header class="example-header">
      <span class="example-number">01</span>
      <h2 class="example-title">Code Block Inside Project Card</h2>
      <p class="example-description">Technical project documentation with embedded code example.</p>
    </header>
    <div class="example-content">
      <article style="padding: var(--space-6); border: 2px solid var(--color-border);">
        <header style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: var(--space-4);">
          <h3 style="font-family: var(--font-display); font-size: var(--text-h3); font-weight: 600; margin: 0;">Context Manager Pattern</h3>
          <span style="font-family: var(--font-body); font-size: var(--text-sm); color: var(--color-text-secondary);">Pattern / 2025</span>
        </header>
        <p style="font-family: var(--font-body); font-size: var(--text-base); line-height: var(--leading-relaxed); color: var(--color-text); margin-bottom: var(--space-4);">
          A reusable pattern for managing agent context across session boundaries.
        </p>
        <figure class="code-block" data-component="code-block">
          <span class="code-block__label">TypeScript</span>
          <pre class="code-block__pre"><code class="code-block__code"><span class="keyword">interface</span> ContextManager {
  load(): <span class="keyword">Promise</span>&lt;Context&gt;;
  save(ctx: Context): <span class="keyword">Promise</span>&lt;<span class="keyword">void</span>&gt;;
}</code></pre>
        </figure>
      </article>
    </div>
  </section>

  <!-- Example 2: Gotcha Box inside Project Card -->
  <section class="example">
    <header class="example-header">
      <span class="example-number">02</span>
      <h2 class="example-title">Gotcha Box Inside Project Card</h2>
      <p class="example-description">Project documentation with embedded warning.</p>
    </header>
    <div class="example-content">
      <article style="padding: var(--space-6); border: 2px solid var(--color-border);">
        <header style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: var(--space-4);">
          <h3 style="font-family: var(--font-display); font-size: var(--text-h3); font-weight: 600; margin: 0;">Overnight Ralph Loop</h3>
          <span style="font-family: var(--font-body); font-size: var(--text-sm); color: var(--color-text-secondary);">Autonomous / 2025</span>
        </header>
        <p style="font-family: var(--font-body); font-size: var(--text-base); line-height: var(--leading-relaxed); color: var(--color-text); margin-bottom: var(--space-4);">
          Run Claude Code autonomously overnight for large refactoring tasks.
        </p>
        <aside class="gotcha-box" data-component="gotcha-box" role="note">
          <span class="gotcha-box__label">Critical Warning</span>
          <div class="gotcha-box__content">
            <p>Never run without rate limiting. You can exhaust your API quota in hours.</p>
          </div>
        </aside>
      </article>
    </div>
  </section>

  <!-- Example 3: File Tree inside Project Card -->
  <section class="example">
    <header class="example-header">
      <span class="example-number">03</span>
      <h2 class="example-title">File Tree Inside Project Card</h2>
      <p class="example-description">Project structure visualization within a card layout.</p>
    </header>
    <div class="example-content">
      <article style="padding: var(--space-6); border: 2px solid var(--color-border);">
        <header style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: var(--space-4);">
          <h3 style="font-family: var(--font-display); font-size: var(--text-h3); font-weight: 600; margin: 0;">Gas Town Architecture</h3>
          <span style="font-family: var(--font-body); font-size: var(--text-sm); color: var(--color-text-secondary);">Factory / 2025</span>
        </header>
        <div class="file-tree" data-component="file-tree">
          <span class="file-tree__label">Structure</span>
          <pre class="file-tree__content"><span class="file-tree__directory">gas-town/</span>
<span class="file-tree__branch">├── </span><span class="file-tree__item--emphasized">mayor/</span> <span class="file-tree__annotation">← Orchestrator</span>
<span class="file-tree__branch">├── </span><span class="file-tree__item--emphasized">deacon/</span> <span class="file-tree__annotation">← QA</span>
<span class="file-tree__branch">├── </span><span class="file-tree__directory">dogs/</span> <span class="file-tree__annotation">← Workers</span>
<span class="file-tree__branch">└── </span><span class="file-tree__item--emphasized">refinery/</span> <span class="file-tree__annotation">← Output</span></pre>
        </div>
      </article>
    </div>
  </section>

  <!-- Example 4: ASCII Art + Code Block -->
  <section class="example">
    <header class="example-header">
      <span class="example-number">04</span>
      <h2 class="example-title">ASCII Art + Code Block Combination</h2>
      <p class="example-description">Visual pattern diagram alongside implementation code.</p>
    </header>
    <div class="example-content">
      <div class="side-by-side">
        <figure class="ascii-art-container">
          <pre class="ascii-art ascii-art--md" style="color: var(--color-primary);">
+========================+
|                        |
|   @@@@@@    @@@@@@     |
|   @@@@@@    @@@@@@     |
|                        |
|   ================     |
|                        |
|   @@@@@@    @@@@@@     |
|   @@@@@@    @@@@@@     |
|                        |
+========================+
</pre>
          <figcaption style="font-family: var(--font-display); font-style: italic; font-size: var(--text-sm); color: var(--color-text-secondary); margin-top: var(--space-3);">Parallel Agent Architecture</figcaption>
        </figure>
        <figure class="code-block" data-component="code-block">
          <span class="code-block__label">Orchestration</span>
          <pre class="code-block__pre"><code class="code-block__code"><span class="keyword">const</span> results = <span class="keyword">await</span> Promise.all(
  agents.map(a => a.execute())
);

<span class="keyword">return</span> mergeContexts(results);</code></pre>
        </figure>
      </div>
    </div>
  </section>

  <!-- Example 5: Essence Box with Code Example -->
  <section class="example">
    <header class="example-header">
      <span class="example-number">05</span>
      <h2 class="example-title">Essence Box with Code Example</h2>
      <p class="example-description">Philosophy statement followed by its implementation.</p>
    </header>
    <div class="example-content">
      <aside class="essence-box" data-component="essence-box" role="note">
        <div class="essence-box__content">
          <p>External state survives context resets. What persists between sessions
          defines what the agent can become.</p>
        </div>
        <cite class="essence-box__attribution">Compound Intelligence</cite>
      </aside>
      <figure class="code-block" data-component="code-block" style="margin-top: var(--space-6);">
        <span class="code-block__label">Implementation</span>
        <pre class="code-block__pre"><code class="code-block__code"><span class="keyword">const</span> persist = {
  progress: <span class="string">'./PROGRESS.md'</span>,
  context: <span class="string">'./CLAUDE.md'</span>,
  memory: <span class="string">'./MEMORY.json'</span>
};</code></pre>
      </figure>
    </div>
  </section>

  <!-- Example 6: Multiple Callout Sequence -->
  <section class="example">
    <header class="example-header">
      <span class="example-number">06</span>
      <h2 class="example-title">Multiple Callout Sequence</h2>
      <p class="example-description">Gotcha, Tip, and Info callouts in logical flow.</p>
    </header>
    <div class="example-content">
      <h3 style="font-family: var(--font-display); font-size: var(--text-h3); font-weight: 600; margin-bottom: var(--space-6);">Setting Up Your First Ralph Loop</h3>

      <aside class="gotcha-box" data-component="gotcha-box" role="note">
        <span class="gotcha-box__label">Before You Start</span>
        <div class="gotcha-box__content">
          <p>Ensure you have a clear termination condition. Without one, the loop runs indefinitely.</p>
        </div>
      </aside>

      <aside class="tip-callout" data-component="tip-callout" role="note">
        <span class="tip-callout__label">Pro Tip</span>
        <div class="tip-callout__content">
          <p>Add <code>MAX_ITERATIONS=50</code> as a safety net while learning.</p>
        </div>
      </aside>

      <aside class="info-callout" data-component="info-callout" role="note">
        <span class="info-callout__label">Background</span>
        <div class="info-callout__content">
          <p>The name comes from the Simpsons "I'm in danger" meme.</p>
        </div>
      </aside>
    </div>
  </section>

  <!-- Example 7: Decision Matrix inside Reasoning Box -->
  <section class="example">
    <header class="example-header">
      <span class="example-number">07</span>
      <h2 class="example-title">Decision Matrix Inside Reasoning Box</h2>
      <p class="example-description">Structured comparison with embedded tabular data.</p>
    </header>
    <div class="example-content">
      <div class="reasoning-box" data-component="reasoning-box">
        <h4 class="reasoning-box__title">Choosing Your Orchestration Level</h4>
        <div class="reasoning-box__grid">
          <div class="reasoning-box__column">
            <div class="reasoning-box__column-header">Simple (L0-L2)</div>
            <div class="reasoning-box__column-content">
              <p>Single session or basic file persistence. Best for individual tasks.</p>
            </div>
          </div>
          <div class="reasoning-box__column">
            <div class="reasoning-box__column-header">Complex (L5-L7)</div>
            <div class="reasoning-box__column-content">
              <p>Multi-agent orchestration. Best for production workloads.</p>
            </div>
          </div>
        </div>

        <div class="decision-matrix" data-component="decision-matrix" style="margin: var(--space-4) 0; border-left: none; padding-left: var(--space-5);">
          <table class="decision-matrix__table" style="width: 100%;">
            <thead>
              <tr>
                <th>Level</th>
                <th>Pattern</th>
                <th>Team Size</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>L0-L1</td>
                <td>Vanilla</td>
                <td>Solo</td>
              </tr>
              <tr>
                <td>L2-L3</td>
                <td>Ralph</td>
                <td>Solo-Pair</td>
              </tr>
              <tr>
                <td>L5-L7</td>
                <td>Gas Town</td>
                <td>Team</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="reasoning-box__summary">
          <span class="reasoning-box__summary-label">Recommendation</span>
          <p class="reasoning-box__summary-content">Start at L2. Move up only when you hit concrete limitations.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Example 8: Full Documentation Page -->
  <section class="example">
    <header class="example-header">
      <span class="example-number">08</span>
      <h2 class="example-title">Full Documentation Page Simulation</h2>
      <p class="example-description">Complete page with multiple component types working together.</p>
    </header>
    <div class="example-content">
      <article style="padding-top: var(--space-4);">
        <header style="margin-bottom: var(--space-6);">
          <h2 style="font-family: var(--font-display); font-size: var(--text-h1); font-weight: 600; margin: 0;">The Ralph Wiggum Pattern</h2>
          <p style="font-family: var(--font-body); font-size: var(--text-lg); color: var(--color-text-secondary); margin-top: var(--space-2);">Continuous autonomous iteration</p>
        </header>

        <div class="challenge-box" data-component="challenge-box">
          <div class="challenge-box__level">L3</div>
          <div class="challenge-box__details">
            <div class="challenge-box__label">Intermediate</div>
            <p class="challenge-box__description">Requires CLAUDE.md familiarity.</p>
            <div class="challenge-box__modifiers">
              <span class="challenge-box__modifier">Autonomous</span>
              <span class="challenge-box__modifier">Multi-file</span>
            </div>
          </div>
        </div>

        <aside class="essence-box" data-component="essence-box" role="note" style="margin-top: var(--space-6);">
          <div class="essence-box__content">
            <p>Fresh context per iteration prevents hallucination accumulation.</p>
          </div>
        </aside>

        <div class="file-tree" data-component="file-tree" style="margin-top: var(--space-6);">
          <span class="file-tree__label">Required Files</span>
          <pre class="file-tree__content"><span class="file-tree__directory">project/</span>
<span class="file-tree__branch">├── </span><span class="file-tree__item--emphasized">PROMPT.md</span>
<span class="file-tree__branch">├── </span><span class="file-tree__item--emphasized">PROGRESS.md</span>
<span class="file-tree__branch">└── </span><span class="file-tree__item--emphasized">CLAUDE.md</span></pre>
        </div>

        <figure class="code-block" data-component="code-block" style="margin-top: var(--space-6);">
          <span class="code-block__label">run.sh</span>
          <pre class="code-block__pre"><code class="code-block__code"><span class="keyword">while</span> :; <span class="keyword">do</span> cat PROMPT.md | claude-code; <span class="keyword">done</span></code></pre>
        </figure>

        <aside class="gotcha-box" data-component="gotcha-box" role="note" style="margin-top: var(--space-6);">
          <span class="gotcha-box__label">Critical</span>
          <div class="gotcha-box__content">
            <p>Always include a termination condition.</p>
          </div>
        </aside>

        <div class="task-progression" data-component="task-progression" style="margin-top: var(--space-6);">
          <div class="task-progression__item task-progression__item--complete">
            <span class="task-progression__number">1.</span>
            <div class="task-progression__content">
              <h4 class="task-progression__title">Create files</h4>
              <p class="task-progression__description">Set up context files.</p>
            </div>
          </div>
          <div class="task-progression__item task-progression__item--current">
            <span class="task-progression__number">2.</span>
            <div class="task-progression__content">
              <h4 class="task-progression__title">Define objective</h4>
              <p class="task-progression__description">Write PROMPT.md.</p>
            </div>
          </div>
          <div class="task-progression__item task-progression__item--upcoming">
            <span class="task-progression__number">3.</span>
            <div class="task-progression__content">
              <h4 class="task-progression__title">Run loop</h4>
              <p class="task-progression__description">Execute and monitor.</p>
            </div>
          </div>
        </div>

        <aside class="tip-callout" data-component="tip-callout" role="note" style="margin-top: var(--space-6);">
          <span class="tip-callout__label">Best Practice</span>
          <div class="tip-callout__content">
            <p>Run your first loop during the day when you can monitor it.</p>
          </div>
        </aside>
      </article>
    </div>
  </section>

  <footer style="margin-top: var(--space-16); padding-top: var(--space-8); border-top: 1px solid var(--color-border); color: var(--color-text-secondary); font-size: var(--text-sm);">
    <p>Phase 3.5 Component System — Nested Examples</p>
  </footer>
</body>
</html>
