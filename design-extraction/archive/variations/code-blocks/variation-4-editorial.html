<!--
═══════════════════════════════════════════════════════════════
VARIATION: Editorial Code Block
CREATIVE DIRECTION: Magazine/Publication

REFERENCE IMAGES:
- Image 6 (Sanrok Red Team): Editorial layout, team cards
- Image 7 (Sanrok Headline): Publication-quality typography

TECHNIQUES USED:
- Serif/Sans font pairing (Playfair Display + JetBrains Mono)
- Refined thin border (1px #d4d0c8)
- Warm cream background tint (#faf8f5)
- Editorial caption styling (italic serif, small caps credit)
- Hover-reveal copy button with smooth transition
- Muted line numbers in light gray (#b0a99f)
- Letter-spacing for refined badge typography
- Subtle shadow on hover for interaction feedback

WHY THIS WORKS:
- Typography mixing creates immediate visual sophistication
- Warm tones reduce eye strain while maintaining elegance
- The italic serif caption adds editorial authority
- Understated language badge doesn't compete with content
- Hover interactions reward exploration without distraction
- Overall aesthetic suggests curated, publication-quality content

RESEARCH SOURCE: research/editorial.md
═══════════════════════════════════════════════════════════════
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Editorial Code Block - Magazine Style</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Playfair+Display:ital,wght@0,400;0,500;1,400;1,500&family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* ═══════════════════════════════════════════════════════════════
       BASE STYLES
       ═══════════════════════════════════════════════════════════════ */

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f5f3ef;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 3rem 1.5rem;
      line-height: 1.7;
      color: #3d3d3d;
    }

    /* ═══════════════════════════════════════════════════════════════
       EDITORIAL CODE BLOCK COMPONENT
       ═══════════════════════════════════════════════════════════════ */

    .code-figure {
      max-width: 720px;
      width: 100%;
      margin: 0 auto;
    }

    /* The main code container */
    .code-editorial {
      position: relative;
      background: #faf8f5;
      border: 1px solid #d4d0c8;
      border-radius: 2px;
      overflow: hidden;
      transition: box-shadow 0.3s ease;
    }

    .code-editorial:hover {
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
    }

    /* Language badge - refined, understated */
    .code-language {
      position: absolute;
      top: 0;
      right: 0;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 0.625rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #8a8279;
      background: #f0ebe3;
      padding: 0.35rem 0.75rem;
      border-bottom-left-radius: 2px;
      border-left: 1px solid #d4d0c8;
      border-bottom: 1px solid #d4d0c8;
    }

    /* Copy button - appears on hover */
    .code-copy {
      position: absolute;
      top: 0.5rem;
      right: 4.5rem;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 0.6875rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #6b6359;
      background: transparent;
      border: 1px solid #c4bfb5;
      padding: 0.3rem 0.6rem;
      border-radius: 2px;
      cursor: pointer;
      opacity: 0;
      transform: translateY(-2px);
      transition: all 0.25s ease;
    }

    .code-editorial:hover .code-copy {
      opacity: 1;
      transform: translateY(0);
    }

    .code-copy:hover {
      background: #f0ebe3;
      border-color: #a8a196;
      color: #4a453d;
    }

    .code-copy:active {
      transform: scale(0.97);
    }

    .code-copy.copied {
      color: #5a8a6c;
      border-color: #8cb89c;
    }

    /* Pre and code styling */
    .code-editorial pre {
      margin: 0;
      padding: 1.75rem 1.5rem 1.5rem;
      overflow-x: auto;
      font-family: 'JetBrains Mono', 'SF Mono', Monaco, Consolas, monospace;
      font-size: 0.875rem;
      line-height: 1.75;
      color: #3d3d3d;
      -webkit-font-smoothing: antialiased;
    }

    .code-editorial code {
      font-family: inherit;
      display: block;
    }

    /* Code line structure */
    .code-line {
      display: flex;
      min-height: 1.75em;
    }

    /* Line numbers - muted, light gray */
    .line-number {
      flex-shrink: 0;
      width: 2.5rem;
      padding-right: 1.25rem;
      text-align: right;
      color: #b0a99f;
      user-select: none;
      font-size: 0.8125rem;
      font-variant-numeric: tabular-nums;
    }

    /* Line content */
    .line-content {
      flex: 1;
      white-space: pre;
    }

    /* ═══════════════════════════════════════════════════════════════
       EDITORIAL CAPTION / FIGCAPTION
       ═══════════════════════════════════════════════════════════════ */

    .code-caption {
      font-family: 'Playfair Display', Georgia, serif;
      font-style: italic;
      font-size: 0.9375rem;
      color: #5c544a;
      line-height: 1.6;
      padding: 1rem 0 0;
      margin-top: 0.75rem;
      border-top: 1px solid #e0dbd3;
    }

    .code-caption .caption-text {
      display: block;
    }

    /* Credit line in small caps */
    .code-caption .caption-credit {
      display: block;
      font-family: 'Source Sans Pro', sans-serif;
      font-style: normal;
      font-size: 0.6875rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #9a9388;
      margin-top: 0.5rem;
    }

    /* ═══════════════════════════════════════════════════════════════
       SYNTAX HIGHLIGHTING - SUBTLE, EDITORIAL PALETTE
       ═══════════════════════════════════════════════════════════════ */

    .token-keyword {
      color: #7d5a50;
      font-weight: 500;
    }

    .token-function {
      color: #4a6670;
    }

    .token-string {
      color: #5a7a5a;
    }

    .token-number {
      color: #7a6050;
    }

    .token-comment {
      color: #9a9388;
      font-style: italic;
    }

    .token-operator {
      color: #6b6359;
    }

    .token-punctuation {
      color: #8a8279;
    }

    .token-property {
      color: #5a6a7a;
    }

    .token-parameter {
      color: #6a5a70;
    }

    /* ═══════════════════════════════════════════════════════════════
       DEMO PAGE LAYOUT
       ═══════════════════════════════════════════════════════════════ */

    .demo-container {
      max-width: 800px;
      width: 100%;
    }

    .demo-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .demo-header h1 {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 2rem;
      font-weight: 500;
      color: #3d3d3d;
      letter-spacing: -0.01em;
      margin-bottom: 0.75rem;
    }

    .demo-header p {
      font-family: 'Playfair Display', Georgia, serif;
      font-style: italic;
      font-size: 1.125rem;
      color: #6b6359;
    }

    .demo-section {
      margin-bottom: 3rem;
    }

    .demo-section h2 {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: #8a8279;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid #e0dbd3;
    }

    /* Decorative section break */
    .section-break {
      text-align: center;
      margin: 2.5rem 0;
      color: #c4bfb5;
      font-size: 0.875rem;
      letter-spacing: 0.5em;
    }
  </style>
</head>
<body>
  <div class="demo-container">
    <header class="demo-header">
      <h1>Editorial Code Block</h1>
      <p>Publication-quality typography for technical content</p>
    </header>

    <div class="section-break">* * *</div>

    <section class="demo-section">
      <h2>With Caption</h2>
      <figure class="code-figure">
        <div class="code-editorial">
          <span class="code-language">JavaScript</span>
          <button class="code-copy" onclick="copyCode(this)" aria-label="Copy code">Copy</button>
          <pre><code><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="token-comment">/**</span></span></span>
<span class="code-line"><span class="line-number">2</span><span class="line-content"><span class="token-comment"> * Calculates the factorial of a given number</span></span></span>
<span class="code-line"><span class="line-number">3</span><span class="line-content"><span class="token-comment"> * using recursive decomposition.</span></span></span>
<span class="code-line"><span class="line-number">4</span><span class="line-content"><span class="token-comment"> */</span></span></span>
<span class="code-line"><span class="line-number">5</span><span class="line-content"><span class="token-keyword">function</span> <span class="token-function">factorial</span><span class="token-punctuation">(</span><span class="token-parameter">n</span><span class="token-punctuation">)</span> <span class="token-punctuation">{</span></span></span>
<span class="code-line"><span class="line-number">6</span><span class="line-content">  <span class="token-keyword">if</span> <span class="token-punctuation">(</span><span class="token-parameter">n</span> <span class="token-operator">&lt;=</span> <span class="token-number">1</span><span class="token-punctuation">)</span> <span class="token-punctuation">{</span></span></span>
<span class="code-line"><span class="line-number">7</span><span class="line-content">    <span class="token-keyword">return</span> <span class="token-number">1</span><span class="token-punctuation">;</span></span></span>
<span class="code-line"><span class="line-number">8</span><span class="line-content">  <span class="token-punctuation">}</span></span></span>
<span class="code-line"><span class="line-number">9</span><span class="line-content">  <span class="token-keyword">return</span> <span class="token-parameter">n</span> <span class="token-operator">*</span> <span class="token-function">factorial</span><span class="token-punctuation">(</span><span class="token-parameter">n</span> <span class="token-operator">-</span> <span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></span></span>
<span class="code-line"><span class="line-number">10</span><span class="line-content"><span class="token-punctuation">}</span></span></span>
<span class="code-line"><span class="line-number">11</span><span class="line-content"></span></span>
<span class="code-line"><span class="line-number">12</span><span class="line-content"><span class="token-comment">// Example usage</span></span></span>
<span class="code-line"><span class="line-number">13</span><span class="line-content"><span class="token-keyword">const</span> result <span class="token-operator">=</span> <span class="token-function">factorial</span><span class="token-punctuation">(</span><span class="token-number">5</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></span></span>
<span class="code-line"><span class="line-number">14</span><span class="line-content">console<span class="token-punctuation">.</span><span class="token-function">log</span><span class="token-punctuation">(</span>result<span class="token-punctuation">)</span><span class="token-punctuation">;</span> <span class="token-comment">// Output: 120</span></span></span></code></pre>
        </div>
        <figcaption class="code-caption">
          <span class="caption-text">A recursive implementation demonstrating the elegance of mathematical functions expressed in code.</span>
          <span class="caption-credit">Listing 1.4 - Algorithms in Practice</span>
        </figcaption>
      </figure>
    </section>

    <div class="section-break">* * *</div>

    <section class="demo-section">
      <h2>Minimal Variant</h2>
      <figure class="code-figure">
        <div class="code-editorial">
          <span class="code-language">ES6</span>
          <button class="code-copy" onclick="copyCode(this)" aria-label="Copy code">Copy</button>
          <pre><code><span class="code-line"><span class="line-number">1</span><span class="line-content"><span class="token-keyword">const</span> <span class="token-function">factorial</span> <span class="token-operator">=</span> <span class="token-parameter">n</span> <span class="token-operator">=&gt;</span> <span class="token-parameter">n</span> <span class="token-operator">&lt;=</span> <span class="token-number">1</span> <span class="token-operator">?</span> <span class="token-number">1</span> <span class="token-operator">:</span> <span class="token-parameter">n</span> <span class="token-operator">*</span> <span class="token-function">factorial</span><span class="token-punctuation">(</span><span class="token-parameter">n</span> <span class="token-operator">-</span> <span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></span></span></code></pre>
        </div>
        <figcaption class="code-caption">
          <span class="caption-text">The same algorithm, condensed into a single expression.</span>
        </figcaption>
      </figure>
    </section>
  </div>

  <script>
    function copyCode(button) {
      const codeBlock = button.closest('.code-editorial');
      const codeElement = codeBlock.querySelector('code');

      // Extract text content, preserving line breaks
      const lines = codeElement.querySelectorAll('.line-content');
      const text = Array.from(lines).map(line => line.textContent).join('\n');

      navigator.clipboard.writeText(text).then(() => {
        button.textContent = 'Copied';
        button.classList.add('copied');

        setTimeout(() => {
          button.textContent = 'Copy';
          button.classList.remove('copied');
        }, 2000);
      });
    }
  </script>
</body>
</html>
