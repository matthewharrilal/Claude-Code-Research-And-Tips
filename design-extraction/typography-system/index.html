<!--
LIGHT SECTION — Phase 2D
Part Of: typography-system — Typography CSS implementation
Contributed To: DESIGN-TOKEN-SUMMARY.md typography tokens; production CSS foundation
Full Context: perceptual-audit-v2/synthesis/
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Typography System - Sanrok Reproduction Demo</title>

  <!-- Google Fonts: Instrument Serif + Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Typography System CSS -->
  <link rel="stylesheet" href="typography.css">

  <style>
    /* Page-specific styles for the demo */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: #FEF9F5;
      min-height: 100vh;
      padding: 2rem;
    }

    /* Demo section styles */
    .demo-section {
      margin-bottom: 4rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .demo-section:last-child {
      border-bottom: none;
    }

    .section-label {
      font-family: 'Inter', sans-serif;
      font-size: 0.75rem;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #666;
      margin-bottom: 1rem;
    }

    /* Sanrok Reproduction Section */
    .sanrok-reproduction {
      min-height: 90vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 2rem 0;
    }

    .sanrok-reproduction p {
      line-height: 0.9;
      margin-bottom: 0.5rem;
    }

    /* Type Scale Demo */
    .type-scale-demo {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .scale-item {
      display: flex;
      align-items: baseline;
      gap: 2rem;
    }

    .scale-label {
      font-family: 'Inter', sans-serif;
      font-size: 0.625rem;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #999;
      min-width: 100px;
    }

    /* Line Height Demo */
    .line-height-demo {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }

    .line-height-box {
      background: rgba(0, 0, 0, 0.03);
      padding: 1.5rem;
      border-radius: 8px;
    }

    .line-height-box .label {
      font-family: 'Inter', sans-serif;
      font-size: 0.625rem;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #999;
      margin-bottom: 0.5rem;
    }

    /* Letter Spacing Demo */
    .letter-spacing-demo {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .spacing-item {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .spacing-label {
      font-family: 'Inter', sans-serif;
      font-size: 0.625rem;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #999;
      min-width: 120px;
    }

    /* Ball Terminal Demo */
    .ball-terminal-demo {
      padding: 3rem;
      background: linear-gradient(135deg, rgba(232, 48, 37, 0.05) 0%, transparent 100%);
      border-radius: 12px;
      text-align: center;
    }

    .ball-terminal-demo .highlight {
      color: #E83025;
    }

    /* Font Loading Status */
    .font-status {
      position: fixed;
      bottom: 1rem;
      right: 1rem;
      background: #333;
      color: #fff;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      font-family: 'Inter', monospace;
      font-size: 0.75rem;
      z-index: 1000;
      transition: opacity 0.3s ease;
    }

    .font-status.loaded {
      background: #2a7d2a;
    }

    .font-status.error {
      background: #c97065;
    }

    body[data-fonts-loaded="true"] .font-status {
      opacity: 0.5;
    }

    body[data-fonts-loaded="true"] .font-status:hover {
      opacity: 1;
    }
  </style>
</head>
<body>
  <!-- Font Loading Status Indicator -->
  <div class="font-status" id="font-status">Loading fonts...</div>

  <!-- ============================================ -->
  <!-- SANROK REPRODUCTION DEMO (Primary Test)     -->
  <!-- ============================================ -->
  <section id="sanrok-demo" class="sanrok-reproduction" data-testid="sanrok-demo">
    <p class="typo-hero" data-testid="hero-text">
      <span class="word-filled" data-testid="filled-text">WE ARE</span> <span class="word-outline" data-testid="outline-text">SANROK®.</span>
    </p>
    <p class="typo-display-1" data-testid="display-text">
      <span class="word-outline">GR4PHIC</span> <span class="word-filled">DESIGN</span>
    </p>
    <p class="typo-display-1">
      <span class="word-filled">/PRØDUCT</span> <span class="word-outline">STUDIO</span>
    </p>
    <p class="typo-display-2">
      <span class="word-outline">ESTABLISHED</span> <span class="word-filled">IN 2011.</span>
    </p>
  </section>

  <!-- ============================================ -->
  <!-- TYPE SCALE DEMO                             -->
  <!-- ============================================ -->
  <section class="demo-section">
    <div class="section-label">Type Scale</div>
    <div class="type-scale-demo">
      <div class="scale-item">
        <span class="scale-label">Hero (clamp)</span>
        <span class="typo-hero">Typography</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">Display 1</span>
        <span class="typo-display-1">Display One</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">Display 2</span>
        <span class="typo-display-2">Display Two</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">H1</span>
        <span class="typo-h1">Heading One</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">H2</span>
        <span class="typo-h2">Heading Two</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">H3</span>
        <span class="typo-h3">Heading Three</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">H4</span>
        <span class="typo-h4">Heading Four</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">Body Large</span>
        <span class="typo-body-lg">Body Large Text</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">Body</span>
        <span class="typo-body" data-testid="body-text">Body Text - The quick brown fox jumps over the lazy dog.</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">Body Small</span>
        <span class="typo-body-sm">Body Small Text</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">Caption</span>
        <span class="typo-caption">Caption Text</span>
      </div>
      <div class="scale-item">
        <span class="scale-label">Micro</span>
        <span class="typo-micro">MICRO TEXT</span>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- LINE HEIGHT DEMO                            -->
  <!-- ============================================ -->
  <section class="demo-section">
    <div class="section-label">Line Heights</div>
    <div class="line-height-demo">
      <div class="line-height-box">
        <div class="label">Tight (0.9) - Headlines</div>
        <p class="typo-display-2" style="line-height: 0.9;">
          Tight leading<br>for impact
        </p>
      </div>
      <div class="line-height-box">
        <div class="label">Normal (1.1) - Display</div>
        <p class="typo-h1" style="line-height: 1.1;">
          Normal leading<br>for headings
        </p>
      </div>
      <div class="line-height-box">
        <div class="label">Relaxed (1.6) - Body</div>
        <p class="typo-body" style="line-height: 1.6;">
          Relaxed leading for body text ensures comfortable reading over longer passages. The eye can easily track from line to line without losing its place.
        </p>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- LETTER SPACING DEMO                         -->
  <!-- ============================================ -->
  <section class="demo-section">
    <div class="section-label">Letter Spacing</div>
    <div class="letter-spacing-demo">
      <div class="spacing-item">
        <span class="spacing-label">Tight (-0.02em)</span>
        <span class="typo-h2" style="letter-spacing: -0.02em;">Tight Tracking</span>
      </div>
      <div class="spacing-item">
        <span class="spacing-label">Normal (0)</span>
        <span class="typo-h2" style="letter-spacing: 0;">Normal Tracking</span>
      </div>
      <div class="spacing-item">
        <span class="spacing-label">Wide (0.05em)</span>
        <span class="typo-body" style="letter-spacing: 0.05em; text-transform: uppercase;">Wide Tracking</span>
      </div>
      <div class="spacing-item">
        <span class="spacing-label">Extra Wide (0.1em)</span>
        <span class="typo-micro" style="letter-spacing: 0.1em;">EXTRA WIDE TRACKING</span>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- BALL TERMINAL VERIFICATION                  -->
  <!-- ============================================ -->
  <section class="demo-section">
    <div class="section-label">Instrument Serif - Ball Terminal Verification</div>
    <div class="ball-terminal-demo">
      <p class="typo-display-2" style="margin-bottom: 1rem;">
        <span class="highlight">C</span>rafting digital experiences
      </p>
      <p class="typo-body-lg" style="color: #666; margin-bottom: 2rem;">
        Note the distinctive ball terminals on: <strong>a, c, f, g, j, r, y</strong>
      </p>
      <p class="typo-h1" style="margin-bottom: 1rem;">
        abcdefghijklmnopqrstuvwxyz
      </p>
      <p class="typo-h1" style="font-style: italic;">
        abcdefghijklmnopqrstuvwxyz
      </p>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- FILL VS OUTLINE TREATMENTS                  -->
  <!-- ============================================ -->
  <section class="demo-section">
    <div class="section-label">Fill vs Outline Treatments</div>
    <div style="display: flex; flex-direction: column; gap: 1rem;">
      <p class="typo-display-1">
        <span class="word-filled">FILLED</span> creates visual weight and dominance
      </p>
      <p class="typo-display-1">
        <span class="word-outline">OUTLINE</span> adds elegance and breathing room
      </p>
      <p class="typo-display-1">
        <span class="word-filled">MIXING</span> <span class="word-outline">BOTH</span> creates rhythm and hierarchy
      </p>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- INTER BODY FONT DEMO                        -->
  <!-- ============================================ -->
  <section class="demo-section">
    <div class="section-label">Inter - Body Font Verification</div>
    <div style="font-family: 'Inter', sans-serif;">
      <p style="font-weight: 400; margin-bottom: 1rem; font-size: 1rem;">
        <strong>Regular (400):</strong> The quick brown fox jumps over the lazy dog. 0123456789
      </p>
      <p style="font-weight: 500; margin-bottom: 1rem; font-size: 1rem;">
        <strong>Medium (500):</strong> The quick brown fox jumps over the lazy dog. 0123456789
      </p>
      <p style="font-weight: 700; margin-bottom: 1rem; font-size: 1rem;">
        <strong>Bold (700):</strong> The quick brown fox jumps over the lazy dog. 0123456789
      </p>
    </div>
  </section>

  <!-- Font Verification Script -->
  <script>
    (function() {
      const statusEl = document.getElementById('font-status');
      const requiredFonts = ['Instrument Serif', 'Inter'];

      function checkFont(fontName) {
        return document.fonts.check(`12px "${fontName}"`);
      }

      function updateStatus(message, isLoaded, isError) {
        statusEl.textContent = message;
        statusEl.classList.toggle('loaded', isLoaded);
        statusEl.classList.toggle('error', isError);
      }

      // Wait for fonts to be ready
      document.fonts.ready.then(function() {
        const results = [];
        let allLoaded = true;

        requiredFonts.forEach(function(fontName) {
          const loaded = checkFont(fontName);
          const status = loaded ? '✅' : '❌';
          results.push(`${status} ${fontName}: ${loaded ? 'Loaded' : 'Failed'}`);
          console.log(`${status} Font "${fontName}": ${loaded ? 'Loaded successfully' : 'Failed to load'}`);
          if (!loaded) allLoaded = false;
        });

        if (allLoaded) {
          document.body.setAttribute('data-fonts-loaded', 'true');
          updateStatus('✅ All fonts loaded', true, false);
          console.log('✅ All required fonts loaded successfully');
          console.log('Body attribute set: data-fonts-loaded="true"');
        } else {
          document.body.setAttribute('data-fonts-loaded', 'false');
          updateStatus('❌ Some fonts failed', false, true);
          console.error('❌ Some fonts failed to load');
        }

        // Log full status
        console.log('\n--- Font Loading Summary ---');
        results.forEach(function(r) { console.log(r); });
        console.log('----------------------------\n');

      }).catch(function(error) {
        console.error('❌ Font loading error:', error);
        updateStatus('❌ Font loading error', false, true);
        document.body.setAttribute('data-fonts-loaded', 'false');
      });

      // Also check after a timeout as fallback
      setTimeout(function() {
        if (!document.body.hasAttribute('data-fonts-loaded')) {
          console.warn('⚠️ Font loading timed out, checking status...');
          const instrumentLoaded = checkFont('Instrument Serif');
          const interLoaded = checkFont('Inter');

          if (instrumentLoaded && interLoaded) {
            document.body.setAttribute('data-fonts-loaded', 'true');
            updateStatus('✅ Fonts loaded (delayed)', true, false);
          } else {
            document.body.setAttribute('data-fonts-loaded', 'false');
            updateStatus('❌ Fonts timeout', false, true);
          }
        }
      }, 3000);
    })();
  </script>
</body>
</html>
