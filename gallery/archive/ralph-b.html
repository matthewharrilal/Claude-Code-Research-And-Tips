<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ralph - Direction B (Game Programming Patterns Style)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/gallery.css">
  <style>
    /* Direction B specific styles */
    .direction-indicator {
      position: fixed;
      top: var(--space-md);
      right: var(--space-md);
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md);
      padding: var(--space-sm) var(--space-md);
      font-size: var(--text-sm);
      color: var(--text-muted);
      z-index: 100;
    }

    .article-header {
      padding: var(--space-3xl) 0 var(--space-xl);
      border-bottom: 1px solid var(--border-subtle);
    }

    .article-header h1 {
      font-size: var(--text-4xl);
      margin-bottom: var(--space-xs);
    }

    .article-header .tagline {
      font-size: var(--text-xl);
      color: var(--text-secondary);
      font-style: italic;
    }

    .article-header .meta {
      margin-top: var(--space-lg);
      display: flex;
      align-items: center;
      gap: var(--space-lg);
      font-size: var(--text-sm);
      color: var(--text-muted);
    }

    .article-body {
      padding: var(--space-2xl) 0;
    }

    .article-body p {
      font-size: var(--text-lg);
      line-height: 1.8;
      margin-bottom: var(--space-lg);
    }

    .article-body p:first-of-type::first-letter {
      font-size: 3.5rem;
      float: left;
      line-height: 1;
      margin-right: var(--space-sm);
      color: var(--accent-primary);
      font-weight: 600;
    }

    .section-break {
      text-align: center;
      margin: var(--space-2xl) 0;
      color: var(--text-muted);
      font-size: var(--text-lg);
      letter-spacing: 0.5em;
    }

    .inline-code-block {
      background: var(--bg-code);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md);
      padding: var(--space-lg) var(--space-xl);
      margin: var(--space-xl) 0;
      font-family: var(--font-mono);
      font-size: var(--text-lg);
      color: var(--accent-primary);
      position: relative;
    }

    .inline-code-block .copy-btn {
      top: var(--space-sm);
      right: var(--space-sm);
    }

    .file-tree-block {
      background: var(--bg-code);
      border-radius: var(--radius-md);
      padding: var(--space-lg);
      margin: var(--space-xl) 0;
      font-family: var(--font-mono);
      font-size: var(--text-sm);
      line-height: 1.9;
      color: var(--text-secondary);
    }

    .file-tree-block .comment {
      color: var(--text-muted);
    }

    .aside-box {
      background: var(--bg-secondary);
      border-left: 3px solid var(--accent-muted);
      padding: var(--space-lg);
      margin: var(--space-xl) 0;
      border-radius: 0 var(--radius-md) var(--radius-md) 0;
    }

    .aside-box p:last-child {
      margin-bottom: 0;
    }

    .emphasis-block {
      background: linear-gradient(90deg, var(--accent-glow), transparent);
      padding: var(--space-lg);
      margin: var(--space-xl) 0;
      border-radius: var(--radius-md);
      font-size: var(--text-xl);
      font-weight: 500;
    }

    .see-also-section {
      margin-top: var(--space-3xl);
      padding-top: var(--space-xl);
      border-top: 1px solid var(--border-subtle);
    }

    .see-also-section h2 {
      font-size: var(--text-lg);
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: var(--space-lg);
    }

    .see-also-list {
      list-style: none;
    }

    .see-also-list li {
      margin-bottom: var(--space-md);
      padding-left: var(--space-lg);
      position: relative;
    }

    .see-also-list li::before {
      content: ">";
      position: absolute;
      left: 0;
      color: var(--accent-primary);
      font-family: var(--font-mono);
    }

    .see-also-list a {
      font-weight: 500;
    }

    .see-also-list .desc {
      color: var(--text-secondary);
      font-size: var(--text-sm);
      margin-left: var(--space-sm);
    }

    blockquote {
      font-size: var(--text-xl);
      margin: var(--space-xl) 0;
      padding: var(--space-lg) var(--space-xl);
      background: var(--bg-secondary);
      border-radius: var(--radius-md);
    }

    blockquote p {
      margin-bottom: var(--space-sm);
    }
  </style>
</head>
<body class="direction-b">
  <!-- Direction indicator -->
  <div class="direction-indicator">Direction B: Game Programming Patterns Style</div>

  <!-- Navigation -->
  <nav class="nav-header">
    <a href="#" class="nav-back">
      <span>&larr;</span> Patterns
    </a>
    <span class="maturity-badge evergreen">
      <span>üå≥</span> Evergreen
    </span>
  </nav>

  <article class="container-narrow">
    <!-- Header -->
    <header class="article-header">
      <h1>Ralph</h1>
      <p class="tagline">The Infinite Loop of Fresh Context</p>
      <div class="meta">
        <span>Originally by Geoffrey Huntley</span>
        <span>&bull;</span>
        <span>Popularized by Matt Pocock</span>
      </div>
    </header>

    <!-- Article Body -->
    <div class="article-body prose">
      <p>You've been there. The AI is brilliant for twenty minutes, then starts repeating itself. It forgets the function you defined ten messages ago. It suggests code that breaks things you already fixed. You're watching your expensive API calls generate increasingly useless output.</p>

      <p>The problem isn't the AI. The problem is <strong>context rot</strong>.</p>

      <p>Every LLM has a context window&mdash;the amount of text it can "see" at once. Fill that window, and the model starts making tradeoffs. Older information fades. Newer information crowds it out. Quality degrades in ways that are subtle at first, then catastrophic.</p>

      <p>Most developers respond by trying to <em>manage</em> context. Summarize old messages. Prune irrelevant details. Build elaborate context management systems.</p>

      <p>Ralph takes a different approach: burn it all down and start fresh.</p>

      <div class="section-break">* * *</div>

      <p>Matt Pocock calls this pattern "Ralph" after Ralph Wiggum&mdash;that eager kid from The Simpsons who happily does <em>one thing</em> at a time without overthinking it. The name is deliberate. You're not trying to build a sophisticated AI system. You're building a simple, persistent one.</p>

      <p>The core insight is counterintuitive:</p>

      <div class="emphasis-block">
        DON'T try to keep the session alive.<br>
        Kill it. Start fresh. Every single time.
      </div>

      <p>Here's the entire pattern:</p>

      <div class="inline-code-block">
        <button class="copy-btn" onclick="copyCode(this, 'while :; do cat PROMPT.md | claude ; done')">
          <span>Copy</span>
        </button>
        while :; do cat PROMPT.md | claude ; done
      </div>

      <p>That's it. Everything else is scaffolding around that one-liner.</p>

      <div class="section-break">* * *</div>

      <p>"But wait," you might say, "doesn't starting fresh lose all context?"</p>

      <p>Yes. That's the point.</p>

      <p>Context doesn't live in the model. Context lives in <em>external artifacts</em>:</p>

      <div class="file-tree-block">
project/
‚îú‚îÄ‚îÄ scripts/ralph/
‚îÇ   ‚îú‚îÄ‚îÄ ralph.sh          <span class="comment"># The loop</span>
‚îÇ   ‚îú‚îÄ‚îÄ prompt.md         <span class="comment"># What Ralph reads each iteration</span>
‚îÇ   ‚îú‚îÄ‚îÄ prd.json          <span class="comment"># Task board (what's done, what's not)</span>
‚îÇ   ‚îî‚îÄ‚îÄ progress.txt      <span class="comment"># Learnings that compound</span>
‚îî‚îÄ‚îÄ (your code)
      </div>

      <p>Each iteration, Ralph reads these files fresh. It knows nothing about previous iterations except what's written down. This is a feature, not a bug.</p>

      <p>The PRD (Product Requirements Document) tracks tasks:</p>

      <div class="file-tree-block">
{
  "project": "My Feature",
  "userStories": [
    {
      "id": "US-001",
      "title": "Add login form",
      "acceptanceCriteria": [
        "Email/password fields render",
        "npm run typecheck passes"
      ],
      "passes": false  <span class="comment">‚Üê Ralph picks this one</span>
    },
    {
      "id": "US-002",
      "title": "Add auth backend",
      "passes": true   <span class="comment">‚Üê Already done</span>
    }
  ]
}
      </div>

      <p>Ralph finds the first task where <code>passes: false</code>, implements it, verifies it, marks it <code>passes: true</code>, and exits. The loop restarts with fresh context. Repeat until everything passes.</p>

      <div class="section-break">* * *</div>

      <p>The genius of Ralph isn't the loop. It's the <em>sizing</em>.</p>

      <p>Each task must be completable in one context window. That's the constraint that makes everything work. Too big? Split it. Can't split it? You don't understand the task well enough.</p>

      <div class="aside-box">
        <p><strong>Ryan Carson's rule of thumb:</strong> If you can't describe it in 2-3 sentences, it's too big.</p>
        <p>"Build the entire auth system" is too big. "Add users table migration" is right-sized.</p>
      </div>

      <p>The other critical piece: verification. Every task needs acceptance criteria that a machine can check. Tests. Type checking. CI. Without verification, Ralph produces garbage.</p>

      <blockquote>
        <p>"If you don't have tests, you're hamstringing future agent runs with bad code, and they'll need to bisect to find bugs. Super nasty."</p>
        <cite>&mdash; Matt Pocock</cite>
      </blockquote>

      <div class="section-break">* * *</div>

      <p>I should be honest about what Ralph can't do.</p>

      <p>Subjective tasks don't work. "Make it pretty" has no verifiable completion state. Ralph will thrash forever, or worse, claim success when nothing has improved.</p>

      <p>Exploratory work doesn't work. If you don't know what "done" looks like, Ralph can't find it. Use a human-in-the-loop variant instead.</p>

      <p>Security-critical code needs human review. Ralph is tireless but not wise. It will implement exactly what you asked for, including your mistakes.</p>

      <p>And the economics matter. 100 iterations at $0.15 each adds up. The pattern works best for chunky, well-defined work&mdash;overnight feature builds, not quick fixes.</p>

      <div class="section-break">* * *</div>

      <p>The transformation Ralph enables is profound:</p>

      <div class="file-tree-block">
BEFORE                          AFTER
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                          ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
You: Implementation Engineer    You: Product Manager
AI:  Pair programmer           AI:  Implementation Army

25-30 min planning              8 hours grinding
Constant supervision            Morning review
One context window              Infinite persistence
      </div>

      <p>Ryan Carson describes running three Ralph instances overnight on different branches. Wake up to three features implemented, tested, committed. The cost? Maybe $30-50 in API calls. The value? A day of focused human work, done while you slept.</p>

      <blockquote>
        <p>"Given excellent upfront specification, we can already achieve meaningful unattended software production in 2026."</p>
      </blockquote>

      <p>That's the real insight. Ralph isn't about making the AI smarter. It's about making <em>you</em> smarter&mdash;forcing you to specify clearly, verify rigorously, and let persistence do the rest.</p>

      <!-- See Also -->
      <section class="see-also-section">
        <h2>See Also</h2>
        <ul class="see-also-list">
          <li>
            <a href="#">Gas Town</a>
            <span class="desc">&mdash; When you need multiple Ralphs working different domains</span>
          </li>
          <li>
            <a href="#">CC Mirror</a>
            <span class="desc">&mdash; Hidden multi-agent orchestration for coordinating Ralph instances</span>
          </li>
          <li>
            <a href="#">Fresh Context</a>
            <span class="desc">&mdash; The underlying principle that makes Ralph work</span>
          </li>
          <li>
            <a href="#">HOTL Ralph</a>
            <span class="desc">&mdash; Human-on-the-loop variant for sensitive work</span>
          </li>
        </ul>
      </section>
    </div>
  </article>

  <script>
    function copyCode(btn, text) {
      navigator.clipboard.writeText(text);
      btn.querySelector('span').textContent = 'Copied!';
      btn.classList.add('copied');
      setTimeout(() => {
        btn.querySelector('span').textContent = 'Copy';
        btn.classList.remove('copied');
      }, 2000);
    }
  </script>
</body>
</html>
