{
  "version": "3.1.0",
  "date": "2026-02-25",
  "description": "Gate Runner manifest â€” table of contents for the split gate architecture",
  "authority": "Council Verdict (2026-02-23), Wave 3 (2026-02-24), Wave 0 Surgery (2026-02-25)",

  "files": {
    "core": "gate-runner-core.js",
    "preconditions": "gate-runner-preconditions.md",
    "spec": "gate-runner-spec.md",
    "provenance": "gate-runner-provenance.md",
    "manifest": "gate-manifest.json",
    "monolithic": "artifact-gate-runner-MONOLITHIC.md",
    "orchestrator": "artifact-orchestrator.md"
  },

  "tiers": {
    "required": {
      "count": 16,
      "gates": [
        "GR-01", "GR-02", "GR-03", "GR-04", "GR-05",
        "GR-06", "GR-08", "GR-09", "GR-10",
        "GR-11", "GR-13", "GR-14", "GR-15",
        "GR-44", "GR-60", "GR-48"
      ],
      "verdictImpact": "ANY FAIL blocks verdict. Identity FAIL = REBUILD. Perception FAIL = REFINE. GR-48 FAIL = INCOMPLETE.",
      "note": "15 gates verified by GR-48 coverage check + GR-48 itself (self-referential, excluded from its own coverage array)"
    },
    "recommended": {
      "count": 9,
      "gates": [
        "GR-07", "GR-17", "GR-18", "GR-20",
        "GR-43", "GR-45", "GR-49", "GR-51", "GR-52"
      ],
      "verdictImpact": "3+ FAIL = REBUILD. Flagged in report but do not individually block."
    },
    "advisory": {
      "count": 7,
      "gates": [
        "GR-05b", "GR-19", "GR-21", "GR-22", "GR-46", "GR-50", "GR-53"
      ],
      "verdictImpact": "Informational only.",
      "note": "GR-05b added (Wave 2, sub-perceptual cold colors). GR-19 demoted from RECOMMENDED (Wave 0). GR-12 absorbed into GR-18 (not listed separately)."
    },
    "briefVerification": {
      "count": 4,
      "gates": ["BV-01", "BV-02", "BV-03", "BV-04"],
      "verdictImpact": "ANY FAIL = return brief to assembler (max 2 revision cycles)."
    },
    "diagnosticOnly": {
      "count": 2,
      "gates": ["GR-33", "GR-34"],
      "verdictImpact": "Reports mode indicator. Does not block or flag."
    }
  },

  "verdictLogic": {
    "REBUILD": "ANY identity gate (GR-01-06, GR-08-10) FAIL, OR 3+ recommended gates FAIL",
    "REFINE": "ANY perception gate (GR-11, GR-13-15, GR-44, GR-60) FAIL",
    "INCOMPLETE": "GR-48 FAIL (missing required gate results)",
    "PROCEED_TO_PA": "All required gates PASS and <3 recommended FAIL"
  },

  "executionOrder": [
    {
      "step": 1,
      "phase": "Pre-build (Phase 1)",
      "function": "runBriefVerification(briefText)",
      "gates": ["BV-01", "BV-02", "BV-03", "BV-04"],
      "requires": "Brief text"
    },
    {
      "step": 2,
      "phase": "Post-build (Phase 3A)",
      "function": "runGateRunner(page)",
      "gates": ["GR-01", "GR-02", "GR-03", "GR-04", "GR-05", "GR-05b", "GR-06", "GR-07", "GR-08", "GR-09", "GR-10", "GR-11", "GR-13", "GR-14", "GR-15", "GR-60", "GR-44", "GR-43"],
      "requires": "Playwright page at 1440px viewport",
      "note": "GR-05b (ADVISORY) and GR-07/GR-43 (RECOMMENDED) execute in runGateRunner but at lower tiers. GR-06 now checks rendered fonts via document.fonts.check(). GR-12 removed (absorbed into GR-18). GR-60 added."
    },
    {
      "step": 3,
      "phase": "Post-build (Phase 3A)",
      "function": "runAntiPatternGates(page)",
      "gates": ["GR-17", "GR-18", "GR-19", "GR-20", "GR-21", "GR-22"],
      "requires": "Playwright page"
    },
    {
      "step": 4,
      "phase": "Post-build (Phase 3A)",
      "function": "runWave2Gates(page)",
      "gates": ["GR-45", "GR-46", "GR-50", "GR-51", "GR-52", "GR-53"],
      "requires": "Playwright page"
    },
    {
      "step": 5,
      "phase": "Responsive check",
      "function": "runGateRunner(page) at 768px",
      "gates": ["GR-01 through GR-15 (minus GR-12), GR-60, GR-44, GR-43, GR-07 (re-run)"],
      "requires": "Playwright page at 768px viewport"
    },
    {
      "step": 6,
      "phase": "Meta-verification",
      "function": "runGateCoverage(allResults)",
      "gates": ["GR-48"],
      "requires": "All previous gate results collected"
    },
    {
      "step": 7,
      "phase": "Process check",
      "function": "checkGateResultIntegrity(resultFiles, resultData)",
      "gates": ["GR-49"],
      "requires": "Gate result file written to disk"
    }
  ],

  "gateExecutionManifestTemplate": {
    "_comment": "FIX-100: Template for gate-execution-manifest.json produced after every run",
    "buildId": "<unique-build-identifier>",
    "timestamp": "<ISO-8601>",
    "viewports": ["1440x900", "768x1024"],
    "tiersExecuted": {
      "required": { "executed": 0, "passed": 0, "failed": 0 },
      "recommended": { "executed": 0, "passed": 0, "failed": 0 },
      "advisory": { "executed": 0, "passed": 0, "failed": 0 },
      "briefVerification": { "executed": 0, "passed": 0, "failed": 0 }
    },
    "results": [
      {
        "gateId": "GR-XX",
        "tier": "required|recommended|advisory",
        "status": "PASS|FAIL",
        "details": {}
      }
    ],
    "verdict": "PROCEED_TO_PA|REFINE|REBUILD|INCOMPLETE",
    "coverageStatus": {
      "requiredPresent": "15/15",
      "recommendedPresent": "N/9"
    }
  },

  "totalGateCount": {
    "inGateRunner": 32,
    "inOrchestrator": 6,
    "removed": 14,
    "total": 38,
    "briefVerification": 4,
    "diagnosticOnly": 2,
    "grandTotal": 38,
    "note": "Wave 0: GR-12 absorbed into GR-18, GR-60 added. Wave 2: GR-05b added (ADVISORY sub-perceptual split), GR-06 updated to rendered font check."
  },

  "notes": [
    "GR-16 absorbed into verdict logic (not a standalone gate)",
    "GR-23-28 reclassified to orchestrator Section 9 (FIX-094)",
    "GR-29-32 moved to orchestrator verdict logic (Wave 1)",
    "GR-35 moved to PA auditors (not automatable)",
    "GR-36-39 moved to experiment protocol (Wave 1)",
    "GR-40-42 moved to orchestrator process checks (Wave 1)",
    "GR-47 intentionally skipped (BV-01 covers same check per CONFLICT-007)",
    "GR-51 renumbered from source GR-43 to avoid collision",
    "GR-48 is self-referential: excluded from its own REQUIRED_GATES coverage array (15 gates) but counted in tier total (16)",
    "Wave 0 (2026-02-25): GR-05+GR-07 consolidated (GR-07 demoted to RECOMMENDED), GR-12 absorbed into GR-18, GR-43 demoted to RECOMMENDED, GR-19 demoted to ADVISORY, GR-60 WCAG AA added as REQUIRED, GR-21 threshold 4->6, GR-22 skip-link exemption, GR-44/GR-14/GR-17 bug fixes",
    "Wave 2 (2026-02-25): GR-05b ADVISORY result added (ME-010 sub-perceptual cold colors now reported separately). GR-06 updated to check rendered fonts via document.fonts.check() instead of declared font-family stack (ME-011, eliminates 181 false violations from fallback fonts)."
  ]
}
