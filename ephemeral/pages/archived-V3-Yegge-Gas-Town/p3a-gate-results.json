{
  "buildDate": "2026-02-24",
  "slug": "yegge-gas-town",
  "htmlFile": "p2-yegge-gas-town.html",
  "viewport": "1440x900",
  "gateRunnerVersion": "v3.1-wave3",

  "results": [
    {
      "gate": "GR-01", "name": "Border Radius Zero", "tier": "REQUIRED", "category": "identity",
      "status": "PASS",
      "measured": { "violations": 0 },
      "threshold": { "borderRadius": "0px on ALL elements" }
    },
    {
      "gate": "GR-02", "name": "Box Shadow None", "tier": "REQUIRED", "category": "identity",
      "status": "PASS",
      "measured": { "violations": 0 },
      "threshold": { "boxShadow": "none on ALL elements" }
    },
    {
      "gate": "GR-03", "name": "Container Width 940-960px", "tier": "REQUIRED", "category": "identity",
      "status": "PASS",
      "measured": { "containerWidth": 960, "foundValid": true },
      "threshold": { "width": "940-960px" }
    },
    {
      "gate": "GR-04", "name": "No Gradients", "tier": "REQUIRED", "category": "identity",
      "status": "PASS",
      "measured": { "violations": 0 },
      "threshold": { "gradients": 0 }
    },
    {
      "gate": "GR-05", "name": "Warm Palette (R>=G>=B)", "tier": "REQUIRED", "category": "identity",
      "status": "FAIL",
      "measured": {
        "violations": 4,
        "samples": [
          { "color": "rgba(124, 58, 237, 0.04)", "class": "callout callout--essence", "note": "purple tint at 4% opacity" },
          { "color": "rgba(74, 144, 217, 0.05)", "class": "callout callout--info", "note": "blue tint at 5% opacity" },
          { "color": "rgba(74, 157, 107, 0.06)", "class": "checkpoint", "note": "green tint at 6% opacity" },
          { "color": "rgba(74, 157, 107, 0.05)", "class": "callout callout--tip", "note": "green tint at 5% opacity" }
        ]
      },
      "threshold": { "warmPalette": "R >= G >= B on all background colors" },
      "fixNote": "Replace non-warm callout bg tints with warm equivalents (e.g., rgba(180, 140, 80, 0.05) for info, rgba(140, 120, 80, 0.06) for tip)"
    },
    {
      "gate": "GR-06", "name": "Font Trinity", "tier": "REQUIRED", "category": "identity",
      "status": "FAIL",
      "measured": {
        "foundFamilies": ["times", "inter", "system-ui", "sans-serif", "jetbrains mono", "sf mono", "monospace", "instrument serif", "georgia", "serif"],
        "violations": 181,
        "violatingFonts": ["times", "sf mono", "georgia"],
        "note": "times = html default, sf mono = code fallback, georgia = serif fallback"
      },
      "threshold": { "allowedFonts": "Instrument Serif, Inter, JetBrains Mono + system-ui, -apple-system, segoe ui, arial, sans-serif, serif, monospace" },
      "fixNote": "Remove 'Times' from html default (set body font-family). Replace 'SF Mono' with 'JetBrains Mono' in font stacks. Remove 'Georgia' from serif fallbacks or replace with allowed serif."
    },
    {
      "gate": "GR-07", "name": "No Pure Black/White", "tier": "REQUIRED", "category": "identity",
      "status": "FAIL",
      "measured": {
        "violations": 1,
        "samples": [{ "tag": "HTML", "prop": "color", "value": "rgb(0, 0, 0)", "type": "pure-black" }],
        "note": "Corrected: original run showed 696 violations from rgba(0,0,0,0) transparent — re-run with alpha filtering shows 1 real violation (html element default color)"
      },
      "threshold": { "pureBlack": 0, "pureWhite": 0 },
      "fixNote": "Add html { color: #2a2a2a; } or equivalent warm dark to override browser default"
    },
    {
      "gate": "GR-08", "name": "No Decorative Elements", "tier": "REQUIRED", "category": "identity",
      "status": "PASS",
      "measured": { "violations": 0 },
      "threshold": { "decorativeElements": 0 }
    },
    {
      "gate": "GR-09", "name": "Border Weight Hierarchy", "tier": "REQUIRED", "category": "identity",
      "status": "FAIL",
      "measured": {
        "widthsFound": [0.666667, 2.66667, 4],
        "violations": [0.666667, 2.66667],
        "note": "0.666667px and 2.66667px are non-integer border widths (likely from fractional em/rem values)"
      },
      "threshold": { "allowedWidths": [1, 2, 3, 4] },
      "fixNote": "Change non-integer border widths to use integer px values (1px, 2px, 3px, or 4px)"
    },
    {
      "gate": "GR-10", "name": "Cross-Page DNA", "tier": "REQUIRED", "category": "identity",
      "status": "PASS",
      "measured": { "hasHeader": true, "hasFooter": true, "hasSections": true, "hasSkipLink": true },
      "threshold": { "minStructuralElements": "header + footer + 3+ sections" }
    },

    {
      "gate": "GR-11", "name": "Background Delta >= 15 RGB", "tier": "REQUIRED", "category": "perception",
      "status": "PASS",
      "measured": { "failures": 0, "pairsChecked": 34, "allPass": true },
      "threshold": { "minDelta": 15 }
    },
    {
      "gate": "GR-12", "name": "Letter-Spacing >= 0.025em", "tier": "REQUIRED", "category": "perception",
      "status": "PASS",
      "measured": { "violations": 0, "validCount": 105 },
      "threshold": { "minLetterSpacing": "0.025em" }
    },
    {
      "gate": "GR-13", "name": "Stacked Gap <= 120px (CSS sum)", "tier": "REQUIRED", "category": "perception",
      "status": "PASS",
      "measured": { "violations": 0, "allPass": true },
      "threshold": { "maxCSSSum": 120 }
    },
    {
      "gate": "GR-14", "name": "Total Visual Gap <= 150px", "tier": "REQUIRED", "category": "perception",
      "status": "FAIL",
      "measured": {
        "failureCount": 13,
        "note": "Failures are between section-indicator/section-header sub-elements and zone containers. These are structural layout gaps from nested sections, not whitespace voids. The large positive gaps (400-2400px) occur because section-indicators sit inside zones and the next zone starts much lower. Negative gaps indicate overlapping nested elements.",
        "sampleFailures": [
          { "from": "section-indicator", "to": "zone-commons", "gap": 1218 },
          { "from": "section-indicator", "to": "section-header", "gap": 758 },
          { "from": "section-indicator", "to": "zone-factory", "gap": 1095 }
        ]
      },
      "threshold": { "maxVisualGap": 150 },
      "fixNote": "Gate measures gaps between ALL section/zone elements including nested sub-sections. The large gaps are structural (content inside zones creates distance to next zone). Likely a gate false-positive from nested HTML structure, not a real whitespace void."
    },
    {
      "gate": "GR-15", "name": "Single Margin <= 96px", "tier": "REQUIRED", "category": "perception",
      "status": "PASS",
      "measured": { "violations": 0 },
      "threshold": { "maxSingleValue": "96px" }
    },
    {
      "gate": "GR-44", "name": "Trailing Whitespace Void", "tier": "REQUIRED", "category": "perception",
      "status": "PASS",
      "measured": { "voidHeight": 0 },
      "threshold": { "maxVoidHeight": "300px" }
    },

    {
      "gate": "GR-43", "name": "Self-Evaluation Comment Existence", "tier": "REQUIRED", "category": "output",
      "status": "PASS",
      "measured": {
        "hasSelfEval": true,
        "note": "Self-evaluation present at lines 3-11 of HTML file, before <!DOCTYPE>. Not visible to outerHTML but confirmed via file read. 7 questions answered in detail."
      },
      "threshold": { "selfEvaluationComment": true }
    },

    {
      "gate": "GR-17", "name": "AP-01 Density Stacking", "tier": "RECOMMENDED", "category": "anti-pattern",
      "status": "FAIL",
      "measured": {
        "violations": 30,
        "note": "All violations are LI elements with paddingTop/paddingBottom = 8px (threshold 12px). List items use tighter padding for compact lists."
      },
      "threshold": { "minPadding": "12px on content elements" },
      "fixNote": "Increase li padding from 8px to 12px, or adjust gate threshold for list items"
    },
    {
      "gate": "GR-18", "name": "AP-09 Ghost Mechanisms", "tier": "RECOMMENDED", "category": "anti-pattern",
      "status": "PASS",
      "measured": { "ghosts": 0 },
      "threshold": { "ghostMechanisms": 0 }
    },
    {
      "gate": "GR-19", "name": "AP-10 Threshold Gaming", "tier": "RECOMMENDED", "category": "anti-pattern",
      "status": "PASS",
      "measured": { "bgFloorRatio": "0.00", "lsFloorRatio": "0.00", "isGaming": false },
      "threshold": { "maxFloorRatio": 0.50 }
    },
    {
      "gate": "GR-20", "name": "AP-11 Structural Echo", "tier": "RECOMMENDED", "category": "anti-pattern",
      "status": "PASS",
      "measured": { "maxConsecutive": 1 },
      "threshold": { "maxConsecutiveIdentical": 2 }
    },
    {
      "gate": "GR-21", "name": "AP-14 Cognitive Overload (Bg Proxy)", "tier": "ADVISORY", "category": "anti-pattern",
      "status": "FAIL",
      "measured": { "maxDistinctPerViewport": 6 },
      "threshold": { "maxDistinctBackgrounds": 4 },
      "note": "ADVISORY gate — includes callout tint backgrounds which inflate count"
    },
    {
      "gate": "GR-22", "name": "AP-02 Color Zone Conflict (Red Role)", "tier": "ADVISORY", "category": "anti-pattern",
      "status": "FAIL",
      "measured": {
        "borderUses": 9, "bgUses": 4, "textUses": 19,
        "bgElements": ["skip-link", "pull-quote", "callout--warning (x2)"]
      },
      "threshold": { "maxRedBackgrounds": 2 },
      "fixNote": "skip-link bg likely uses red for focus visibility (acceptable). pull-quote and callout--warning use red as bg — consider changing to border-only red with warm bg."
    },

    {
      "gate": "GR-45", "name": "Typography Variation", "tier": "RECOMMENDED", "category": "wave2",
      "status": "PASS",
      "measured": { "h2Count": 13, "h3Count": 20, "h2Bands": 2, "combinedBands": 3 },
      "threshold": { "minDistinctBands": 2 }
    },
    {
      "gate": "GR-46", "name": "Print Stylesheet", "tier": "RECOMMENDED", "category": "wave2",
      "status": "PASS",
      "measured": { "hasPrintRule": true, "printRuleCount": 1 },
      "threshold": { "minPrintRules": 1 }
    },
    {
      "gate": "GR-50", "name": "Conviction Statement Existence", "tier": "RECOMMENDED", "category": "wave2",
      "status": "PASS",
      "measured": {
        "found": true,
        "sentences": 3,
        "hasMetaphor": true, "hasArc": true, "hasStrategy": true,
        "note": "Conviction present at line 1 of HTML file, before <!DOCTYPE>. Contains metaphor (Settlement), arc (orientation→density→valley→climb→resolution), and strategy (double-peak + multi-coherence)."
      },
      "threshold": { "minSentences": 3 }
    },
    {
      "gate": "GR-51", "name": "Background Delta Distribution", "tier": "RECOMMENDED", "category": "wave2",
      "status": "PASS",
      "measured": { "above25Ratio": "1.00", "mean": "242.9", "stddev": "9.0", "middleHasHighDelta": true },
      "threshold": { "minAbove25Ratio": 0.50, "minStddev": 8 },
      "note": "All deltas are 229-254 (zone-to-dark-header transitions). Very strong delta distribution."
    },
    {
      "gate": "GR-52", "name": "Section Height Variation", "tier": "RECOMMENDED", "category": "wave2",
      "status": "PASS",
      "measured": { "sectionCount": 35, "bands": 7 },
      "threshold": { "minDistinctBands": 3 }
    },
    {
      "gate": "GR-53", "name": "Density Arc Direction", "tier": "ADVISORY", "category": "wave2",
      "status": "PASS",
      "measured": { "sectionCount": 35, "densestIndex": 33, "densestSection": "footer-section" },
      "threshold": { "densestNotFirstOrLast": true }
    },

    {
      "gate": "GR-48", "name": "Gate Coverage Completeness", "tier": "DIAGNOSTIC", "category": "meta",
      "status": "PASS",
      "measured": {
        "totalCollected": 29,
        "requiredPresent": 17,
        "requiredTotal": 17,
        "missingRequired": [],
        "recommendedPresent": 8,
        "recommendedTotal": 8,
        "missingRecommended": []
      },
      "threshold": { "requiredCoverage": "17/17 (100%)", "recommendedCoverage": ">=4/8" }
    },
    {
      "gate": "GR-49", "name": "Gate Result File Integrity", "tier": "DIAGNOSTIC", "category": "meta",
      "status": "PASS",
      "measured": { "fileCount": 1, "issues": [] },
      "threshold": { "files": 1, "duplicates": 0 }
    }
  ],

  "summary": {
    "identity": { "pass": 6, "fail": 4, "total": 10, "gates": "GR-01 to GR-10" },
    "perception": { "pass": 5, "fail": 1, "total": 6, "gates": "GR-11 to GR-15, GR-44" },
    "antiPattern": { "pass": 3, "fail": 3, "total": 6, "gates": "GR-17 to GR-22" },
    "wave2": { "pass": 6, "fail": 0, "total": 6, "gates": "GR-45, GR-46, GR-50 to GR-53" },
    "meta": { "pass": 2, "fail": 0, "total": 2, "gates": "GR-48, GR-49" },
    "output": { "pass": 1, "fail": 0, "total": 1, "gates": "GR-43" },
    "overall": { "pass": 23, "fail": 8, "total": 31 },
    "verdict": "REFINE",
    "verdictRationale": "4 identity gate failures (GR-05 warm palette, GR-06 font trinity, GR-07 pure black, GR-09 border widths) would normally trigger REBUILD, but all are MECHANICAL fixes (font-stack cleanup, callout bg tint swap, html color, border px rounding). GR-14 visual gap is a structural false positive. Downgrading to REFINE per orchestrator judgment GR-23 (mechanical vs structural classification).",
    "failedGates": [
      "GR-05 (warm palette — 4 callout bg tints)",
      "GR-06 (font trinity — times, sf mono, georgia in stacks)",
      "GR-07 (pure black — 1 html element default)",
      "GR-09 (border weights — 0.67px and 2.67px non-integer)",
      "GR-14 (visual gap — structural false positive from nested sections)",
      "GR-17 (density stacking — LI padding 8px < 12px threshold)",
      "GR-21 (cognitive overload — 6 distinct bg per viewport, ADVISORY)",
      "GR-22 (red zone conflict — 4 red bg elements, ADVISORY)"
    ],
    "mechanicalFixes": [
      "GR-05: Replace callout tint colors with warm equivalents",
      "GR-06: Remove Times/SF Mono/Georgia from font stacks, use trinity only",
      "GR-07: Add html { color: #2a2a2a; }",
      "GR-09: Round non-integer border widths to 1/2/3/4px",
      "GR-17: Increase li padding from 8px to 12px"
    ]
  }
}
