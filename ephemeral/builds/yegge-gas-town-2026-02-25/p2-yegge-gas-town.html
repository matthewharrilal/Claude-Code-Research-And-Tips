<!--
  CONVICTION STATEMENT:
  The Factory/Refinery metaphor is structural: CSS custom properties named by factory zones
  (loading-dock, dispatch-floor, factory-floor, assembly-line, shipping-bay) map directly to
  the content's own progression from raw materials (who is Yegge, what is Gas Town) through
  industrial processing (Beads, Waves, Principles) to finished goods (implementation, comparisons).

  The emotional arc moves from open welcome (Z1 warm cream, generous spacing) through organizational
  deepening (Z2 sand tones, tighter rhythm) into a dramatic dark inversion (Z3 near-black factory floor)
  that IS the second-half moment — the reader enters the machinery. Z4 recovers into warm tan practice,
  and Z5 settles to earth-tone resolution.

  Compositional strategy deploys 6-channel multi-coherence at every boundary: background + typography +
  spacing + borders + color accents + component density all shift together, boundary by boundary. The
  Z2→Z3 inversion is the heaviest transition (all 6 channels), while Z4→Z5 is the lightest (3 channels,
  legato exit). Density arc follows ARCH: low → moderate → high → high → low-moderate.

  REFINE CYCLE: Raised all Z3 contrast values (text to full opacity, borders to 0.2+, code blocks to 0.12),
  built threshold transitions at Z2→Z3 and Z3→Z4 boundaries, added sticky section navigation and back-to-top
  button, fixed heading hierarchy (h4→h3), normalized border widths, added Z3→Z4 multi-coherence channels.
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Steve Yegge and Gas Town — Agent Factory Architecture</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    /* ============================================
       FACTORY/REFINERY — CSS Custom Properties
       Named by CONCEPT, not by color
       ============================================ */

    :root {
      /* Zone backgrounds (LOCKED from execution brief) */
      --loading-dock: #FEF9F5;
      --dispatch-floor: #EDE6DA;
      --factory-floor: #1E1E1E;
      --assembly-line: #F0EBE0;
      --shipping-bay: #E5DDD0;

      /* Identity colors */
      --factory-accent: #E83025;
      --factory-steel: #1A1A1A;
      --factory-text-light: #FEF9F5;
      --factory-border: #E0D5C5;
      --factory-border-subtle: #F0EBE3;
      --factory-text-secondary: #666666;

      /* Accent colors */
      --accent-blue: #4A90D9;
      --accent-green: #4A9D6B;
      --accent-amber: #D97706;
      --accent-purple: #7C3AED;

      /* Typography */
      --font-display: 'Instrument Serif', Georgia, serif;
      --font-body: 'Inter', system-ui, sans-serif;
      --font-mono: 'JetBrains Mono', 'SF Mono', monospace;

      /* Spacing scale (4px base) */
      --space-1: 4px;
      --space-2: 8px;
      --space-3: 12px;
      --space-4: 16px;
      --space-5: 20px;
      --space-6: 24px;
      --space-8: 32px;
      --space-10: 40px;
      --space-12: 48px;
      --space-16: 64px;
      --space-20: 80px;
      --space-24: 96px;

      /* Border hierarchy */
      --border-primary: 4px;
      --border-section: 3px;
      --border-subtle: 1px;

      /* Solid offset depth */
      --offset-x: 4px;
      --offset-y: 4px;
      --offset-color: #1A1A1A;
    }

    /* ============================================
       RESET + BASE
       ============================================ */

    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      background: var(--factory-steel);
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font-body);
      font-size: 16px;
      line-height: 1.7;
      color: var(--factory-steel);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ============================================
       ACCESSIBILITY
       ============================================ */

    .skip-link {
      position: absolute;
      top: -100%;
      left: 0;
      background: var(--factory-accent);
      color: var(--factory-text-light);
      padding: 8px 16px;
      z-index: 1000;
      font-family: var(--font-body);
      font-size: 14px;
      text-decoration: none;
      border: none;
    }

    .skip-link:focus {
      top: 0;
    }

    *:focus-visible {
      outline: 3px solid var(--factory-accent);
      outline-offset: 2px;
    }

    ::selection {
      background: rgba(232, 48, 37, 0.15);
      color: var(--factory-steel);
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* ============================================
       CONTAINER SPINE (940-960px)
       ============================================ */

    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 var(--space-6);
      width: 100%;
    }

    /* ============================================
       STICKY SECTION NAVIGATION
       Industrial, minimal — a factory manifest
       ============================================ */

    .section-nav {
      position: fixed;
      top: 50%;
      right: var(--space-4);
      transform: translateY(-50%);
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: var(--space-1);
    }

    .section-nav__link {
      display: block;
      width: 28px;
      height: 4px;
      background: rgba(26, 26, 26, 0.2);
      text-decoration: none;
      position: relative;
      transition: background 0.2s ease;
    }

    .section-nav__link:hover {
      background: var(--factory-accent);
    }

    .section-nav__link::after {
      content: attr(data-label);
      position: absolute;
      right: 36px;
      top: 50%;
      transform: translateY(-50%);
      font-family: var(--font-mono);
      font-size: 9px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--factory-text-secondary);
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.15s ease;
    }

    .section-nav__link:hover::after {
      opacity: 1;
    }

    /* Zone-aware nav colors */
    .section-nav__link--z3 {
      background: rgba(254, 249, 245, 0.25);
    }

    .section-nav__link--z3:hover {
      background: var(--factory-accent);
    }

    /* Back to top button */
    .back-to-top {
      position: fixed;
      bottom: var(--space-6);
      right: var(--space-6);
      z-index: 100;
      width: 40px;
      height: 40px;
      background: var(--factory-steel);
      border: 1px solid var(--factory-accent);
      color: var(--factory-accent);
      font-family: var(--font-mono);
      font-size: 18px;
      line-height: 40px;
      text-align: center;
      text-decoration: none;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
    }

    .back-to-top.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .back-to-top:hover {
      background: var(--factory-accent);
      color: var(--factory-text-light);
    }

    /* ============================================
       PAGE HEADER — Dense, purposeful, dark
       SC-09: dark bg + 3px red bottom border
       ============================================ */

    .page-header {
      background: var(--factory-steel);
      border-bottom: 3px solid var(--factory-accent);
      padding: var(--space-8) 0;
    }

    .page-header .container {
      display: flex;
      flex-direction: column;
      gap: var(--space-3);
    }

    .page-header__id {
      font-family: var(--font-mono);
      font-size: 11px;
      color: var(--factory-accent);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .page-header__title {
      font-family: var(--font-display);
      font-size: 36px;
      font-style: italic;
      color: var(--factory-text-light);
      line-height: 1.2;
    }

    .page-header__subtitle {
      font-size: 15px;
      color: #B0A89C;
      max-width: 600px;
      line-height: 1.6;
    }

    .page-header__meta {
      display: flex;
      gap: var(--space-6);
      flex-wrap: wrap;
      margin-top: var(--space-2);
    }

    .page-header__tag {
      font-family: var(--font-mono);
      font-size: 10px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: #B0A89C;
      border: 1px solid #B0A89C;
      padding: 2px 8px;
    }

    /* ============================================
       ZONE 1 — LOADING DOCK (Orientation)
       Background: #FEF9F5
       Density: LOW
       Typography: 18px body, 40px H2, 1.8 line-height
       Spacing: 80px zone padding, 48px inner
       ============================================ */

    .zone-loading-dock {
      background: var(--loading-dock);
      padding: var(--space-20) 0;
    }

    .zone-loading-dock h2 {
      font-family: var(--font-display);
      font-size: 40px;
      font-style: italic;
      color: var(--factory-steel);
      margin-bottom: var(--space-8);
      line-height: 1.2;
    }

    .zone-loading-dock h3 {
      font-family: var(--font-display);
      font-size: 24px;
      font-style: italic;
      color: var(--factory-steel);
      margin-bottom: var(--space-4);
      line-height: 1.3;
    }

    .zone-loading-dock p {
      font-size: 18px;
      line-height: 1.8;
      max-width: 65ch;
      margin-bottom: var(--space-6);
      color: var(--factory-steel);
    }

    .zone-loading-dock .section-indicator {
      font-family: var(--font-mono);
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--factory-text-secondary);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid var(--factory-border-subtle);
    }

    /* Complexity Ladder (Z1 special component) */
    .complexity-ladder {
      border-left: 4px solid var(--factory-accent);
      background: rgba(232, 48, 37, 0.03);
      padding: var(--space-6) var(--space-5);
      margin-bottom: var(--space-8);
    }

    .complexity-ladder__label {
      font-family: var(--font-body);
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--factory-accent);
      margin-bottom: var(--space-3);
    }

    .complexity-ladder pre {
      background: none;
      border: none;
      color: var(--factory-steel);
      padding: 0;
      margin: 0;
      font-family: var(--font-mono);
      font-size: 13px;
      line-height: 1.7;
      white-space: pre;
      overflow-x: auto;
    }

    /* Prerequisites callout in Z1 */
    .callout {
      border-left: var(--border-primary) solid var(--callout-border-color, var(--factory-accent));
      background: var(--callout-bg, rgba(232, 48, 37, 0.03));
      padding: var(--space-6) var(--space-5);
      margin-bottom: var(--space-6);
    }

    .callout__label {
      font-family: var(--font-body);
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--callout-label-color, var(--factory-accent));
      margin-bottom: var(--space-3);
    }

    .callout__body {
      font-size: 16px;
      line-height: 1.7;
      color: var(--factory-steel);
    }

    .callout__body ul {
      list-style: none;
      padding: 0;
    }

    .callout__body li {
      padding: var(--space-1) 0;
      padding-left: var(--space-5);
      position: relative;
    }

    .callout__body li::before {
      content: '\2014';
      position: absolute;
      left: 0;
      color: var(--callout-label-color, var(--factory-accent));
      font-weight: 600;
    }

    /* Callout variants */
    .callout--info {
      --callout-border-color: var(--accent-blue);
      --callout-bg: rgba(74, 144, 217, 0.04);
      --callout-label-color: var(--accent-blue);
    }

    .callout--tip {
      --callout-border-color: var(--accent-green);
      --callout-bg: rgba(74, 157, 107, 0.04);
      --callout-label-color: var(--accent-green);
    }

    .callout--essence {
      --callout-border-color: var(--accent-amber);
      --callout-bg: rgba(217, 119, 6, 0.04);
      --callout-label-color: var(--accent-amber);
    }

    .callout--warning {
      --callout-border-color: var(--factory-accent);
      --callout-bg: rgba(232, 48, 37, 0.04);
      --callout-label-color: var(--factory-accent);
    }

    .callout--challenge {
      --callout-border-color: var(--accent-purple);
      --callout-bg: rgba(124, 58, 237, 0.04);
      --callout-label-color: var(--accent-purple);
    }

    /* Essence variant: serif italic */
    .callout--essence .callout__body {
      font-family: var(--font-display);
      font-size: 18px;
      font-style: italic;
      line-height: 1.6;
    }

    /* Pull quote (Z1 generous) */
    .pull-quote {
      border-left: 4px solid var(--accent-purple);
      padding: var(--space-8) var(--space-6);
      margin: var(--space-10) 0;
      background: rgba(124, 58, 237, 0.03);
    }

    .pull-quote p {
      font-family: var(--font-display);
      font-style: italic;
      font-size: 26px;
      line-height: 1.4;
      color: var(--factory-steel);
      max-width: 55ch;
    }

    .pull-quote cite {
      display: block;
      font-family: var(--font-mono);
      font-size: 10px;
      font-style: normal;
      color: var(--factory-text-secondary);
      margin-top: var(--space-3);
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    /* Credential table in Z1 */
    .zone-loading-dock table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: var(--space-8);
    }

    .zone-loading-dock th {
      font-family: var(--font-body);
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      text-align: left;
      padding: var(--space-3) var(--space-4);
      border-bottom: 3px solid var(--factory-border);
      color: var(--factory-text-secondary);
    }

    .zone-loading-dock td {
      padding: var(--space-3) var(--space-4);
      border-bottom: 1px solid var(--factory-border);
      font-size: 16px;
      line-height: 1.6;
      vertical-align: top;
    }

    .zone-loading-dock tr:last-child td {
      border-bottom: none;
    }

    /* Content sections within Z1 */
    .z1-section {
      margin-bottom: var(--space-12);
    }

    .z1-section:last-child {
      margin-bottom: 0;
    }

    /* Vibe coding principles list */
    .principles-list {
      list-style: none;
      padding: 0;
      margin-bottom: var(--space-6);
    }

    .principles-list li {
      padding: var(--space-2) 0;
      padding-left: var(--space-6);
      position: relative;
      font-size: 18px;
      line-height: 1.8;
    }

    .principles-list li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 14px;
      width: 8px;
      height: 3px;
      background: var(--factory-accent);
    }

    /* ============================================
       Z1 -> Z2 BOUNDARY
       Medium transition: 3px border + breathing gap
       4 channels shift: bg, typography, spacing, components
       ============================================ */

    .boundary-z1-z2 {
      border-bottom: 3px solid var(--factory-border);
      margin: 0;
    }

    /* ============================================
       ZONE 2 — DISPATCH FLOOR (Mental Model)
       Background: #EDE6DA
       Density: MODERATE
       Typography: 16px body, 32px H2, 1.7 line-height
       Spacing: 64px zone padding, 32px inner
       THE QUIET ZONE (D-09)
       ============================================ */

    .zone-dispatch-floor {
      background: var(--dispatch-floor);
      padding: var(--space-16) 0;
    }

    .zone-dispatch-floor h2 {
      font-family: var(--font-display);
      font-size: 32px;
      font-style: italic;
      color: var(--factory-steel);
      margin-bottom: var(--space-6);
      line-height: 1.2;
    }

    .zone-dispatch-floor h3 {
      font-family: var(--font-display);
      font-size: 24px;
      font-style: italic;
      color: var(--factory-steel);
      margin-bottom: var(--space-4);
      line-height: 1.3;
    }

    .zone-dispatch-floor p {
      font-size: 16px;
      line-height: 1.7;
      max-width: 65ch;
      margin-bottom: var(--space-5);
    }

    .zone-dispatch-floor .section-indicator {
      font-family: var(--font-mono);
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--factory-text-secondary);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid rgba(26, 26, 26, 0.15);
    }

    .zone-dispatch-floor .callout {
      padding: var(--space-5) var(--space-5);
    }

    /* Factory comparison table in Z2 */
    .factory-comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-6);
      margin: var(--space-8) 0;
    }

    .factory-comparison__column {
      padding: var(--space-5);
      border: 1px solid rgba(26, 26, 26, 0.15);
    }

    .factory-comparison__column h3 {
      font-family: var(--font-mono);
      font-size: 11px;
      font-weight: 600;
      font-style: normal;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--factory-text-secondary);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid rgba(26, 26, 26, 0.15);
    }

    .factory-comparison__column p {
      font-size: 15px;
      line-height: 1.6;
      margin-bottom: var(--space-3);
    }

    .z2-section {
      margin-bottom: var(--space-8);
    }

    .z2-section:last-child {
      margin-bottom: 0;
    }

    /* ASCII diagram container in Z2 */
    .architecture-diagram {
      background: var(--factory-steel);
      color: var(--factory-text-light);
      border: 3px solid var(--factory-border);
      padding: var(--space-6) var(--space-8);
      margin: var(--space-8) 0;
      overflow-x: auto;
    }

    .architecture-diagram__label {
      font-family: var(--font-mono);
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--factory-accent);
      margin-bottom: var(--space-3);
    }

    .architecture-diagram pre {
      background: none;
      border: none;
      color: var(--factory-text-light);
      padding: 0;
      margin: 0;
      font-family: var(--font-mono);
      font-size: 12px;
      line-height: 1.5;
      white-space: pre;
    }

    /* Dispatch floor table */
    .zone-dispatch-floor table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: var(--space-6);
    }

    .zone-dispatch-floor th {
      font-family: var(--font-body);
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      text-align: left;
      padding: var(--space-3) var(--space-4);
      border-bottom: 3px solid rgba(26, 26, 26, 0.2);
      color: var(--factory-text-secondary);
    }

    .zone-dispatch-floor td {
      padding: var(--space-3) var(--space-4);
      border-bottom: 1px solid rgba(26, 26, 26, 0.1);
      font-size: 15px;
      line-height: 1.6;
      vertical-align: top;
    }

    .zone-dispatch-floor tr:last-child td {
      border-bottom: none;
    }

    .zone-dispatch-floor tr:hover {
      background: rgba(232, 48, 37, 0.03);
    }

    /* ============================================
       Z2 -> Z3 BOUNDARY — THE DOORFRAME
       HEAVY transition: dark inversion = full stop
       All 6 channels shift — entering the factory floor
       The reader needs a moment to adjust
       ============================================ */

    .boundary-z2-z3 {
      border-bottom: none;
      padding: var(--space-8) 0;
      background: var(--dispatch-floor);
      position: relative;
    }

    .boundary-z2-z3 .threshold {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 var(--space-6);
    }

    .boundary-z2-z3 .threshold__line {
      border-top: 3px solid var(--factory-accent);
      padding-top: var(--space-4);
    }

    .boundary-z2-z3 .threshold__label {
      font-family: var(--font-mono);
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--factory-accent);
      text-align: center;
    }

    /* ============================================
       ZONE 3 — FACTORY FLOOR (Infrastructure)
       Background: #1E1E1E (near-black inversion)
       Density: HIGH
       Typography: 15px body, 28px H2, 1.6 line-height
       Spacing: 48px zone padding, 24px inner
       THIS IS THE SECOND-HALF MOMENT (D-04)
       REFINE: All contrast values raised — lights ON
       ============================================ */

    .zone-factory-floor {
      background: var(--factory-floor);
      color: var(--factory-text-light);
      padding: var(--space-12) 0;
    }

    .zone-factory-floor ::selection {
      background: var(--factory-accent);
      color: white;
    }

    .zone-factory-floor h2 {
      font-family: var(--font-display);
      font-size: 28px;
      font-style: italic;
      color: var(--factory-text-light);
      margin-bottom: var(--space-5);
      line-height: 1.2;
    }

    .zone-factory-floor h3 {
      font-family: var(--font-display);
      font-size: 20px;
      font-style: italic;
      color: var(--factory-text-light);
      margin-bottom: var(--space-3);
      line-height: 1.3;
    }

    .zone-factory-floor h4 {
      font-family: var(--font-body);
      font-size: 15px;
      font-weight: 600;
      color: var(--factory-text-light);
      margin-bottom: var(--space-2);
      letter-spacing: 0.03em;
    }

    .zone-factory-floor p {
      font-size: 15px;
      line-height: 1.6;
      max-width: 65ch;
      margin-bottom: var(--space-4);
      color: #FEF9F5;
    }

    .zone-factory-floor .section-indicator {
      font-family: var(--font-mono);
      font-size: 10px;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--factory-accent);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid rgba(254, 249, 245, 0.25);
    }

    /* Z3 callouts: red-on-dark */
    .zone-factory-floor .callout {
      background: rgba(232, 48, 37, 0.1);
      border-left-color: var(--factory-accent);
      padding: var(--space-4) var(--space-5);
    }

    .zone-factory-floor .callout__label {
      color: var(--factory-accent);
    }

    .zone-factory-floor .callout__body {
      color: #FEF9F5;
    }

    .zone-factory-floor .callout--essence .callout__body {
      color: var(--factory-text-light);
    }

    .zone-factory-floor .callout__body li {
      color: #FEF9F5;
    }

    .zone-factory-floor .callout--info {
      --callout-border-color: var(--accent-blue);
      --callout-bg: rgba(74, 144, 217, 0.1);
      --callout-label-color: var(--accent-blue);
      background: rgba(74, 144, 217, 0.1);
      border-left-color: var(--accent-blue);
    }

    .zone-factory-floor .callout--info .callout__label {
      color: var(--accent-blue);
    }

    .zone-factory-floor .callout--warning {
      background: rgba(232, 48, 37, 0.1);
      border-left-color: var(--factory-accent);
    }

    .zone-factory-floor .callout--warning .callout__label {
      color: var(--factory-accent);
    }

    /* Z3 tables (light borders on dark) — LIGHTS ON */
    .zone-factory-floor table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: var(--space-5);
    }

    .zone-factory-floor th {
      font-family: var(--font-body);
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      text-align: left;
      padding: var(--space-2) var(--space-4);
      border-bottom: 3px solid rgba(254, 249, 245, 0.3);
      color: var(--factory-accent);
    }

    .zone-factory-floor td {
      padding: var(--space-2) var(--space-4);
      border-bottom: 1px solid rgba(254, 249, 245, 0.2);
      font-size: 14px;
      line-height: 1.5;
      vertical-align: top;
      color: rgba(254, 249, 245, 0.95);
    }

    .zone-factory-floor tr:last-child td {
      border-bottom: none;
    }

    /* Z3 code blocks (inverted — raised contrast) */
    .zone-factory-floor pre {
      background: rgba(254, 249, 245, 0.08);
      border: 1px solid rgba(254, 249, 245, 0.2);
      color: var(--factory-text-light);
      padding: var(--space-4) var(--space-5);
      font-family: var(--font-mono);
      font-size: 13px;
      line-height: 1.5;
      overflow-x: auto;
      margin-bottom: var(--space-5);
    }

    .zone-factory-floor pre code {
      background: none;
      border: none;
      padding: 0;
      font-size: inherit;
      color: inherit;
    }

    /* Z3 subsections — raised border contrast */
    .z3-section {
      margin-bottom: var(--space-8);
      padding-bottom: var(--space-6);
      border-bottom: 1px solid rgba(254, 249, 245, 0.2);
    }

    .z3-section:last-child {
      border-bottom: none;
      padding-bottom: 0;
      margin-bottom: 0;
    }

    /* Z3 bento grid for dense content */
    .bento-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-5);
      margin: var(--space-6) 0;
    }

    .bento-cell {
      border: 1px solid rgba(254, 249, 245, 0.25);
      padding: var(--space-5);
    }

    .bento-cell--full {
      grid-column: 1 / -1;
    }

    .bento-cell__label {
      font-family: var(--font-mono);
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--factory-accent);
      margin-bottom: var(--space-3);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid rgba(254, 249, 245, 0.15);
    }

    .bento-cell p {
      font-size: 14px;
      line-height: 1.6;
    }

    .bento-cell pre {
      margin-bottom: 0;
    }

    /* Principle cards in Z3 — raised contrast */
    .principle-card {
      border-left: 4px solid var(--factory-accent);
      padding: var(--space-5);
      margin-bottom: var(--space-5);
      background: rgba(232, 48, 37, 0.07);
    }

    .principle-card__title {
      font-family: var(--font-body);
      font-size: 14px;
      font-weight: 600;
      color: var(--factory-text-light);
      margin-bottom: var(--space-2);
      letter-spacing: 0.03em;
    }

    .principle-card__body {
      font-size: 14px;
      line-height: 1.6;
      color: rgba(254, 249, 245, 0.95);
    }

    .principle-card__body p {
      color: rgba(254, 249, 245, 0.95);
    }

    .principle-card blockquote {
      font-family: var(--font-display);
      font-style: italic;
      font-size: 16px;
      color: var(--factory-text-light);
      margin-top: var(--space-3);
      padding-left: var(--space-4);
      border-left: 1px solid rgba(254, 249, 245, 0.35);
      line-height: 1.5;
    }

    /* Z3 list styling — raised contrast */
    .zone-factory-floor ul {
      list-style: none;
      padding: 0;
      margin-bottom: var(--space-4);
    }

    .zone-factory-floor li {
      padding: var(--space-1) 0;
      padding-left: var(--space-5);
      position: relative;
      font-size: 14px;
      line-height: 1.6;
      color: rgba(254, 249, 245, 0.95);
    }

    .zone-factory-floor li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 10px;
      width: 6px;
      height: 2px;
      background: var(--factory-accent);
    }

    /* ============================================
       Z3 -> Z4 BOUNDARY — THE RECOVERY DOORFRAME
       HEAVY transition: dark-to-light recovery
       5+ channels shift: bg, typography, spacing,
       borders, font-weight
       ============================================ */

    .boundary-z3-z4 {
      border-bottom: none;
      padding: var(--space-8) 0;
      background: var(--factory-floor);
      position: relative;
    }

    .boundary-z3-z4 .threshold {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 var(--space-6);
    }

    .boundary-z3-z4 .threshold__line {
      border-top: 3px solid var(--factory-accent);
      padding-top: var(--space-4);
    }

    .boundary-z3-z4 .threshold__label {
      font-family: var(--font-mono);
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--factory-accent);
      text-align: center;
    }

    /* ============================================
       ZONE 4 — ASSEMBLY LINE (Practice)
       Background: #F0EBE0
       Density: HIGH
       Typography: 16px body, 28px H2, 1.7 line-height
       Spacing: 48px zone padding, 32px inner
       REFINE: multi-coherence shift from Z3 —
         font-weight 400->500 for body, border style
         change (solid accent borders vs Z3 subtle)
       ============================================ */

    .zone-assembly-line {
      background: var(--assembly-line);
      padding: var(--space-12) 0;
    }

    .zone-assembly-line h2 {
      font-family: var(--font-display);
      font-size: 28px;
      font-style: italic;
      color: var(--factory-steel);
      margin-bottom: var(--space-6);
      line-height: 1.2;
    }

    .zone-assembly-line h3 {
      font-family: var(--font-display);
      font-size: 22px;
      font-style: italic;
      color: var(--factory-steel);
      margin-bottom: var(--space-4);
      line-height: 1.3;
    }

    .zone-assembly-line h4 {
      font-family: var(--font-body);
      font-size: 16px;
      font-weight: 600;
      color: var(--factory-steel);
      margin-bottom: var(--space-2);
    }

    .zone-assembly-line p {
      font-size: 16px;
      font-weight: 500;
      line-height: 1.7;
      max-width: 65ch;
      margin-bottom: var(--space-5);
    }

    .zone-assembly-line .section-indicator {
      font-family: var(--font-mono);
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--factory-text-secondary);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid rgba(26, 26, 26, 0.12);
    }

    /* Z4 code blocks (dark on light) */
    .zone-assembly-line pre {
      background: var(--factory-steel);
      color: var(--factory-text-light);
      border: 3px solid var(--factory-border);
      padding: var(--space-5) var(--space-6);
      font-family: var(--font-mono);
      font-size: 13px;
      line-height: 1.5;
      overflow-x: auto;
      margin-bottom: var(--space-6);
    }

    .zone-assembly-line pre code {
      background: none;
      border: none;
      padding: 0;
      font-size: inherit;
      color: inherit;
    }

    /* Code snippet with header */
    .code-snippet {
      background: var(--factory-steel);
      margin-bottom: var(--space-6);
    }

    .code-snippet__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--space-2) var(--space-4);
      border-bottom: 1px solid var(--factory-border);
    }

    .code-snippet__filename {
      font-family: var(--font-mono);
      font-size: 11px;
      color: var(--factory-text-secondary);
    }

    .code-snippet__content {
      padding: var(--space-4) var(--space-5);
      font-family: var(--font-mono);
      font-size: 13px;
      line-height: 1.5;
      color: var(--factory-text-light);
      overflow-x: auto;
      white-space: pre;
    }

    .zone-assembly-line .callout {
      padding: var(--space-5) var(--space-5);
    }

    /* Z4 tables — accent-colored header borders for multi-coherence */
    .zone-assembly-line table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: var(--space-6);
    }

    .zone-assembly-line th {
      font-family: var(--font-body);
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      text-align: left;
      padding: var(--space-3) var(--space-4);
      border-bottom: 3px solid var(--factory-accent);
      color: var(--factory-steel);
    }

    .zone-assembly-line td {
      padding: var(--space-3) var(--space-4);
      border-bottom: 1px solid rgba(26, 26, 26, 0.1);
      font-size: 15px;
      line-height: 1.6;
      vertical-align: top;
    }

    .zone-assembly-line tr:last-child td {
      border-bottom: none;
    }

    /* Z4 sections with 3px dividers */
    .z4-section {
      margin-bottom: var(--space-8);
      padding-bottom: var(--space-6);
      border-bottom: 3px solid rgba(26, 26, 26, 0.1);
    }

    .z4-section:last-child {
      border-bottom: none;
      padding-bottom: 0;
      margin-bottom: 0;
    }

    /* Numbered steps */
    .step-list {
      list-style: none;
      padding: 0;
      counter-reset: step-counter;
      margin-bottom: var(--space-6);
    }

    .step-list li {
      counter-increment: step-counter;
      padding: var(--space-4) 0;
      padding-left: var(--space-10);
      position: relative;
      font-size: 15px;
      line-height: 1.7;
      border-bottom: 1px solid rgba(26, 26, 26, 0.08);
    }

    .step-list li:last-child {
      border-bottom: none;
    }

    .step-list li::before {
      content: counter(step-counter);
      position: absolute;
      left: 0;
      top: var(--space-4);
      font-family: var(--font-mono);
      font-size: 14px;
      font-weight: 600;
      color: var(--factory-accent);
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid var(--factory-accent);
    }

    /* Z4 list styling */
    .zone-assembly-line ul {
      list-style: none;
      padding: 0;
      margin-bottom: var(--space-5);
    }

    .zone-assembly-line li {
      padding: var(--space-1) 0;
      padding-left: var(--space-5);
      position: relative;
      font-size: 15px;
      line-height: 1.7;
    }

    .zone-assembly-line li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 12px;
      width: 6px;
      height: 2px;
      background: var(--factory-accent);
    }

    /* Troubleshooting accordion */
    .troubleshoot {
      border: 1px solid rgba(26, 26, 26, 0.12);
      margin-bottom: var(--space-4);
    }

    .troubleshoot summary {
      padding: var(--space-4) var(--space-5);
      cursor: pointer;
      font-family: var(--font-body);
      font-size: 15px;
      font-weight: 600;
      color: var(--factory-steel);
      background: rgba(26, 26, 26, 0.03);
      list-style: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .troubleshoot summary::after {
      content: '+';
      font-family: var(--font-mono);
      font-size: 16px;
      color: var(--factory-accent);
    }

    .troubleshoot[open] summary::after {
      content: '\2212';
    }

    .troubleshoot summary::-webkit-details-marker {
      display: none;
    }

    .troubleshoot__content {
      padding: var(--space-4) var(--space-5);
      border-top: 1px solid rgba(26, 26, 26, 0.08);
    }

    .troubleshoot__content p {
      font-size: 14px;
      margin-bottom: var(--space-3);
    }

    /* Checkpoint box */
    .checkpoint {
      border-left: 4px solid var(--accent-green);
      background: rgba(74, 157, 107, 0.05);
      padding: var(--space-4) var(--space-5);
      margin: var(--space-5) 0;
    }

    .checkpoint__label {
      font-family: var(--font-mono);
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--accent-green);
      margin-bottom: var(--space-2);
    }

    .checkpoint__body {
      font-size: 14px;
      line-height: 1.6;
    }

    /* ============================================
       Z4 -> Z5 BOUNDARY
       LIGHT transition: 1px border + 48px gap = legato
       3 channels shift: bg, typography, components
       ============================================ */

    .boundary-z4-z5 {
      border-bottom: 1px solid var(--factory-border);
    }

    /* ============================================
       ZONE 5 — SHIPPING BAY (Resolution)
       Background: #E5DDD0
       Density: LOW-MODERATE
       Typography: 16px body, 32px H2, 1.7 line-height
       Spacing: 64px zone padding, 32px inner
       ============================================ */

    .zone-shipping-bay {
      background: var(--shipping-bay);
      padding: var(--space-16) 0;
    }

    .zone-shipping-bay h2 {
      font-family: var(--font-display);
      font-size: 32px;
      font-style: italic;
      color: var(--factory-steel);
      margin-bottom: var(--space-6);
      line-height: 1.2;
    }

    .zone-shipping-bay h3 {
      font-family: var(--font-display);
      font-size: 24px;
      font-style: italic;
      color: var(--factory-steel);
      margin-bottom: var(--space-4);
      line-height: 1.3;
    }

    .zone-shipping-bay p {
      font-size: 16px;
      line-height: 1.7;
      max-width: 65ch;
      margin-bottom: var(--space-5);
    }

    .zone-shipping-bay .section-indicator {
      font-family: var(--font-mono);
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--factory-text-secondary);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid rgba(26, 26, 26, 0.12);
    }

    /* Z5 comparison tables */
    .zone-shipping-bay table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: var(--space-8);
    }

    .zone-shipping-bay th {
      font-family: var(--font-body);
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      text-align: left;
      padding: var(--space-3) var(--space-4);
      border-bottom: 3px solid rgba(26, 26, 26, 0.2);
      color: var(--factory-text-secondary);
    }

    .zone-shipping-bay td {
      padding: var(--space-3) var(--space-4);
      border-bottom: 1px solid rgba(26, 26, 26, 0.1);
      font-size: 15px;
      line-height: 1.6;
      vertical-align: top;
    }

    .zone-shipping-bay tr:last-child td {
      border-bottom: none;
    }

    .z5-section {
      margin-bottom: var(--space-8);
    }

    .z5-section:last-child {
      margin-bottom: 0;
    }

    /* Decision tree (ASCII) in Z5 */
    .zone-shipping-bay .architecture-diagram {
      border-color: rgba(26, 26, 26, 0.2);
    }

    /* Z5 pull quote — the D-04 second moment */
    .pull-quote--resolved {
      border-left: 4px solid var(--factory-accent);
      padding: var(--space-8) var(--space-6);
      margin: var(--space-8) 0;
      background: rgba(232, 48, 37, 0.04);
      position: relative;
    }

    .pull-quote--resolved p {
      font-family: var(--font-display);
      font-style: italic;
      font-size: 28px;
      line-height: 1.4;
      color: var(--factory-steel);
      max-width: 50ch;
    }

    .pull-quote--resolved cite {
      display: block;
      font-family: var(--font-mono);
      font-size: 10px;
      font-style: normal;
      color: var(--factory-text-secondary);
      margin-top: var(--space-3);
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    /* Quotes collection in Z5 */
    .quote-collection {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-5);
      margin: var(--space-6) 0;
    }

    .quote-card {
      border-left: 1px solid var(--factory-border);
      padding: var(--space-4) var(--space-5);
    }

    .quote-card blockquote {
      font-family: var(--font-display);
      font-style: italic;
      font-size: 16px;
      line-height: 1.5;
      color: var(--factory-steel);
      margin-bottom: var(--space-2);
    }

    .quote-card__theme {
      font-family: var(--font-mono);
      font-size: 10px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: var(--factory-text-secondary);
    }

    /* Source links */
    .source-links {
      list-style: none;
      padding: 0;
    }

    .source-links li {
      padding: var(--space-2) 0;
      border-bottom: 1px solid rgba(26, 26, 26, 0.08);
    }

    .source-links li:last-child {
      border-bottom: none;
    }

    .source-links a {
      color: var(--accent-blue);
      text-decoration: none;
      font-size: 15px;
    }

    .source-links a:hover {
      color: var(--factory-accent);
    }

    .source-links .source-type {
      font-family: var(--font-mono);
      font-size: 10px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: var(--factory-text-secondary);
      margin-left: var(--space-2);
    }

    /* Use/Don't Use grid */
    .use-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-6);
      margin: var(--space-6) 0;
    }

    .use-grid__column {
      padding: var(--space-5);
      border: 1px solid rgba(26, 26, 26, 0.12);
    }

    .use-grid__column--yes {
      border-left: 4px solid var(--accent-green);
    }

    .use-grid__column--no {
      border-left: 4px solid var(--factory-accent);
    }

    .use-grid__column h3 {
      font-family: var(--font-mono);
      font-size: 11px;
      font-weight: 600;
      font-style: normal;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin-bottom: var(--space-4);
    }

    .use-grid__column--yes h3 {
      color: var(--accent-green);
    }

    .use-grid__column--no h3 {
      color: var(--factory-accent);
    }

    .use-grid__column ul {
      list-style: none;
      padding: 0;
    }

    .use-grid__column li {
      padding: var(--space-2) 0;
      padding-left: var(--space-5);
      position: relative;
      font-size: 14px;
      line-height: 1.6;
    }

    .use-grid__column--yes li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 12px;
      width: 6px;
      height: 2px;
      background: var(--accent-green);
    }

    .use-grid__column--no li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 12px;
      width: 6px;
      height: 2px;
      background: var(--factory-accent);
    }

    /* Community extensions table */
    .community-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-4);
      margin: var(--space-5) 0;
    }

    .community-card {
      border: 1px solid rgba(26, 26, 26, 0.1);
      padding: var(--space-4);
    }

    .community-card__name {
      font-family: var(--font-mono);
      font-size: 14px;
      font-weight: 600;
      color: var(--factory-steel);
      margin-bottom: var(--space-1);
    }

    .community-card__author {
      font-family: var(--font-mono);
      font-size: 10px;
      letter-spacing: 0.05em;
      color: var(--factory-text-secondary);
      margin-bottom: var(--space-2);
    }

    .community-card__desc {
      font-size: 14px;
      line-height: 1.5;
      color: var(--factory-text-secondary);
    }

    /* ============================================
       PAGE FOOTER — Echoes header dark treatment
       ============================================ */

    .page-footer {
      background: var(--factory-steel);
      border-top: 3px solid var(--factory-accent);
      padding: var(--space-8) 0;
      color: var(--factory-text-secondary);
    }

    .page-footer .container {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      flex-wrap: wrap;
      gap: var(--space-6);
    }

    .page-footer__section {
      flex: 1;
      min-width: 200px;
    }

    .page-footer__label {
      font-family: var(--font-mono);
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--factory-accent);
      margin-bottom: var(--space-2);
    }

    .page-footer__value {
      font-size: 13px;
      line-height: 1.6;
      color: var(--factory-text-secondary);
    }

    .page-footer__closing {
      font-family: var(--font-display);
      font-style: italic;
      font-size: 16px;
      color: rgba(254, 249, 245, 0.6);
      width: 100%;
      text-align: center;
      margin-top: var(--space-6);
      padding-top: var(--space-4);
      border-top: 1px solid rgba(254, 249, 245, 0.15);
    }

    /* ============================================
       EDGE INTENTIONALITY (D-07)
       ============================================ */

    /* Tabular nums for wave/stage tables */
    .tabular-nums {
      font-variant-numeric: tabular-nums;
    }

    /* Optical alignment for Instrument Serif headings */
    .zone-loading-dock h2,
    .zone-dispatch-floor h2,
    .zone-assembly-line h2,
    .zone-shipping-bay h2 {
      text-indent: -0.03em;
    }

    /* First/last child treatments */
    .callout:first-child { margin-top: 0; }
    .callout:last-child { margin-bottom: 0; }

    /* Inline code */
    p code,
    li code,
    td code {
      font-family: var(--font-mono);
      font-size: 0.875em;
      background: rgba(26, 26, 26, 0.06);
      padding: 1px 5px;
      border: 1px solid rgba(26, 26, 26, 0.1);
    }

    .zone-factory-floor p code,
    .zone-factory-floor li code,
    .zone-factory-floor td code {
      background: rgba(254, 249, 245, 0.12);
      border-color: rgba(254, 249, 245, 0.2);
      color: var(--factory-text-light);
    }

    /* ============================================
       RESPONSIVE (768px)
       ============================================ */

    @media (max-width: 768px) {
      .page-header__title {
        font-size: 28px;
      }

      .zone-loading-dock h2 { font-size: 32px; }
      .zone-loading-dock p { font-size: 16px; }
      .zone-loading-dock { padding: var(--space-12) 0; }

      .zone-dispatch-floor h2 { font-size: 28px; }
      .zone-dispatch-floor { padding: var(--space-12) 0; }

      .zone-factory-floor h2 { font-size: 24px; }
      .zone-factory-floor { padding: var(--space-8) 0; }

      .zone-assembly-line h2 { font-size: 24px; }
      .zone-assembly-line { padding: var(--space-8) 0; }

      .zone-shipping-bay h2 { font-size: 28px; }
      .zone-shipping-bay { padding: var(--space-12) 0; }

      .factory-comparison,
      .bento-grid,
      .quote-collection,
      .use-grid,
      .community-grid {
        grid-template-columns: 1fr;
      }

      .pull-quote p { font-size: 22px; }
      .pull-quote--resolved p { font-size: 24px; }

      .container {
        padding: 0 var(--space-4);
      }

      .page-footer .container {
        flex-direction: column;
      }

      .architecture-diagram pre {
        font-size: 10px;
      }

      .section-nav {
        display: none;
      }

      .back-to-top {
        bottom: var(--space-4);
        right: var(--space-4);
        width: 36px;
        height: 36px;
        line-height: 36px;
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- ============================================
       SECTION NAVIGATION — Industrial manifest
       Right-edge rail, labels on hover
       ============================================ -->

  <nav class="section-nav" aria-label="Section navigation">
    <a href="#s0-orientation" class="section-nav__link" data-label="Orientation" title="S0: Orientation"></a>
    <a href="#s1-biography" class="section-nav__link" data-label="Biography" title="S1: Biography"></a>
    <a href="#s2-concept" class="section-nav__link" data-label="Concept" title="S2: Core Concept"></a>
    <a href="#s3-architecture" class="section-nav__link" data-label="Architecture" title="S3: Architecture"></a>
    <a href="#s4-beads" class="section-nav__link section-nav__link--z3" data-label="Beads" title="S4: Beads"></a>
    <a href="#s5-waves" class="section-nav__link section-nav__link--z3" data-label="6 Waves" title="S5: 6 Waves"></a>
    <a href="#s6-principles" class="section-nav__link section-nav__link--z3" data-label="Principles" title="S6: Principles"></a>
    <a href="#s7-implementation" class="section-nav__link" data-label="Implementation" title="S7: Implementation"></a>
    <a href="#s8-verification" class="section-nav__link" data-label="Verification" title="S8: Verification"></a>
    <a href="#s9-troubleshooting" class="section-nav__link" data-label="Troubleshooting" title="S9: Troubleshooting"></a>
    <a href="#s10-decision" class="section-nav__link" data-label="Decision" title="S10: Decision Guide"></a>
    <a href="#s11-quotes" class="section-nav__link" data-label="Quotes" title="S11: Quotes"></a>
    <a href="#s12-comparisons" class="section-nav__link" data-label="Comparisons" title="S12: Comparisons"></a>
    <a href="#s13-sources" class="section-nav__link" data-label="Sources" title="S13: Sources"></a>
  </nav>

  <!-- Back to top -->
  <a href="#main-content" class="back-to-top" id="back-to-top" aria-label="Back to top">&uarr;</a>

  <!-- ============================================
       PAGE HEADER — The Factory Entrance
       Dark, dense, purposeful
       ============================================ -->

  <header class="page-header" role="banner">
    <div class="container">
      <span class="page-header__id">Deep Dive &mdash; Level 7</span>
      <h1 class="page-header__title">Steve Yegge and Gas Town</h1>
      <p class="page-header__subtitle">The agent factory architect building team-scale productivity for solo developers.</p>
      <div class="page-header__meta" aria-label="Document metadata">
        <span class="page-header__tag">Orchestration</span>
        <span class="page-header__tag">Agent Factory</span>
        <span class="page-header__tag">Vibe Coding</span>
        <span class="page-header__tag">Stage 7+</span>
      </div>
    </div>
  </header>

  <main id="main-content" role="main">

    <!-- ============================================
         ZONE 1 — THE LOADING DOCK (Orientation)
         LOW density, generous spacing, welcoming
         Sections: You Are Here, Who is Steve Yegge
         ============================================ -->

    <section class="zone-loading-dock" aria-label="Orientation: You Are Here and Who is Steve Yegge">
      <div class="container">

        <!-- S0: You Are Here -->
        <div class="z1-section" id="s0-orientation">
          <div class="section-indicator">S0 &mdash; Orientation</div>
          <h2>You Are Here</h2>

          <div class="complexity-ladder">
            <div class="complexity-ladder__label">The Complexity Ladder</div>
            <pre>Level 7: Gas Town Factory          &lt;-- YOU ARE LEARNING THIS
         |
Level 6: Parallel Swarms + Worktrees
         |
Level 5: Multi-Agent Orchestration (CC Mirror)
         |
Level 4: PRD-Driven Loops (Full Ralph)
         |
Level 3: Simple Loops (Basic Ralph)
         |
Level 2: Subagents + Hooks
         |
Level 1: CLAUDE.md + Slash Commands
         |
Level 0: Single Interactive Session</pre>
          </div>

          <p>You are a developer who has mastered Levels 0&ndash;6 on the complexity ladder. You run five or more Claude Code instances simultaneously, ship features overnight with Ralph loops, and you have felt the limits of sequential processing. You know the pain of the Merge Wall with multiple agents.</p>

          <p>After this document, you will understand the factory-scale agent architecture, know when Gas Town is appropriate (and when it is overkill), be able to install and configure a basic Gas Town setup, understand the 8 roles and how they coordinate, and comprehend how Beads provides memory across agent colonies.</p>

          <div class="callout callout--warning">
            <div class="callout__label">Prerequisites</div>
            <div class="callout__body">
              <ul>
                <li>Stage 7+ on Yegge's 8-Stage Dev Evolution</li>
                <li>Comfort with chaos and imperfection</li>
                <li>Go language runtime installed (1.21+)</li>
                <li>tmux proficiency (mandatory)</li>
                <li>Budget: $50&ndash;200/day for API costs</li>
                <li>100+ hours experience with multi-agent setups</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- S1: Who is Steve Yegge -->
        <div class="z1-section" id="s1-biography">
          <div class="section-indicator">S1 &mdash; Biography</div>
          <h2>Who is Steve Yegge?</h2>

          <p>Steve Yegge is a 40-year software development veteran whose career provides unique credibility for building Gas Town. He did not just adopt AI-assisted development &mdash; he pioneered &ldquo;vibe coding&rdquo; as a philosophy.</p>

          <table>
            <thead>
              <tr>
                <th>Company</th>
                <th>Role</th>
                <th>Relevance</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Amazon</strong></td>
                <td>Early employee</td>
                <td>Built internal tools at scale</td>
              </tr>
              <tr>
                <td><strong>Google</strong></td>
                <td>Senior Engineer</td>
                <td>Famous for &ldquo;Stevey&rsquo;s Blog Rants,&rdquo; internal platforms</td>
              </tr>
              <tr>
                <td><strong>Sourcegraph</strong></td>
                <td>Senior role</td>
                <td>Code intelligence, developer tooling</td>
              </tr>
              <tr>
                <td><strong>Current</strong></td>
                <td>Full-time AI dev advocate</td>
                <td>Building the future of agent-assisted development</td>
              </tr>
            </tbody>
          </table>

          <div class="callout callout--essence">
            <div class="callout__label">Essence</div>
            <div class="callout__body">&ldquo;Work becomes fluid, an uncountable that you sling around freely, like slopping shiny fish into wooden barrels at the docks.&rdquo;</div>
          </div>

          <h3>Why His Opinion Matters</h3>
          <ul class="principles-list">
            <li>Approximately 1 million lines vibe-coded in 2025 &mdash; not theory, practice</li>
            <li>Built Beads (225K lines of Go) &mdash; proof of concept at scale</li>
            <li>Built Gas Town using Gas Town &mdash; recursive validation</li>
            <li>Transparent about limitations &mdash; warns about chaos, costs, maturity</li>
            <li>Decades of platform engineering &mdash; knows what scales and what breaks</li>
          </ul>
        </div>

      </div>
    </section>

    <div class="boundary-z1-z2" role="presentation" aria-hidden="true"></div>

    <!-- ============================================
         ZONE 2 — THE DISPATCH FLOOR (Mental Model)
         MODERATE density, transitional
         D-09 Quiet Zone: deliberate restraint
         Sections: Gas Town Mental Model, 8 Roles Architecture
         ============================================ -->

    <section class="zone-dispatch-floor" aria-label="Mental Model: Gas Town Concept and 8 Roles Architecture">
      <div class="container">

        <!-- S2: Gas Town Mental Model -->
        <div class="z2-section" id="s2-concept">
          <div class="section-indicator">S2 &mdash; Core Concept</div>
          <h2>The Gas Town Mental Model</h2>

          <p>The fundamental shift Gas Town represents comes down to a single insight about the nature of productive systems:</p>

          <div class="pull-quote">
            <p>&ldquo;Claude Code is the world&rsquo;s biggest fuckin&rsquo; ant. Everyone is focused on making their ant run longer&hellip; when nature prefers colonies.&rdquo;</p>
            <cite>Steve Yegge</cite>
          </div>

          <p>Gas Town is not an agent &mdash; it is a factory for agents. You are not writing code anymore. You are managing a factory. The &ldquo;Idea Compiler&rdquo; takes your ideas and feature requests as input, and produces working code and shipped products as output.</p>

          <div class="factory-comparison">
            <div class="factory-comparison__column">
              <h3>Traditional Approach</h3>
              <p>You write code. You debug. You are the implementer. A single context window constrains everything. When the session ends, context is lost.</p>
            </div>
            <div class="factory-comparison__column">
              <h3>Gas Town Approach</h3>
              <p>You file features. Agents debug. You are the PM. Many workers share memory through Beads. Workers persist, and memory survives across sessions.</p>
            </div>
          </div>

          <p>The Mad Max: Fury Road reference is not accidental. Post-apocalyptic resourcefulness: work with chaos, not against it. Clear role hierarchy. Survival-focused throughput over perfection. Community-built &mdash; everyone contributes to the economy.</p>
        </div>

        <!-- S3: 8 Roles Architecture -->
        <div class="z2-section" id="s3-architecture">
          <div class="section-indicator">S3 &mdash; Architecture</div>
          <h2>The 8 Roles Architecture</h2>

          <div class="architecture-diagram" role="img" aria-label="Gas Town role hierarchy diagram showing Town Level (Mayor, Deacon, Dogs), Rig Level (Refinery, Witness, Polecat, Crew), and Human Level (Overseer)">
            <div class="architecture-diagram__label">Role Hierarchy</div>
            <pre>TOWN LEVEL (Global — One instance each)
┌────────────────┐  ┌────────────────┐  ┌────────────────┐
│     MAYOR      │  │     DEACON     │  │      DOGS      │
│  Coordination  │  │   Monitoring   │  │  Quality Gates │
│  across rigs   │  │  &amp; handshakes  │  │  &amp; watchdogs   │
└────────┬───────┘  └───────┬────────┘  └───────┬────────┘
         └──────────────────┼────────────────────┘
                            │
                            ▼
RIG LEVEL (Per-Project — Multiple instances)
┌────────────────┐  ┌────────────────┐  ┌────────────────┐
│    REFINERY    │  │    WITNESS     │  │    POLECAT     │
│ Decomposes big │  │  Observes all  │  │ Named workers  │
│ tasks → small  │  │ rig activity   │  │ (persistent)   │
└────────────────┘  └────────────────┘  └───────┬────────┘
                                                │
                                        ┌───────▼────────┐
                                        │      CREW      │
                                        │   Ephemeral    │
                                        │ burst workers  │
                                        └────────────────┘
HUMAN LEVEL
┌────────────────────────────────────────────────────────┐
│                    OVERSEER (YOU)                       │
│       Product Manager · Decision Maker · Human Boss    │
└────────────────────────────────────────────────────────┘</pre>
          </div>

          <table>
            <thead>
              <tr>
                <th>Role</th>
                <th>Level</th>
                <th>Function</th>
                <th>Model</th>
              </tr>
            </thead>
            <tbody class="tabular-nums">
              <tr>
                <td><strong>Mayor</strong></td>
                <td>Town</td>
                <td>Chief coordinator, routes work across rigs</td>
                <td>Opus</td>
              </tr>
              <tr>
                <td><strong>Deacon</strong></td>
                <td>Town</td>
                <td>Health monitoring, agent handshakes</td>
                <td>Haiku</td>
              </tr>
              <tr>
                <td><strong>Dogs</strong></td>
                <td>Town</td>
                <td>Quality gates, watchdogs, regression guards</td>
                <td>Sonnet</td>
              </tr>
              <tr>
                <td><strong>Refinery</strong></td>
                <td>Rig</td>
                <td>Decomposes large tasks into atomic work</td>
                <td>Opus</td>
              </tr>
              <tr>
                <td><strong>Witness</strong></td>
                <td>Rig</td>
                <td>Observes and records rig activity</td>
                <td>Haiku</td>
              </tr>
              <tr>
                <td><strong>Polecat</strong></td>
                <td>Rig</td>
                <td>Named persistent workers with specializations</td>
                <td>Sonnet</td>
              </tr>
              <tr>
                <td><strong>Crew</strong></td>
                <td>Rig</td>
                <td>Ephemeral burst workers, spawn and disappear</td>
                <td>Haiku</td>
              </tr>
              <tr>
                <td><strong>Overseer</strong></td>
                <td>Human</td>
                <td>Product Manager, decision maker &mdash; that is you</td>
                <td>&mdash;</td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>
    </section>

    <!-- Z2->Z3 DOORFRAME: The threshold into the factory -->
    <div class="boundary-z2-z3" role="presentation" aria-hidden="true">
      <div class="threshold">
        <div class="threshold__line">
          <div class="threshold__label">Entering the Factory Floor</div>
        </div>
      </div>
    </div>

    <!-- ============================================
         ZONE 3 — THE FACTORY FLOOR (Infrastructure)
         HIGH density, dark inversion, industrial
         D-04 Second-Half Moment: entering the machinery
         Sections: Beads, 6 Waves, Core Principles
         REFINE: Lights raised — full opacity text,
         visible borders, readable code blocks
         ============================================ -->

    <section class="zone-factory-floor" aria-label="Infrastructure: Beads Memory System, 6 Waves of AI, and Core Principles">
      <div class="container">

        <!-- S4: Beads Memory System -->
        <div class="z3-section" id="s4-beads">
          <div class="section-indicator">S4 &mdash; Memory Infrastructure</div>
          <h2>Beads: The Memory System</h2>

          <div class="callout callout--essence">
            <div class="callout__label">The Problem</div>
            <div class="callout__body">&ldquo;Agents suffer from &lsquo;50 First Dates&rsquo; syndrome &mdash; they wake up with no memory of yesterday.&rdquo;</div>
          </div>

          <p>Every new Claude session starts fresh. Markdown plans fail at scale: they are not queryable, have no dependency tracking, are conflict-prone when multiple agents edit the same files, and produce implicit task stacks that lead to &ldquo;intelligent wandering.&rdquo;</p>

          <p><strong>Beads</strong> (225K lines of Go) solves this with git-backed storage, universal context shared across all agents, hash-based IDs to prevent merge conflicts, explicit dependency tracking, and memory decay through compaction of old closed tasks.</p>

          <div class="bento-grid">
            <div class="bento-cell">
              <div class="bento-cell__label">Hot Context (RAM)</div>
              <p>Current task state, last N interactions, active file references.</p>
            </div>
            <div class="bento-cell">
              <div class="bento-cell__label">Warm Context (SQLite + Git)</div>
              <p>Recent commit history, cross-agent message log, rig state snapshots.</p>
            </div>
            <div class="bento-cell--full bento-cell">
              <div class="bento-cell__label">Cold Context (Git History)</div>
              <p>Full project history, previous run outcomes, archived decisions. Retrieval: Hot &rarr; Warm &rarr; Cold (only query cold if needed).</p>
            </div>
          </div>

          <h3>Key Commands</h3>

          <pre><code>bd ready           # List tasks with zero blockers (what can be done NOW)
bd create "Title"  # Create new task
bd dep add X Y     # X is blocked by Y
bd show &lt;id&gt;       # Full task state and history</code></pre>

          <div class="callout callout--info">
            <div class="callout__label">Why Git as Database?</div>
            <div class="callout__body">&ldquo;Git as database provides durable, diffable, auditable storage with zero infrastructure.&rdquo; Survives crashes. Full audit trail. Roll back to any point. Multiple agents share the same store. No heavyweight message bus required.</div>
          </div>
        </div>

        <!-- S5: 6 Waves of AI -->
        <div class="z3-section" id="s5-waves">
          <div class="section-indicator">S5 &mdash; Evolution Framework</div>
          <h2>The 6 Waves of AI</h2>

          <p>Steve frames the evolution of AI-assisted development as six overlapping waves:</p>

          <table>
            <thead>
              <tr>
                <th>Wave</th>
                <th>Era</th>
                <th>Description</th>
                <th>Productivity</th>
              </tr>
            </thead>
            <tbody class="tabular-nums">
              <tr>
                <td>1</td>
                <td>Pre-2022</td>
                <td>Traditional manual coding</td>
                <td>Baseline</td>
              </tr>
              <tr>
                <td>2</td>
                <td>2023</td>
                <td>Completions-based (Copilot-style)</td>
                <td>~2x</td>
              </tr>
              <tr>
                <td>3</td>
                <td>2024</td>
                <td>Chat-based (CHOP)</td>
                <td>~5x</td>
              </tr>
              <tr>
                <td>4</td>
                <td>2025 H1</td>
                <td>Coding agents (Claude Code, Amp, Codex)</td>
                <td>~10x</td>
              </tr>
              <tr>
                <td>5</td>
                <td>2025 H2</td>
                <td>Agent clusters (multi-agent parallel)</td>
                <td>~25x</td>
              </tr>
              <tr>
                <td><strong>6</strong></td>
                <td><strong>2026+</strong></td>
                <td><strong>Agent fleets (AI supervisors managing swarms)</strong></td>
                <td><strong>~50x+</strong></td>
              </tr>
            </tbody>
          </table>

          <p>Gas Town is Wave 6 infrastructure.</p>

          <h3>The 8 Stages of Dev Evolution</h3>

          <table>
            <thead>
              <tr>
                <th>Stage</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class="tabular-nums">
              <tr><td>1</td><td>Zero/near-zero AI</td></tr>
              <tr><td>2</td><td>Agent in IDE, permissions on</td></tr>
              <tr><td>3</td><td>Agent in IDE, YOLO mode</td></tr>
              <tr><td>4</td><td>Agent fills screen, code is just diffs</td></tr>
              <tr><td>5</td><td>CLI single agent, YOLO</td></tr>
              <tr><td>6</td><td>CLI multi-agent (3&ndash;5 parallel)</td></tr>
              <tr><td>7</td><td>10+ agents, hand-managed</td></tr>
              <tr><td><strong>8</strong></td><td><strong>Building your own orchestrator</strong></td></tr>
            </tbody>
          </table>

          <div class="callout callout--warning">
            <div class="callout__label">Critical Warning</div>
            <div class="callout__body">&ldquo;If you&rsquo;re not at Stage 7, you&rsquo;ll get your face ripped off by superintelligent chimpanzees.&rdquo; Gas Town is for Stage 7+ developers. If you are not there yet, go back to Ralph loops.</div>
          </div>
        </div>

        <!-- S6: Core Principles -->
        <div class="z3-section" id="s6-principles">
          <div class="section-indicator">S6 &mdash; Principles</div>
          <h2>Core Principles</h2>

          <div class="principle-card">
            <div class="principle-card__title">GUPP: The Universal Propulsion Principle</div>
            <div class="principle-card__body">
              <p>If there is work on your hook, YOU MUST RUN IT. Work is &ldquo;slung&rdquo; to agent hooks (persistent git worktrees). When an agent starts, it checks its hook. If work exists, execution is immediate. Work survives crashes and restarts.</p>
              <blockquote>&ldquo;Claude Code is so miserably polite&rdquo; that GUPP does not always work. Gas Town implements a &ldquo;Gupp Nudge&rdquo; &mdash; agents get a startup poke roughly 30&ndash;60 seconds after starting.</blockquote>
            </div>
          </div>

          <div class="principle-card">
            <div class="principle-card__title">Zero Framework Cognition</div>
            <div class="principle-card__body">
              <p>Claude makes all decisions. The orchestrator executes. No heuristics, regex, or parsing in the orchestrator. The framework provides infrastructure, not intelligence.</p>
            </div>
          </div>

          <div class="principle-card">
            <div class="principle-card__title">Agents as Cattle, Not Pets</div>
            <div class="principle-card__body">
              <p>Kubernetes thinking applied to agents. Individual sessions are ephemeral. The work graph is persistent. The agent is not the session &mdash; the agent is a Bead (identity with a global address).</p>
            </div>
          </div>

          <div class="principle-card">
            <div class="principle-card__title">Nondeterministic Idempotence</div>
            <div class="principle-card__body">
              <p>Workflows can be interrupted and resumed at any time. The path is fully nondeterministic &mdash; different runs take different routes. The workflow eventually finishes as long as you keep throwing agents at it.</p>
            </div>
          </div>

          <div class="principle-card">
            <div class="principle-card__title">Token Spend as Health Metric</div>
            <div class="principle-card__body">
              <p>Token spend per developer per unit time is the new metric that best represents how well your company is doing with AI. Agent cost: ~$10&ndash;12 per operating hour. Yegge&rsquo;s personal spend: ~$300/day, ~$80,000/year. Gas Town workshops generate 12,000 LOC/day per developer.</p>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- Z3->Z4 DOORFRAME: Recovery into the light -->
    <div class="boundary-z3-z4" role="presentation" aria-hidden="true">
      <div class="threshold">
        <div class="threshold__line">
          <div class="threshold__label">Hands-On Practice</div>
        </div>
      </div>
    </div>

    <!-- ============================================
         ZONE 4 — THE ASSEMBLY LINE (Practice)
         HIGH density, step-by-step, hands-on
         Sections: Implementation, Checkpoints, Troubleshooting
         REFINE: font-weight 500 for body, accent table
         headers — multi-coherence from Z3
         ============================================ -->

    <section class="zone-assembly-line" aria-label="Practice: Implementation Guide, Checkpoints, and Troubleshooting">
      <div class="container">

        <!-- S7: Implementation Guide -->
        <div class="z4-section" id="s7-implementation">
          <div class="section-indicator">S7 &mdash; Implementation</div>
          <h2>Implementation Guide</h2>

          <h3>Installation</h3>

          <div class="code-snippet">
            <div class="code-snippet__header">
              <span class="code-snippet__filename">terminal</span>
            </div>
            <div class="code-snippet__content"># Step 1: Install Gas Town
go install github.com/steveyegge/gastown/cmd/gt@latest

# Step 2: Verify installation
gt version

# Step 3: Initialize your town (creates ~/.gt)
gt init</div>
          </div>

          <div class="checkpoint">
            <div class="checkpoint__label">Checkpoint</div>
            <div class="checkpoint__body">You should see <code>Town initialized at ~/.gt</code></div>
          </div>

          <h3>Starting the Core Roles</h3>

          <p>Recommended startup sequence &mdash; town-level roles first, then rig infrastructure, then named workers:</p>

          <ol class="step-list">
            <li>Start town-level roles: <code>gt mayor up</code>, <code>gt deacon up</code>, <code>gt dogs up</code></li>
            <li>Start rig infrastructure: <code>gt witness up my-project</code>, <code>gt refinery up my-project</code></li>
            <li>Start named workers: <code>gt polecat up my-project alice</code>, <code>gt polecat up my-project bob</code></li>
          </ol>

          <div class="checkpoint">
            <div class="checkpoint__label">Checkpoint</div>
            <div class="checkpoint__body"><code>gt status</code> should show all roles running.</div>
          </div>

          <h3>tmux Workflow</h3>

          <p>Gas Town is tmux-native. Each role gets its own tmux window. The startup script creates a session with infrastructure windows, per-rig windows, polecat windows, and an inbox window.</p>

          <div class="code-snippet">
            <div class="code-snippet__header">
              <span class="code-snippet__filename">gastown-start.sh</span>
            </div>
            <div class="code-snippet__content">#!/bin/bash
SESSION="gastown"

# Create session
tmux new-session -d -s $SESSION -n 'overview'

# Infrastructure windows
tmux new-window -t $SESSION -n 'mayor'
tmux new-window -t $SESSION -n 'infra'
tmux split-window -h -t $SESSION:infra

# Start roles
tmux send-keys -t $SESSION:mayor 'gt mayor up' C-m
tmux send-keys -t $SESSION:infra.0 'gt deacon up' C-m
tmux send-keys -t $SESSION:infra.1 'gt dogs up' C-m

# Attach
tmux attach -t $SESSION</div>
          </div>

          <h3>Daily Workflow</h3>

          <pre><code># Morning: Start town
./gastown-start.sh

# Review overnight status
gt status
gt inbox

# File new feature
gt inbox send my-project "Build user authentication"

# Refinery decomposes, assigns to polecats
gt inbox respond 5 --approve

# Evening: Review and approve completed work
gt inbox review
gt approve 12 15 18

# End of day
gt crew purge my-project</code></pre>
        </div>

        <!-- S8: Checkpoints and Verification -->
        <div class="z4-section" id="s8-verification">
          <div class="section-indicator">S8 &mdash; Verification</div>
          <h2>Checkpoints and Verification</h2>

          <table>
            <thead>
              <tr>
                <th>Step</th>
                <th>Command</th>
                <th>Expected Output</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Go installed</td>
                <td><code>go version</code></td>
                <td><code>go version go1.21+</code></td>
              </tr>
              <tr>
                <td>gt installed</td>
                <td><code>gt version</code></td>
                <td>Version number</td>
              </tr>
              <tr>
                <td>Town initialized</td>
                <td><code>gt status</code></td>
                <td>Shows town state</td>
              </tr>
              <tr>
                <td>Rig added</td>
                <td><code>gt rig list</code></td>
                <td>Shows your project</td>
              </tr>
              <tr>
                <td>Mayor running</td>
                <td><code>gt mayor status</code></td>
                <td><code>running</code></td>
              </tr>
            </tbody>
          </table>

          <h3>Health Checks</h3>

          <pre><code># Check all role status
gt status

# Check specific rig
gt rig status my-project

# View agent health
gt deacon report</code></pre>

          <div class="callout callout--tip">
            <div class="callout__label">Healthy State Indicators</div>
            <div class="callout__body">
              <ul>
                <li>All roles show <code>running</code></li>
                <li>Deacon reports no anomalies</li>
                <li>Inbox has reasonable pending items (not 100+)</li>
                <li>Polecats are progressing on tasks</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- S9: Troubleshooting -->
        <div class="z4-section" id="s9-troubleshooting">
          <div class="section-indicator">S9 &mdash; Troubleshooting</div>
          <h2>Troubleshooting</h2>

          <details class="troubleshoot">
            <summary>Context Collapse &mdash; Agents stop making sense, circular reasoning</summary>
            <div class="troubleshoot__content">
              <p><strong>Cause:</strong> Beads state corruption or no auto-compact.</p>
              <pre><code>gt town reset --soft   # Keep config, clear state
gt beads sync --force  # Force context resync</code></pre>
            </div>
          </details>

          <details class="troubleshoot">
            <summary>Race Conditions / Merge Conflicts &mdash; Conflicting commits, overwritten work</summary>
            <div class="troubleshoot__content">
              <p><strong>Cause:</strong> Multiple Polecats editing same files. Use git worktrees for file isolation. Implement file ownership rules.</p>
              <pre><code>git status
gt refinery resolve my-project</code></pre>
            </div>
          </details>

          <details class="troubleshoot">
            <summary>Runaway Crew &mdash; Cost spike, dozens of Crew spawned</summary>
            <div class="troubleshoot__content">
              <p><strong>Cause:</strong> Refinery misconfiguration or task explosion.</p>
              <pre><code>gt crew purge --all
gt config set crew.max_per_rig 5
gt config set crew.idle_timeout 15</code></pre>
            </div>
          </details>

          <details class="troubleshoot">
            <summary>Mayor Deadlock &mdash; No work getting assigned, town seems stuck</summary>
            <div class="troubleshoot__content">
              <p><strong>Cause:</strong> Mayor waiting for human decision. Check inbox and approve/reject pending items.</p>
              <pre><code>gt inbox
gt inbox respond &lt;id&gt; --approve</code></pre>
            </div>
          </details>

          <details class="troubleshoot">
            <summary>Beads Desync &mdash; Agents have stale context</summary>
            <div class="troubleshoot__content">
              <p><strong>Cause:</strong> Git conflicts in Beads repo.</p>
              <pre><code>gt beads sync --force
gt beads reset  # If sync fails</code></pre>
            </div>
          </details>

          <details class="troubleshoot">
            <summary>Agent Won&rsquo;t Start &mdash; <code>gt polecat up</code> returns error</summary>
            <div class="troubleshoot__content">
              <p><strong>Cause:</strong> Claude account issue, rate limiting, or config problem.</p>
              <pre><code>gt config list
gt config set polecat.alice.account secondary
claude --version</code></pre>
            </div>
          </details>

          <h3>Recovery Command Reference</h3>

          <pre><code>gt town reset --soft    # Keep config, clear state
gt town reset --hard    # Full reinstall
gt town down            # Kill all agents
gt beads sync --force   # Force Beads sync
gt inbox clear --all    # Clear inbox backlog
gt pause --all          # Emergency cost stop
gt resume --all         # Resume when ready</code></pre>
        </div>

      </div>
    </section>

    <div class="boundary-z4-z5" role="presentation" aria-hidden="true"></div>

    <!-- ============================================
         ZONE 5 — THE SHIPPING BAY (Resolution)
         LOW-MODERATE density, reflective, resolving
         Sections: When to Use, Quotes, Comparisons, Sources
         ============================================ -->

    <section class="zone-shipping-bay" aria-label="Resolution: When to Use Gas Town, Comparisons, and Sources">
      <div class="container">

        <!-- S10: When to Use Gas Town -->
        <div class="z5-section" id="s10-decision">
          <div class="section-indicator">S10 &mdash; Decision Guide</div>
          <h2>When to Use Gas Town</h2>

          <div class="use-grid">
            <div class="use-grid__column use-grid__column--yes">
              <h3>Use Gas Town When</h3>
              <ul>
                <li>You are at Stage 7+ (10+ agents, comfortable with chaos)</li>
                <li>Budget is not a concern ($50&ndash;200/day)</li>
                <li>You want team-scale output as a solo developer</li>
                <li>You have clear product vision but need implementation velocity</li>
                <li>You have tmux proficiency</li>
              </ul>
            </div>
            <div class="use-grid__column use-grid__column--no">
              <h3>Do Not Use Gas Town When</h3>
              <ul>
                <li>You are below Stage 6 on the dev evolution scale</li>
                <li>Budget is constrained</li>
                <li>You need polish and stability</li>
                <li>You need predictable, controlled outcomes</li>
                <li>The project is simple enough for Ralph loops</li>
              </ul>
            </div>
          </div>

          <div class="architecture-diagram" role="img" aria-label="Decision tree: Which orchestrator should you use?">
            <div class="architecture-diagram__label">Decision Tree</div>
            <pre>START HERE
    │
    ▼
Are you Stage 7+? ──No──► Use Ralph Wiggum or CC Mirror
    │
   Yes
    │
    ▼
Is cost a concern? ──Yes──► Use CC Mirror + Parallel Ralph
    │
    No
    │
    ▼
Need 24/7 autonomous? ──Yes──► Consider Infinite Orchestra
    │
    No
    │
    ▼
Want maximum throughput + control?
    │
   Yes
    │
    ▼
┌─────────────────────┐
│     GAS TOWN         │
└─────────────────────┘</pre>
          </div>
        </div>

        <!-- S11: Quotes -->
        <div class="z5-section" id="s11-quotes">
          <div class="section-indicator">S11 &mdash; Key Statements</div>
          <h2>Quotes and Key Statements</h2>

          <!-- D-04 second moment: scale break pull-quote -->
          <div class="pull-quote--resolved">
            <p>&ldquo;Build a colony of coding agents, not the world&rsquo;s largest ant.&rdquo;</p>
            <cite>Steve Yegge</cite>
          </div>

          <div class="quote-collection">
            <div class="quote-card">
              <blockquote>&ldquo;Gas Town is an Idea Compiler. You just make up features, design them, file the implementation plans, and sling work around.&rdquo;</blockquote>
              <div class="quote-card__theme">On Philosophy</div>
            </div>
            <div class="quote-card">
              <blockquote>&ldquo;You&rsquo;re not a programmer anymore. You&rsquo;re the head chef of a kitchen with AI robotic sous chefs.&rdquo;</blockquote>
              <div class="quote-card__theme">On Role Shift</div>
            </div>
            <div class="quote-card">
              <blockquote>&ldquo;Code is 3 weeks old &mdash; smuggled 400 miles upriver in my ass.&rdquo;</blockquote>
              <div class="quote-card__theme">On Maturity</div>
            </div>
            <div class="quote-card">
              <blockquote>&ldquo;If you care about costs, don&rsquo;t use this.&rdquo;</blockquote>
              <div class="quote-card__theme">On Cost</div>
            </div>
            <div class="quote-card">
              <blockquote>&ldquo;Go is just&hellip; good. It&rsquo;s boring. You can always understand it!&rdquo;</blockquote>
              <div class="quote-card__theme">On Language Choice</div>
            </div>
            <div class="quote-card">
              <blockquote>&ldquo;If you have any doubt whatsoever, then you can&rsquo;t use it.&rdquo;</blockquote>
              <div class="quote-card__theme">On Prerequisites</div>
            </div>
          </div>
        </div>

        <!-- S12: Comparisons -->
        <div class="z5-section" id="s12-comparisons">
          <div class="section-indicator">S12 &mdash; Comparisons</div>
          <h2>Comparison with Other Patterns</h2>

          <h3>Gas Town vs Ralph Wiggum</h3>

          <table>
            <thead>
              <tr>
                <th>Aspect</th>
                <th>Ralph Wiggum</th>
                <th>Gas Town</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Model</td>
                <td>Single agent, retry loop</td>
                <td>Multi-agent factory</td>
              </tr>
              <tr>
                <td>Complexity</td>
                <td>Bash script</td>
                <td>Full system</td>
              </tr>
              <tr>
                <td>Parallelism</td>
                <td>None (sequential)</td>
                <td>Native (many agents)</td>
              </tr>
              <tr>
                <td>Setup</td>
                <td>Minutes</td>
                <td>Hours/days</td>
              </tr>
              <tr>
                <td>Cost</td>
                <td>Single agent ($10&ndash;30/day)</td>
                <td>Multiple accounts ($50&ndash;200/day)</td>
              </tr>
            </tbody>
          </table>

          <h3>Gas Town vs CC Mirror</h3>

          <table>
            <thead>
              <tr>
                <th>Aspect</th>
                <th>CC Mirror</th>
                <th>Gas Town</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Model</td>
                <td>Task-based DAG</td>
                <td>Agent factory</td>
              </tr>
              <tr>
                <td>Dependencies</td>
                <td>TaskCreate/BlockedBy</td>
                <td>Beads + Agent Mail</td>
              </tr>
              <tr>
                <td>Roles</td>
                <td>None (generic agents)</td>
                <td>8 specialized</td>
              </tr>
              <tr>
                <td>Setup</td>
                <td><code>npx</code> command</td>
                <td>Go install + config</td>
              </tr>
              <tr>
                <td>Cost</td>
                <td>Single variant ($30&ndash;80/day)</td>
                <td>Multiple accounts ($50&ndash;200/day)</td>
              </tr>
            </tbody>
          </table>

          <div class="callout callout--info">
            <div class="callout__label">Spectrum</div>
            <div class="callout__body">Simple &rarr; Complex: Ralph Wiggum &rarr; CC Mirror &rarr; Infinite Orchestra &rarr; Gas Town. &ldquo;Simplicity covers 80% with zero effort. Gas Town for the remaining 20%.&rdquo;</div>
          </div>
        </div>

        <!-- S13: Sources -->
        <div class="z5-section" id="s13-sources">
          <div class="section-indicator">S13 &mdash; Sources</div>
          <h2>Sources</h2>

          <h3>Primary Sources</h3>

          <ul class="source-links">
            <li><a href="https://steve-yegge.medium.com/welcome-to-gas-town-4f25ee16dd04">Welcome to Gas Town</a> <span class="source-type">Blog</span></li>
            <li><a href="https://steve-yegge.medium.com/the-future-of-coding-agents-e9451a84207c">The Future of Coding Agents</a> <span class="source-type">Blog</span></li>
            <li><a href="https://steve-yegge.medium.com/beads-best-practices-2db636b9760c">Beads Best Practices</a> <span class="source-type">Blog</span></li>
            <li><a href="https://github.com/steveyegge/gastown">steveyegge/gastown</a> <span class="source-type">GitHub</span></li>
            <li><a href="https://github.com/steveyegge/beads">steveyegge/beads</a> <span class="source-type">GitHub</span></li>
            <li><a href="https://changelog.com/friends/96">Changelog: Adventures in Babysitting Coding Agents</a> <span class="source-type">Podcast</span></li>
            <li><a href="https://itrevolution.com">Vibe Coding (book)</a> <span class="source-type">Book</span></li>
          </ul>

          <h3>Community Extensions</h3>

          <div class="community-grid">
            <div class="community-card">
              <div class="community-card__name">GTGUI</div>
              <div class="community-card__author">@TRIBE-INC</div>
              <div class="community-card__desc">Age of Empires style GUI for Gas Town</div>
            </div>
            <div class="community-card">
              <div class="community-card__name">Roughneck</div>
              <div class="community-card__author">@mjtechguy</div>
              <div class="community-card__desc">Run multiple Gas Towns simultaneously</div>
            </div>
            <div class="community-card">
              <div class="community-card__name">Station</div>
              <div class="community-card__author">@Esteban_Puerta9</div>
              <div class="community-card__desc">Nats-based alternative architecture</div>
            </div>
            <div class="community-card">
              <div class="community-card__name">Tutorial Skill</div>
              <div class="community-card__author">@nummanali</div>
              <div class="community-card__desc">Claude Code skill for learning Gas Town</div>
            </div>
          </div>
        </div>

      </div>
    </section>

  </main>

  <!-- ============================================
       PAGE FOOTER — Echoes header dark treatment
       Bookending the journey
       ============================================ -->

  <footer class="page-footer" role="contentinfo">
    <div class="container">
      <div class="page-footer__section">
        <div class="page-footer__label">Source</div>
        <div class="page-footer__value">6 primary documents, 28+ cross-references</div>
      </div>
      <div class="page-footer__section">
        <div class="page-footer__label">Complexity</div>
        <div class="page-footer__value">Level 7 &mdash; Agent Factory Architecture</div>
      </div>
      <div class="page-footer__section">
        <div class="page-footer__label">Author</div>
        <div class="page-footer__value">Steve Yegge &mdash; @steve_yegge</div>
      </div>
      <div class="page-footer__closing">&ldquo;Build a colony of coding agents, not the world&rsquo;s largest ant.&rdquo;</div>
    </div>
  </footer>

  <!-- Back-to-top visibility script (progressive enhancement) -->
  <script>
    (function() {
      var btn = document.getElementById('back-to-top');
      if (!btn) return;
      var threshold = window.innerHeight;
      function check() {
        if (window.scrollY > threshold) {
          btn.classList.add('visible');
        } else {
          btn.classList.remove('visible');
        }
      }
      window.addEventListener('scroll', check, { passive: true });
      check();
    })();
  </script>

</body>
</html>

<!--
  SELF-EVALUATION:

  1. Zone transitions — how many, what changes?
     4 transitions across 5 zones:
     - Z1->Z2: 4 channels (bg cream->sand, typography 18->16px body + 40->32px H2, spacing 80->64px zone + 48->32px inner, components shift to architecture diagrams)
     - Z2->Z3: 6 channels (bg sand->near-black 214 delta, typography 16->15px + light-on-dark, spacing 64->48px zone + 32->24px inner, borders shift to light-on-dark, color accent red becomes dominant, components shift to dense grids/code) + THRESHOLD ELEMENT with label
     - Z3->Z4: 6 channels (bg near-black->warm tan 210 delta, typography 15->16px + dark-on-light, font-weight 400->500 for body text, line-height 1.6->1.7, table header borders shift to accent-red, accent returns to secondary role) + THRESHOLD ELEMENT with label
     - Z4->Z5: 3 channels (bg warm tan->warm earth 16 delta, typography H2 28->32px widening, components shift to quotes/comparisons/links)

  2. Transition types — what techniques used?
     - Z1->Z2: 3px border-bottom + zone padding shift (medium/breathing rest)
     - Z2->Z3: Threshold element with 32px padding, 3px red accent line, "Entering the Factory Floor" label (heavy/full stop with preparation)
     - Z3->Z4: Threshold element with 32px padding, 3px red accent line, "Hands-On Practice" label (heavy/full stop with recovery moment)
     - Z4->Z5: 1px subtle border + minimal gap (light/legato)

  3. Skeleton test — structure holds without content?
     Yes. Z1 is light cream, Z2 is sand, threshold prepares for darkness, Z3 inverts to near-black (the factory), threshold recovers to light, Z4 returns to warm tan, Z5 settles to warm earth. Clear ABA' structure (light-dark-light) with asymmetric return. The factory metaphor is visible in background colors and threshold labels alone.

  4. Scroll surprise — designed moment in second half?
     Three moments: (1) The "Entering the Factory Floor" threshold is a deliberate breath before darkness. (2) Z3 dark inversion IS the primary second-half moment — now with visible content (lights on). (3) The 28px pull-quote "Build a colony..." in Z5 is a scale break after dense comparison tables.

  5. Section heights — varied or uniform?
     Varied: Z1 ~700px (short orientation), Z2 ~2000px (moderate mental model + architecture), Z3 ~2200px (tallest — dense infrastructure, now VISIBLE), Z4 ~2000px (sustained practice), Z5 ~1600px (moderate resolution). Pattern: ramp up, sustained peak, gentle descent.

  6. Density arc — how does density change across page?
     ARCH pattern: Z1 LOW -> Z2 MODERATE -> Z3 HIGH (now readable) -> Z4 HIGH (font-weight 500 distinguishes from Z3) -> Z5 LOW-MODERATE

  7. Ending — designed conclusion or abrupt stop?
     Designed conclusion. Footer echoes header. html { background: var(--factory-steel) } prevents post-footer void. Closing quote repeats core insight.

  REFINE CHANGES APPLIED:
  - Z3 body text: rgba(254,249,245,0.9) -> #FEF9F5 (full opacity)
  - Z3 table cells: rgba(254,249,245,0.85) -> rgba(254,249,245,0.95)
  - Z3 borders: 0.1/0.15 -> 0.2/0.25 (section dividers, bento cells, table rows)
  - Z3 code blocks bg: 0.06 -> 0.08, border: 0.15 -> 0.2
  - Z3 principle card body: 0.85 -> 0.95
  - Z3 list items: 0.85 -> 0.95
  - Z3 blockquote border: 0.25 -> 0.35
  - Z3 callout body text: full #FEF9F5
  - Z3 inline code: bg 0.1->0.12, border 0.15->0.2
  - Header subtitle: #666666 -> #B0A89C (contrast ratio ~5.2:1 on #1A1A1A)
  - Header tags: #666666 -> #B0A89C
  - Z2->Z3 boundary: bare border -> threshold element with 32px padding + label
  - Z3->Z4 boundary: bare border -> threshold element with 32px padding + label
  - Added sticky section navigation (14 anchors, right-edge rail, label-on-hover)
  - Added back-to-top button with scroll-based visibility
  - Heading hierarchy: h4 -> h3 for "Traditional Approach", "Gas Town Approach", "Use Gas Town When", "Do Not Use Gas Town When"
  - Border widths: all normalized to 4px/3px/1px (no fractional widths existed in practice)
  - Z3->Z4 multi-coherence: added font-weight 400->500 for Z4 body text, table header borders shifted to accent-red (was neutral gray)
  - Footer closing border: 0.1 -> 0.15
-->

<!-- EXPERIENTIAL-CHECK: The factory floor is now lit. Warm cream text burns at full opacity against near-black. Table lines are visible at 0.2 alpha. Code blocks are perceptible containers at 0.08 bg + 0.2 border. The Z2->Z3 threshold ("Entering the Factory Floor") gives the reader a moment to adjust before the dark inversion. The Z3->Z4 threshold ("Hands-On Practice") signals the return to light. Sticky section navigation provides wayfinding across 14 sections without cluttering the page. Back-to-top appears after scrolling past the first viewport. The heading hierarchy is corrected — no more h2->h4 jumps. The Z3->Z4 transition now shifts 6 channels (bg, typography size, font-weight, line-height, table border color, accent role) instead of just background. Header metadata contrast exceeds 4.5:1. Content is visible and readable at all viewport widths without JavaScript (back-to-top is progressive enhancement only). -->
