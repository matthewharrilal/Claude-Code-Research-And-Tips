# Claude's Remediation Plan (FROM OTHER INSTANCE — NEEDS REVISION)

> This plan was generated by a Claude instance. It needs granular revision based on every file in `_provenance-gap-analysis/`. Each revision agent should identify what this plan MISSES, UNDERSPECIFIES, or GETS WRONG based on their assigned gap analysis files.

---

## Context

OD (Stage 3) explorations are COMPLETE — 6 HTML files built, audited by 17 agents (89 findings), fixed (16/16 verified with 187 programmatic tests + 12 visual screenshots). But the formal provenance chain was never written. The STAGE-HEADER still says "OD work has not begun." 4 critical files are missing. 51 dark matter files (32,800 lines) contain research outside the formal chain. This remediation creates the formal provenance documents, updates all stale infrastructure, and closes all 33 identified gaps.

Source analysis: 15 gap analysis reports (724KB) + 5 deep-dive synthesis files (140KB) in knowledge-architecture/_provenance-gap-analysis/ and _provenance-deep-dive/

Handoff docs: knowledge-architecture/PROVENANCE-CHAIN-REMEDIATION-HANDOFF.md + PROVENANCE-REMEDIATION-PLAN-PROMPT.md

---

## Resolved Decisions (5 binary choices)

| Decision | Choice | Reasoning |
|----------|--------|-----------|
| Migrate vs Reference dark matter | REFERENCE | Distillation. Only finding IDs/scores/insights extracted into formal chain. Dark matter stays in place. Less blast radius, preserves operational richness. |
| EXT-RESEARCH-REGISTRY location | Separate file at provenance/EXT-RESEARCH-REGISTRY.md | Clean separation. Won't bloat OD-outbound-findings. |
| New OD-F findings (009-012) | FORMALIZE | OD-002 through OD-005 each produced real findings worth capturing. |
| Enforcement gate for AD | Binary gate in stage-4-axis-ad/CLAUDE.md | "DO NOT begin AD work until HANDOFF-OD-TO-AD.md exists." |
| Archive structure | No archiving needed | No files warrant deletion or archiving per Report 13. Focus on chain creation. |

---

## Team Architecture: 7 Agents (Lead + 6 Workers)

```
Lead (THIN — orchestrate only, zero building, zero target-file reading)
│
├── Wave 1: CENSUS (parallel, ~8-10 min)
│   ├── census-a: OD-F findings extractor → OD-outbound-findings.md
│   └── census-b: EXT-* findings compiler → EXT-RESEARCH-REGISTRY.md
│
├── Wave 2: CHAIN BUILDERS (parallel, ~12-15 min)
│   ├── chain-a: Synthesis → OD-SYNTHESIS.md + OD-AUDIT-SYNTHESIS.md
│   └── chain-b: Patterns → organizational-patterns.md + anti-patterns addendum
│
├── Wave 3: GATE (sequential, ~8-10 min)
│   └── gate: → HANDOFF-OD-TO-AD.md (reads Wave 1+2 outputs)
│
└── Wave 4: INFRASTRUCTURE (sequential, ~10-12 min)
    └── infra: Updates 10 existing files (reads all prior outputs)
```

Estimated wall time: 35-45 minutes

---

## File Ownership Matrix (Zero Contention)

### New Files (6)

| File | Wave | Owner | Template | Size Target |
|------|------|-------|----------|-------------|
| provenance/stage-3-organization-od/OD-outbound-findings.md | 1 | census-a | DD-outbound-findings.md (221 lines) | 180-250 lines |
| provenance/EXT-RESEARCH-REGISTRY.md | 1 | census-b | New format | 150-300 lines |
| provenance/stage-3-organization-od/OD-SYNTHESIS.md | 2 | chain-a | New | 400-600 lines |
| provenance/stage-3-organization-od/OD-AUDIT-SYNTHESIS.md | 2 | chain-a | New | 300-500 lines |
| patterns/organizational-patterns.md | 2 | chain-b | density-patterns.md | 300-450 lines |
| provenance/stage-3-organization-od/HANDOFF-OD-TO-AD.md | 3 | gate | HANDOFF-DD-TO-OD.md (339 lines) | 280-400 lines |

### Updated Files (10)

| File | Wave | Owner | Change |
|------|------|-------|--------|
| anti-patterns/registry.md | 2 | chain-b | Append OD anti-patterns section |
| provenance/stage-3-organization-od/STAGE-HEADER.md | 4 | infra | Rewrite: future tense → past tense COMPLETE |
| provenance/stage-3-organization-od/OD-RESEARCH-GATE.md | 4 | infra | Add post-build verification addendum |
| provenance/stage-3-organization-od/CLAUDE.md | 4 | infra | Update from placeholder to complete |
| provenance/CLAUDE.md | 4 | infra | Stage 3 status → COMPLETE |
| provenance/PIPELINE-MANIFEST.md | 4 | infra | Add OD-F Section B, update counts |
| BACKBONE.md | 4 | infra | Rewrite Section 4 to past tense |
| patterns/PATTERN-INDEX.md | 4 | infra | 6 patterns PENDING → VALIDATED |
| provenance/SOUL-DISCOVERIES.md | 4 | infra | Add Stage 3 determination |
| provenance/RESEARCH-ACTIVE.md | 4 | infra | Finalize R-1 application status |

All paths relative to docs-spa/app/showcase/DESIGN-SYSTEM/

---

## Wave Execution Schedule

### Phase A: Setup (~3 min, Lead only)

1. TeamCreate with team_name "provenance-fix"
2. Create REMEDIATION-STATE.md in knowledge-architecture/_od-audit-scratchpad/ tracking: current wave, agents spawned, files created, completion status per agent
3. Create tasks via TaskCreate — one per agent (6 tasks total)
4. Set dependencies: chain-a + chain-b blocked by census-a + census-b; gate blocked by chain-a + chain-b; infra blocked by gate

### Wave 1: Census (parallel, ~8-10 min)

Spawn census-a and census-b simultaneously via Task tool with team_name: "provenance-fix" and run_in_background: true.

census-a reads:
- checkpoints/OD-CHECKPOINT.md (full — OD-F findings at lines 140-157)
- All 6 OD HTML files (first 150 lines — inline headers with findings)
- knowledge-architecture/_od-audit-scratchpad/cross-od-consistency.md
- DESIGN-SYSTEM/provenance/stage-2-density-dd/DD-outbound-findings.md (template)

census-a writes:
- DESIGN-SYSTEM/provenance/stage-3-organization-od/OD-outbound-findings.md
- Contains: OD-F-001 through OD-F-012, consumption matrix, DD-F verification
- Skeleton first (YAML + headers), then populate

census-b reads:
- All 6 OD HTML files (first 150 lines)
- knowledge-architecture/OD-004-EXTERNAL-RESEARCH.md (EXT-CONF + EXT-TASK)
- knowledge-architecture/OD-005-EXTERNAL-RESEARCH.md (EXT-SPAT)
- explorations/organizational/OD-006-CREATIVE-RESEARCH-FEED.md (EXT-CREATIVE)

census-b writes:
- DESIGN-SYSTEM/provenance/EXT-RESEARCH-REGISTRY.md
- Contains: ~56 EXT findings across 6 categories with application status

### Wave 2: Chain Builders (parallel, ~12-15 min)

chain-a reads:
- checkpoints/OD-CHECKPOINT.md (full)
- knowledge-architecture/OD-GRANULAR-AUDIT-RESULTS.md (full — 89 findings)
- knowledge-architecture/_od-audit-scratchpad/FIX-STATE.md (16 fixes)
- All 6 OD HTML files (first 150 lines)
- knowledge-architecture/_od-audit-scratchpad/cross-od-consistency.md
- knowledge-architecture/_od-audit-scratchpad/fresh-eyes.md

chain-a writes (2 files):
1. OD-SYNTHESIS.md — Cross-OD analysis, 3-quality-dialect, 6-pattern table with scores, key decisions, negative space, scoring summary
2. OD-AUDIT-SYNTHESIS.md — 89 findings, 16/16 fixes, 2 false positives, soul matrix, methodology

chain-b reads:
- checkpoints/OD-CHECKPOINT.md (full)
- All 6 OD HTML files (first 80 lines)
- DESIGN-SYSTEM/patterns/density-patterns.md (structural template)
- DESIGN-SYSTEM/anti-patterns/registry.md (current state)

chain-b writes:
1. organizational-patterns.md (6 VALIDATED patterns)
2. Appends to anti-patterns/registry.md

### Wave 3: Gate (sequential, ~8-10 min)

gate reads:
- HANDOFF-DD-TO-OD.md (template)
- OD-outbound-findings.md (Wave 1)
- OD-SYNTHESIS.md (Wave 2)
- OD-AUDIT-SYNTHESIS.md (Wave 2)

gate writes:
- HANDOFF-OD-TO-AD.md — PURPOSE, Patterns, Findings, Soul, Quality Bar, Research, Lessons, Responsibilities, Pairings, Acknowledgment

### Wave 4: Infrastructure (sequential, ~10-12 min)

infra updates 10 files in order (see table above).

---

## Gap Coverage Matrix

### 5 CRITICAL Gaps
| Gap | File Created/Updated | Agent |
|-----|---------------------|-------|
| GAP-001: Missing OD-outbound-findings.md | NEW OD-outbound-findings.md | census-a |
| GAP-002: Missing HANDOFF-OD-TO-AD.md | NEW HANDOFF-OD-TO-AD.md | gate |
| GAP-003: Missing OD-SYNTHESIS.md | NEW OD-SYNTHESIS.md | chain-a |
| GAP-004: Missing organizational-patterns.md | NEW organizational-patterns.md | chain-b |
| GAP-031: Provenance = 5% of info | All 6 new files + EXT-REGISTRY | all |

### 9 HIGH Gaps
| Gap | Resolution | Agent |
|-----|-----------|-------|
| GAP-005: Audit data outside provenance | NEW OD-AUDIT-SYNTHESIS.md | chain-a |
| GAP-006: STAGE-HEADER stale | Rewrite to COMPLETE | infra |
| GAP-007: CLAUDE.md placeholder | Update to complete navigation | infra |
| GAP-008: OD-RESEARCH-GATE pre-build only | Add post-build addendum | infra |
| GAP-009: PIPELINE-MANIFEST OD stale | Add OD-F findings section | infra |
| GAP-010: BACKBONE.md Section 4 stale | Rewrite to past tense | infra |
| GAP-011: PATTERN-INDEX OD stale | PENDING → VALIDATED | infra |
| GAP-016: OD-F lifecycle informal | Formal lifecycle in OD-outbound | census-a |
| GAP-022: Key decisions zero section | Key Decisions in OD-SYNTHESIS | chain-a |
| GAP-026: SOUL-DISCOVERIES no OD | Add Stage 3 determination | infra |

### 14 MEDIUM Gaps
(All assigned — see full plan)

### 3 LOW Gaps
(All assigned — see full plan)

---

## Agent Prompt Specifications

(See full plan for binary rules per agent)

---

## Verification Protocol

### Per-Wave Checks
Wave 1: File existence + grep counts
Wave 2: File existence + pattern matching
Wave 3: File existence + line count + grep
Wave 4: Status checks across infrastructure

### Post-Commit Traversal Test
3 findings traced end-to-end:
1. R3-023 → DD-F-006 → OD application → OD-outbound → HANDOFF-OD-TO-AD
2. OD-F-005 → OD-outbound → HANDOFF-OD-TO-AD → PIPELINE-MANIFEST
3. EXT-SPAT-001 → EXT-REGISTRY → OD-outbound cross-ref

---

## OD-F Finding Registry

| ID | Name | Source | New? |
|----|------|--------|------|
| OD-F-001 | Conversational Width Variation | OD-001 | Existing |
| OD-F-002 | Fractal Nesting via Follow-ups | OD-001 | Existing |
| OD-F-003 | Q&A as Natural PULSE Generator | OD-001 | Existing |
| OD-F-004 | Chapter Dividers as Breathing Zones | OD-001 | Existing |
| OD-F-005 | Organization IS Density (META-PATTERN) | OD-006 | Existing |
| OD-F-006 | Meta-Documentation as Purest Density Test | OD-006 | Existing |
| OD-F-007 | Mode-Transition Breathing | OD-006 | Existing |
| OD-F-008 | Compound Creative Techniques | OD-006 | Existing |
| OD-F-009 | Narrative Arc as Natural CRESCENDO | OD-002 | NEW |
| OD-F-010 | Task Clusters as Natural ISLANDS | OD-003 | NEW |
| OD-F-011 | Confidence Stratification as Natural GEOLOGICAL | OD-004 | NEW |
| OD-F-012 | Hub-Spoke as Natural WAVE | OD-005 | NEW |
