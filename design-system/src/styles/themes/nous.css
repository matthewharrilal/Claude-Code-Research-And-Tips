/**
 * Nous Research Theme
 * Source: Reference image - Black/White maximum contrast
 *
 * Characteristics:
 * - Pure black #000000 + pure white #FFFFFF
 * - Bold condensed sans repeated as texture
 * - Retro display headlines
 * - Fully justified body text
 * - Thick-bordered logo frames
 * - Halftone imagery
 * - Manga/illustration elements
 */

[data-theme="nous"],
.theme-nous {
  /* Color overrides */
  --color-primary: var(--nous-black);
  --color-primary-hover: var(--nous-gray);
  --color-bg-page: var(--nous-white);
  --color-bg-card: var(--nous-white);
  --color-text-primary: var(--nous-black);
  --color-text-muted: var(--nous-gray);
  --color-border: var(--nous-black);

  /* Theme-specific */
  --frame-border-width: 8px;
  --repetition-opacity: 0.08;
}

/* ============================================
 * NOUS COMPONENT STYLES
 * ============================================ */

/* Repetition Pattern (text as texture) */
.nous-repetition {
  position: relative;
  overflow: hidden;
}

.nous-repetition__layer {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  pointer-events: none;
}

.nous-repetition__text {
  font-family: var(--font-condensed);
  font-size: var(--text-3xl);
  font-weight: var(--weight-bold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-tight);
  line-height: 1;
  white-space: nowrap;
  color: var(--nous-black);
  opacity: var(--repetition-opacity);
}

/* Rotated variant */
.nous-repetition--rotated .nous-repetition__text {
  transform: rotate(-5deg);
}

/* Stacked variant (8 repetitions) */
.nous-repetition--stacked .nous-repetition__layer {
  gap: 0;
}

/* Logo Frame */
.nous-logo-frame {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-6);
  border: var(--frame-border-width) solid var(--nous-black);
  background: var(--nous-white);
}

.nous-logo-frame--thick {
  --frame-border-width: 12px;
}

.nous-logo-frame--double {
  border-style: double;
  border-width: calc(var(--frame-border-width) * 1.5);
}

.nous-logo-frame--rounded {
  border-radius: var(--radius-lg);
}

/* Halftone Image Effect */
.nous-halftone {
  position: relative;
  overflow: hidden;
}

.nous-halftone img {
  display: block;
  width: 100%;
  filter: grayscale(100%) contrast(1.5);
}

.nous-halftone::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle, var(--nous-black) 1px, transparent 1px);
  background-size: 4px 4px;
  mix-blend-mode: multiply;
  opacity: 0.3;
}

/* Larger dots */
.nous-halftone--large::after {
  background-size: 8px 8px;
}

.nous-halftone--large::after {
  background-image: radial-gradient(circle, var(--nous-black) 2px, transparent 2px);
}

/* Nous Display Heading */
.nous-heading {
  font-family: var(--font-condensed);
  font-size: var(--text-5xl);
  font-weight: var(--weight-black);
  text-transform: uppercase;
  letter-spacing: var(--tracking-tighter);
  line-height: var(--leading-tight);
  color: var(--nous-black);
}

.nous-heading--retro {
  font-family: 'Impact', var(--font-condensed);
  letter-spacing: 0.05em;
}

/* Justified Body */
.nous-body {
  font-family: var(--font-body);
  font-size: var(--text-base);
  line-height: var(--leading-body);
  text-align: justify;
  color: var(--nous-black);
}

.nous-body p {
  margin-bottom: var(--space-4);
}

/* Thick Divider */
.nous-divider {
  height: 4px;
  background: var(--nous-black);
  margin: var(--space-8) 0;
}

.nous-divider--thin {
  height: 1px;
}

.nous-divider--thick {
  height: 8px;
}

/* Section with repetition background */
.nous-section {
  position: relative;
  padding: var(--space-12) var(--space-8);
  background: var(--nous-white);
}

.nous-section__bg-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: var(--font-condensed);
  font-size: clamp(100px, 20vw, 300px);
  font-weight: var(--weight-black);
  text-transform: uppercase;
  white-space: nowrap;
  color: var(--nous-black);
  opacity: 0.04;
  pointer-events: none;
  z-index: 0;
}

.nous-section__content {
  position: relative;
  z-index: 1;
}

/* Manga-style panel */
.nous-panel {
  border: 3px solid var(--nous-black);
  padding: var(--space-4);
  position: relative;
}

.nous-panel--action {
  transform: rotate(-1deg);
}

.nous-panel--caption {
  position: absolute;
  bottom: var(--space-2);
  right: var(--space-2);
  background: var(--nous-white);
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  text-transform: uppercase;
}

/* Grid layout (like research paper) */
.nous-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-6);
  border-top: 2px solid var(--nous-black);
  border-bottom: 2px solid var(--nous-black);
  padding: var(--space-6) 0;
}

.nous-grid__item {
  padding: var(--space-4);
  border-left: 1px solid var(--nous-black);
}

.nous-grid__item:first-child {
  border-left: none;
}

/* Inverted section */
.nous-inverted {
  background: var(--nous-black);
  color: var(--nous-white);
  padding: var(--space-8);
}

.nous-inverted a {
  color: var(--nous-white);
}
