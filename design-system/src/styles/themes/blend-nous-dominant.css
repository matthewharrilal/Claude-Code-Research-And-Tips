/**
 * Blended Theme: NOUS-DOMINANT
 *
 * A bold hybrid combining:
 * - NOUS (70%): Maximum contrast, bold condensed sans, thick borders, repetition patterns
 * - Medieval (15%): Blackletter accent typography, ornamental dividers
 * - Sanrok (15%): Pure red accent color, duotone images, interactive energy
 *
 * Core Identity: Maximum contrast brutalism with historical and warm accents
 */

/* ============================================
 * FONT IMPORTS
 * ============================================ */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter+Tight:wght@700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap');

/* ============================================
 * THEME TOKENS
 * ============================================ */
[data-theme="blend-nous"],
.theme-blend-nous {
  /* ==========================================
   * COLORS - Maximum Contrast Foundation
   * ========================================== */
  --blend-black: #000000;
  --blend-white: #FFFFFF;
  --blend-accent: #FF0000;           /* Sanrok red */
  --blend-accent-hover: #CC0000;
  --blend-muted: #333333;
  --blend-medieval-blue: #1A44B8;    /* Reserved for Blackletter */
  --blend-cream: #FBF5EF;            /* Rare warmth accent */

  /* Semantic Color Mappings */
  --color-bg-primary: var(--blend-white);
  --color-bg-inverted: var(--blend-black);
  --color-bg-card: var(--blend-white);
  --color-text-primary: var(--blend-black);
  --color-text-inverted: var(--blend-white);
  --color-text-muted: var(--blend-muted);
  --color-text-accent: var(--blend-accent);
  --color-border: var(--blend-black);
  --color-border-inverted: var(--blend-white);
  --color-border-thin: rgba(0, 0, 0, 0.15);
  --color-link: var(--blend-accent);
  --color-link-hover: var(--blend-accent-hover);
  --color-focus-ring: var(--blend-accent);

  /* ==========================================
   * TYPOGRAPHY
   * ========================================== */
  /* Font Families */
  --font-display: 'Inter Tight', 'Roboto Condensed', 'Arial Narrow', sans-serif;
  --font-body: 'Inter', system-ui, -apple-system, sans-serif;
  --font-blackletter: 'UnifrakturMaguntia', 'Old English Text MT', 'Luminari', fantasy;
  --font-mono: 'JetBrains Mono', 'SF Mono', Monaco, monospace;

  /* Type Scale */
  --text-hero: clamp(4rem, 12vw, 10rem);
  --text-h1: 4.209rem;     /* 67px */
  --text-h2: 3.157rem;     /* 50px */
  --text-h3: 2.369rem;     /* 38px */
  --text-h4: 1.777rem;     /* 28px */
  --text-h5: 1rem;         /* 16px */
  --text-body: 1rem;       /* 16px */
  --text-small: 0.875rem;  /* 14px */
  --text-micro: 0.625rem;  /* 10px */

  /* Line Heights */
  --leading-hero: 0.9;
  --leading-tight: 0.95;
  --leading-heading: 1.1;
  --leading-snug: 1.25;
  --leading-body: 1.6;
  --leading-relaxed: 1.75;

  /* Letter Spacing */
  --tracking-tighter: -0.04em;
  --tracking-tight: -0.03em;
  --tracking-snug: -0.02em;
  --tracking-normal: 0;
  --tracking-wide: 0.05em;
  --tracking-wider: 0.1em;
  --tracking-widest: 0.15em;

  /* Font Weights */
  --weight-normal: 400;
  --weight-medium: 500;
  --weight-semibold: 600;
  --weight-bold: 700;
  --weight-extrabold: 800;
  --weight-black: 900;

  /* ==========================================
   * BORDERS - Thick (Nous Signature)
   * ========================================== */
  --border-thin: 1px;
  --border-medium: 2px;
  --border-thick: 4px;
  --border-frame: 8px;
  --border-heavy: 12px;

  /* Border Radius - Minimal */
  --radius-none: 0;
  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 8px;

  /* ==========================================
   * SPACING
   * ========================================== */
  --space-1: 0.25rem;    /* 4px */
  --space-2: 0.5rem;     /* 8px */
  --space-3: 0.75rem;    /* 12px */
  --space-4: 1rem;       /* 16px */
  --space-5: 1.25rem;    /* 20px */
  --space-6: 1.5rem;     /* 24px */
  --space-8: 2rem;       /* 32px */
  --space-10: 2.5rem;    /* 40px */
  --space-12: 3rem;      /* 48px */
  --space-16: 4rem;      /* 64px */
  --space-20: 5rem;      /* 80px */
  --space-24: 6rem;      /* 96px */

  /* ==========================================
   * EFFECTS
   * ========================================== */
  --repetition-opacity: 0.06;
  --halftone-opacity: 0.25;
  --halftone-size: 4px;
  --halftone-dot: 1px;

  /* ==========================================
   * TRANSITIONS
   * ========================================== */
  --duration-fast: 100ms;
  --duration-normal: 200ms;
  --duration-slow: 400ms;
  --ease-default: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
}

/* ============================================
 * BASE STYLES
 * ============================================ */
.theme-blend-nous {
  font-family: var(--font-body);
  font-size: var(--text-body);
  line-height: var(--leading-body);
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ============================================
 * TYPOGRAPHY COMPONENTS
 * ============================================ */

/* Hero Text - Nous signature */
.blend-hero {
  font-family: var(--font-display);
  font-size: var(--text-hero);
  font-weight: var(--weight-black);
  line-height: var(--leading-hero);
  letter-spacing: var(--tracking-tighter);
  text-transform: uppercase;
  color: var(--color-text-primary);
}

/* Headings - Bold condensed uppercase */
.blend-h1 {
  font-family: var(--font-display);
  font-size: var(--text-h1);
  font-weight: var(--weight-black);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  text-transform: uppercase;
  color: var(--color-text-primary);
}

.blend-h2 {
  font-family: var(--font-display);
  font-size: var(--text-h2);
  font-weight: var(--weight-black);
  line-height: var(--leading-heading);
  letter-spacing: var(--tracking-tight);
  text-transform: uppercase;
  color: var(--color-text-primary);
}

.blend-h3 {
  font-family: var(--font-display);
  font-size: var(--text-h3);
  font-weight: var(--weight-bold);
  line-height: var(--leading-heading);
  letter-spacing: var(--tracking-snug);
  text-transform: uppercase;
  color: var(--color-text-primary);
}

.blend-h4 {
  font-family: var(--font-body);
  font-size: var(--text-h4);
  font-weight: var(--weight-bold);
  line-height: var(--leading-snug);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  color: var(--color-text-primary);
}

.blend-h5 {
  font-family: var(--font-body);
  font-size: var(--text-h5);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-snug);
  letter-spacing: var(--tracking-wider);
  text-transform: uppercase;
  color: var(--color-text-primary);
}

/* Body text */
.blend-body {
  font-family: var(--font-body);
  font-size: var(--text-body);
  line-height: var(--leading-body);
  color: var(--color-text-primary);
}

.blend-body--justified {
  text-align: justify;
  hyphens: auto;
  -webkit-hyphens: auto;
}

/* Small/Micro text */
.blend-small {
  font-family: var(--font-body);
  font-size: var(--text-small);
  line-height: var(--leading-body);
  color: var(--color-text-muted);
}

.blend-micro {
  font-family: var(--font-body);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color: var(--color-text-muted);
}

/* ============================================
 * MEDIEVAL ACCENT TYPOGRAPHY
 * ============================================ */

/* Blackletter heading - ceremonial use only */
.blend-blackletter-heading {
  font-family: var(--font-blackletter);
  font-size: var(--text-h2);
  color: var(--color-text-primary);
  text-align: center;
  letter-spacing: 0.02em;
}

.blend-blackletter-heading--sm {
  font-size: var(--text-h3);
}

/* Drop cap - Medieval accent */
.blend-drop-cap {
  font-family: var(--font-blackletter);
  font-size: 5rem;
  float: left;
  line-height: 0.75;
  padding-right: var(--space-3);
  padding-top: var(--space-1);
  color: var(--color-text-primary);
}

.blend-drop-cap--accent {
  color: var(--blend-accent);
}

.blend-drop-cap--blue {
  color: var(--blend-medieval-blue);
}

/* ============================================
 * NOUS STRUCTURAL COMPONENTS
 * ============================================ */

/* Repetition Pattern Background */
.blend-repetition {
  position: relative;
  overflow: hidden;
}

.blend-repetition__layer {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  pointer-events: none;
  z-index: 0;
}

.blend-repetition__text {
  font-family: var(--font-display);
  font-size: var(--text-h2);
  font-weight: var(--weight-black);
  text-transform: uppercase;
  letter-spacing: var(--tracking-tight);
  line-height: 1;
  white-space: nowrap;
  color: var(--color-text-primary);
  opacity: var(--repetition-opacity);
}

.blend-repetition__content {
  position: relative;
  z-index: 1;
}

/* Logo Frame - Thick borders */
.blend-frame {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-6);
  background: var(--color-bg-primary);
  border: var(--border-frame) solid var(--color-border);
}

.blend-frame--thick {
  border-width: var(--border-heavy);
}

.blend-frame--double {
  border-width: calc(var(--border-frame) * 1.5);
  border-style: double;
}

.blend-frame--inverted {
  background: var(--color-bg-inverted);
  border-color: var(--color-border-inverted);
  color: var(--color-text-inverted);
}

/* Thick Dividers */
.blend-divider {
  height: var(--border-thick);
  background: var(--color-border);
  margin: var(--space-8) 0;
}

.blend-divider--thin {
  height: var(--border-thin);
}

.blend-divider--heavy {
  height: var(--border-frame);
}

.blend-divider--inverted {
  background: var(--color-border-inverted);
}

/* Grid with borders */
.blend-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  border-top: var(--border-medium) solid var(--color-border);
  border-bottom: var(--border-medium) solid var(--color-border);
}

.blend-grid__item {
  padding: var(--space-6);
  border-left: var(--border-thin) solid var(--color-border);
}

.blend-grid__item:first-child {
  border-left: none;
}

/* Inverted Section */
.blend-inverted {
  background: var(--color-bg-inverted);
  color: var(--color-text-inverted);
  padding: var(--space-12) var(--space-8);
}

.blend-inverted .blend-divider {
  background: var(--color-border-inverted);
}

.blend-inverted .blend-grid {
  border-color: var(--color-border-inverted);
}

.blend-inverted .blend-grid__item {
  border-color: var(--color-border-inverted);
}

/* ============================================
 * HALFTONE IMAGE EFFECT
 * ============================================ */
.blend-halftone {
  position: relative;
  overflow: hidden;
}

.blend-halftone img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: grayscale(100%) contrast(1.5);
}

.blend-halftone::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(
    circle,
    var(--blend-black) var(--halftone-dot),
    transparent var(--halftone-dot)
  );
  background-size: var(--halftone-size) var(--halftone-size);
  mix-blend-mode: multiply;
  opacity: var(--halftone-opacity);
  pointer-events: none;
}

.blend-halftone--large {
  --halftone-size: 8px;
  --halftone-dot: 2px;
}

/* ============================================
 * SANROK RED ACCENT COMPONENTS
 * ============================================ */

/* Red duotone image */
.blend-duotone-red {
  position: relative;
  overflow: hidden;
}

.blend-duotone-red img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: grayscale(100%) contrast(1.3) brightness(1.1);
}

.blend-duotone-red::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--blend-accent);
  mix-blend-mode: multiply;
  opacity: 0.85;
  z-index: 1;
  pointer-events: none;
}

/* Rank/Number Badge */
.blend-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  background: var(--blend-accent);
  color: var(--blend-white);
  font-family: var(--font-display);
  font-weight: var(--weight-black);
  font-size: var(--text-small);
}

.blend-badge--sm {
  width: 2rem;
  height: 2rem;
  font-size: var(--text-micro);
}

.blend-badge--lg {
  width: 3rem;
  height: 3rem;
  font-size: var(--text-body);
}

/* CTA Button */
.blend-cta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-4) var(--space-8);
  background: var(--blend-accent);
  color: var(--blend-white);
  font-family: var(--font-body);
  font-weight: var(--weight-bold);
  font-size: var(--text-small);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  border: var(--border-thick) solid var(--blend-black);
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-default);
}

.blend-cta:hover {
  background: var(--blend-black);
  color: var(--blend-white);
}

.blend-cta--outline {
  background: transparent;
  color: var(--blend-black);
}

.blend-cta--outline:hover {
  background: var(--blend-black);
  color: var(--blend-white);
}

.blend-cta--inverted {
  background: var(--blend-white);
  color: var(--blend-black);
  border-color: var(--blend-white);
}

.blend-cta--inverted:hover {
  background: var(--blend-accent);
  color: var(--blend-white);
  border-color: var(--blend-accent);
}

/* Links */
.blend-link {
  color: var(--color-link);
  text-decoration: none;
  font-weight: var(--weight-bold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  font-size: var(--text-small);
  transition: color var(--duration-fast) var(--ease-default);
}

.blend-link:hover {
  color: var(--color-link-hover);
  text-decoration: underline;
}

/* ============================================
 * MEDIEVAL ORNAMENTAL DIVIDER
 * ============================================ */
.blend-ornament-divider {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-4);
  padding: var(--space-6) 0;
  color: var(--color-text-primary);
}

.blend-ornament-divider__line {
  flex: 1;
  height: 1px;
  background: currentColor;
}

.blend-ornament-divider__symbol {
  font-size: 1.5rem;
}

.blend-ornament-divider--inverted {
  color: var(--color-text-inverted);
}

/* ============================================
 * CARD COMPONENT
 * ============================================ */
.blend-card {
  background: var(--color-bg-card);
  border: var(--border-thick) solid var(--color-border);
}

.blend-card__image {
  position: relative;
  aspect-ratio: 3/4;
  overflow: hidden;
}

.blend-card__badge {
  position: absolute;
  top: var(--space-3);
  right: var(--space-3);
}

.blend-card__content {
  padding: var(--space-4);
  border-top: var(--border-thick) solid var(--color-border);
}

.blend-card__title {
  font-family: var(--font-body);
  font-weight: var(--weight-black);
  font-size: var(--text-small);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-text-primary);
}

.blend-card__subtitle {
  font-size: var(--text-micro);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
  margin-top: var(--space-1);
}

/* ============================================
 * SECTION LAYOUTS
 * ============================================ */
.blend-section {
  padding: var(--space-16) var(--space-8);
}

.blend-section--tight {
  padding: var(--space-8) var(--space-8);
}

.blend-section--inverted {
  background: var(--color-bg-inverted);
  color: var(--color-text-inverted);
}

/* ============================================
 * UTILITY CLASSES
 * ============================================ */
.blend-text-accent {
  color: var(--blend-accent);
}

.blend-text-muted {
  color: var(--color-text-muted);
}

.blend-text-center {
  text-align: center;
}

.blend-uppercase {
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.blend-max-w-sm { max-width: 640px; }
.blend-max-w-md { max-width: 768px; }
.blend-max-w-lg { max-width: 1024px; }
.blend-max-w-xl { max-width: 1280px; }

.blend-mx-auto {
  margin-left: auto;
  margin-right: auto;
}

/* ============================================
 * FOCUS STATES (Accessibility)
 * ============================================ */
.blend-cta:focus-visible,
.blend-link:focus-visible {
  outline: var(--border-thick) solid var(--color-focus-ring);
  outline-offset: 2px;
}

/* ============================================
 * REDUCED MOTION
 * ============================================ */
@media (prefers-reduced-motion: reduce) {
  .blend-cta,
  .blend-link {
    transition: none;
  }
}
