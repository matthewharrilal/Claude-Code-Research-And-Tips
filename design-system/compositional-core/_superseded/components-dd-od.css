/* ============================================================================
   COMPONENT CSS — DD + OD EXPLORATIONS
   Lens: Identity + Enablement hybrid. Soul preservation + creative freedom over frequency/completeness.
   Extracted from: DD-001 through DD-006, OD-001 through OD-006
   ============================================================================ */

/* Extraction Process:
   - Visual rendering via Playwright FIRST (all 12 files)
   - Source code reading SECOND (strategic subset)
   - 90%+ CSS overlap across 2+ files = extractable
   - Parametric variation → ONE component with CSS custom property

   Confidence Tags:
   - HIGH: 8+ files
   - MEDIUM: 4-7 files
   - LOW: 2-3 files
*/

/* ============================================================================
   CALLOUT FAMILY (HIGH: 12 files)
   2-zone DNA: sparse label + dense body + 4px left border
   Parameterized via CSS custom properties
   ============================================================================ */

.callout {
  border-left: var(--border-left-width, 4px) solid var(--callout-border-color);
  background: var(--callout-bg-color);
  padding: var(--space-6, 24px) var(--space-5, 20px);
  margin-bottom: var(--space-6, 24px);
}

.callout__label {
  font-family: var(--font-body);
  font-size: var(--type-meta, 10px);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--callout-label-color);
  margin-bottom: var(--space-3, 12px);
}

.callout__content {
  font-size: var(--type-body, 14px);
  line-height: 1.7;
  color: var(--color-text);
}

/* Essence variant: serif italic for wisdom content */
.callout--essence .callout__content {
  font-family: var(--font-display);
  font-size: 18px;
  font-style: italic;
}

/* Semantic color variants (all share 2-zone DNA) */
.callout--essence {
  --callout-border-color: var(--accent-amber, #D97706);
  --callout-bg-color: rgba(217, 119, 6, 0.05);
  --callout-label-color: var(--accent-amber, #D97706);
}

.callout--tip {
  --callout-border-color: var(--accent-green, #4A9D6B);
  --callout-bg-color: rgba(74, 157, 107, 0.05);
  --callout-label-color: var(--accent-green, #4A9D6B);
}

.callout--info,
.callout--note {
  --callout-border-color: var(--accent-blue, #4A90D9);
  --callout-bg-color: rgba(74, 144, 217, 0.05);
  --callout-label-color: var(--accent-blue, #4A90D9);
}

.callout--gotcha,
.callout--warning {
  --callout-border-color: var(--color-primary, #E83025);
  --callout-bg-color: rgba(232, 48, 37, 0.05);
  --callout-label-color: var(--color-primary, #E83025);
}

.callout--challenge {
  --callout-border-color: var(--accent-purple, #7C3AED);
  --callout-bg-color: rgba(124, 58, 237, 0.05);
  --callout-label-color: var(--accent-purple, #7C3AED);
}

/* ============================================================================
   CODE BLOCKS (HIGH: 10 files)
   Dark background + syntax highlighting + copy button
   ============================================================================ */

.code-snippet {
  background: #1A1A1A;
  margin-bottom: var(--space-6, 24px);
  border-radius: var(--border-radius, 0);
}

.code-snippet__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-2, 8px) var(--space-4, 16px);
  background: #1A1A1A;
  border-bottom: 1px solid var(--color-border, #E0D5C5);
}

.code-snippet__filename {
  font-family: var(--font-mono);
  font-size: var(--type-meta, 11px);
  color: var(--color-text-secondary, #666666);
}

.code-snippet__copy {
  font-family: var(--font-body);
  font-size: 11px;
  color: var(--color-primary, #E83025);
  padding: var(--space-1, 4px) var(--space-2, 8px);
  border: 1px solid var(--color-primary, #E83025);
  background: transparent;
  cursor: pointer;
  border-radius: var(--border-radius, 0);
}

.code-snippet__content {
  padding: var(--space-4, 16px);
  font-family: var(--font-mono);
  font-size: var(--type-code, 14px);
  line-height: 1.5;
  color: #FAFAF5;
  overflow-x: auto;
  white-space: pre;
}

/* Syntax highlighting tokens (locked palette) */
.code-snippet__content .comment { color: #666666; }
.code-snippet__content .keyword { color: #E83025; }
.code-snippet__content .string { color: #6B9B7A; }
.code-snippet__content .function { color: #4A7C9B; }
.code-snippet__content .variable { color: #C97065; }

/* Alternative code block (pre/code pair) */
pre {
  background: #1A1A1A;
  padding: var(--space-4, 16px);
  margin-bottom: var(--space-6, 24px);
  overflow-x: auto;
  border-radius: var(--border-radius, 0);
}

code {
  font-family: var(--font-mono);
  font-size: var(--type-code, 14px);
  line-height: 1.5;
}

/* Inline code within paragraphs */
p code,
li code {
  background: var(--color-border-subtle, #F0EBE3);
  padding: 2px 6px;
  font-size: var(--type-code, 14px);
  border-radius: var(--border-radius, 0);
}

/* ============================================================================
   PAGE HEADER (HIGH: 12 files)
   Exploration header with ID, title, hypothesis
   ============================================================================ */

.exploration-header,
.page-header {
  border-bottom: 3px solid var(--color-primary, #E83025);
  padding: var(--space-6, 24px);
  background: white;
  margin-bottom: var(--space-12, 48px);
}

.exploration-id,
.page-header__id {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--color-primary, #E83025);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: var(--space-2, 8px);
}

.exploration-title,
.page-header__title {
  font-family: var(--font-display);
  font-size: 32px;
  font-style: italic;
  margin-bottom: var(--space-3, 12px);
}

.exploration-hypothesis,
.page-header__subtitle {
  font-size: 14px;
  color: var(--color-text-secondary, #666666);
  max-width: 600px;
}

/* ============================================================================
   PAGE FOOTER (MEDIUM: 6 files)
   Provenance metadata + navigation
   ============================================================================ */

.page-footer {
  border-top: 3px solid var(--color-primary, #E83025);
  padding: var(--space-6, 24px);
  margin-top: var(--space-16, 64px);
  font-size: var(--type-meta, 12px);
  color: var(--color-text-secondary, #666666);
}

.page-footer__section {
  margin-bottom: var(--space-4, 16px);
}

.page-footer__label {
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-2, 8px);
}

/* ============================================================================
   FILE TREE (MEDIUM: 5 files)
   Monospace directory structure visualization
   ============================================================================ */

.file-tree {
  border-left: 4px solid var(--accent-blue, #4A90D9);
  background: var(--color-background, #FEF9F5);
  border: 1px solid var(--color-border-subtle, #F0EBE3);
  border-left: 4px solid var(--accent-blue, #4A90D9);
  padding: var(--space-4, 16px);
  margin-bottom: var(--space-6, 24px);
}

.file-tree__label {
  font-family: var(--font-body);
  font-size: var(--type-meta, 10px);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--accent-blue, #4A90D9);
  margin-bottom: var(--space-3, 12px);
}

.file-tree__content {
  font-family: var(--font-mono);
  font-size: 13px;
  line-height: 1.7;
  white-space: pre;
}

.file-tree__content .folder { color: var(--accent-blue, #4A90D9); }
.file-tree__content .file { color: var(--color-text, #1A1A1A); }
.file-tree__content .comment { color: var(--color-text-secondary, #666666); }

/* ============================================================================
   SKIP LINK (HIGH: 12 files)
   Accessibility skip navigation
   ============================================================================ */

.skip-link {
  position: absolute;
  top: -100%;
  left: 0;
  background: var(--color-primary, #E83025);
  color: var(--color-background, #FEF9F5);
  padding: 8px 16px;
  z-index: 1000;
  font-family: var(--font-body);
  font-size: 14px;
  text-decoration: none;
  border: none;
  border-radius: var(--border-radius, 0);
}

.skip-link:focus {
  top: 0;
}

/* ============================================================================
   FOCUS-VISIBLE (HIGH: 12 files)
   Keyboard navigation accessibility
   ============================================================================ */

*:focus-visible {
  outline: 3px solid var(--color-primary, #E83025);
  outline-offset: 2px;
}

/* ============================================================================
   SELECTION STYLING (HIGH: 10 files)
   Text selection highlight
   ============================================================================ */

::selection {
  background: var(--color-primary, #E83025);
  color: var(--color-background, #FEF9F5);
}

/* ============================================================================
   DECISION MATRIX / DATA TABLE (MEDIUM: 4 files)
   Structured comparison table with header row
   ============================================================================ */

.decision-matrix {
  border-left: 4px solid var(--color-primary, #E83025);
  margin-bottom: var(--space-6, 24px);
  overflow-x: auto;
}

.decision-matrix__header {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: var(--space-4, 16px);
  padding: var(--space-3, 12px) var(--space-4, 16px);
  background: rgba(232, 48, 37, 0.05);
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.decision-matrix__row {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: var(--space-4, 16px);
  padding: var(--space-3, 12px) var(--space-4, 16px);
  border-bottom: 1px solid var(--color-border-subtle, #F0EBE3);
  font-size: 14px;
}

.decision-matrix__row:last-child {
  border-bottom: none;
}

/* Responsive: single column on mobile */
@media (max-width: 768px) {
  .decision-matrix__header,
  .decision-matrix__row {
    grid-template-columns: 1fr;
  }
}

/* ============================================================================
   PROGRESS INDICATOR / STATS BAR (MEDIUM: 3 files)
   Visual statistics bar with labeled segments
   ============================================================================ */

.stats-bar {
  display: flex;
  gap: var(--space-2, 8px);
  margin-bottom: var(--space-4, 16px);
}

.stats-bar__segment {
  flex: 1;
  padding: var(--space-2, 8px);
  text-align: center;
  border: 1px solid var(--color-border, #E0D5C5);
}

.stats-bar__label {
  font-size: var(--type-meta, 10px);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-secondary, #666666);
  margin-bottom: var(--space-1, 4px);
}

.stats-bar__value {
  font-size: 18px;
  font-weight: 600;
  color: var(--color-text, #1A1A1A);
}

/* ============================================================================
   DENSITY INDICATOR (LOW: 3 files)
   Visual density level marker
   ============================================================================ */

.density-indicator {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--color-border, #E0D5C5);
  text-transform: uppercase;
  letter-spacing: 0.2em;
  margin-bottom: var(--space-4, 16px);
  display: flex;
  align-items: center;
  gap: var(--space-2, 8px);
}

.density-bar {
  height: 4px;
  background: var(--color-border, #E0D5C5);
}

.density-bar--sparse { width: 20px; }
.density-bar--medium { width: 40px; }
.density-bar--dense { width: 80px; }

/* ============================================================================
   Q&A PAIR (MEDIUM: 2 files - OD-001, OD-006)
   Conversational question-answer structure
   ============================================================================ */

.question {
  max-width: 60%;
  margin-left: var(--space-8, 32px);
  margin-bottom: var(--space-4, 16px);
}

.question__marker {
  width: 8px;
  height: 8px;
  background: var(--color-primary, #E83025);
  display: inline-block;
  margin-right: var(--space-2, 8px);
  border-radius: var(--border-radius, 0);
}

.question__text {
  font-family: var(--font-display);
  font-size: var(--type-subsection, 22px);
  font-style: italic;
  line-height: 1.4;
}

.answer {
  padding: var(--space-6, 24px);
  margin-bottom: var(--space-8, 32px);
  background: var(--color-zone-dense, #FFFFFF);
}

.answer__lead {
  font-size: var(--type-body, 16px);
  line-height: 1.7;
  margin-bottom: var(--space-4, 16px);
}

/* Editorial drop cap on opening paragraphs */
.answer__lead--dropcap::first-letter {
  font-family: var(--font-display);
  font-size: 3.5em;
  line-height: 0.85;
  float: left;
  margin: 0 0.1em 0 0;
  font-weight: normal;
}

/* ============================================================================
   NAVIGATION BREADCRUMB (LOW: 3 files)
   Hierarchical page location
   ============================================================================ */

.breadcrumb {
  font-size: var(--type-meta, 12px);
  color: var(--color-text-secondary, #666666);
  margin-bottom: var(--space-4, 16px);
}

.breadcrumb__link {
  color: var(--color-text-secondary, #666666);
  text-decoration: none;
}

.breadcrumb__link:hover {
  color: var(--color-primary, #E83025);
}

.breadcrumb__separator {
  margin: 0 var(--space-2, 8px);
  color: var(--color-border, #E0D5C5);
}

/* ============================================================================
   RESPONSIVE UTILITIES
   Mobile adaptations for key components
   ============================================================================ */

@media (max-width: 768px) {
  .exploration-title,
  .page-header__title {
    font-size: 26px;
  }

  .question {
    max-width: 100%;
    margin-left: 0;
  }

  .answer {
    padding: var(--space-4, 16px);
  }

  .code-snippet__content {
    font-size: 12px;
  }
}

/* ============================================================================
   REDUCED MOTION
   Accessibility: disable animations for users who prefer reduced motion
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ============================================================================
   COMPONENT INVENTORY

   Extracted Components:
   1. Callout family (6 semantic variants, parameterized)
   2. Code blocks (with syntax highlighting + copy button)
   3. Page header
   4. Page footer
   5. File tree
   6. Skip link
   7. Focus-visible
   8. Selection styling
   9. Decision matrix / data table
   10. Stats bar / progress indicator
   11. Density indicator
   12. Q&A pair
   13. Breadcrumb navigation

   Total: 13 component families

   Not Extracted (too specific or single-use):
   - Scroll witness (OD-001 specific)
   - Arriving wisdom animation (OD-001 specific)
   - Territory tiles (OD-005 specific)
   - Fractal annotations (OD-006 specific)
   - Task islands (OD-003 specific)
   - Geological strata (OD-004 specific)

   Research Applied:
   - DD-F-006: Fractal 2-zone DNA pattern (label + body)
   - OD-F-005: Organization IS Density (callout structure)
   - Soul constraints: border-radius: 0, box-shadow: none, locked palette
   - Enablement principle: Parameterized variants over separate components
   ============================================================================ */
