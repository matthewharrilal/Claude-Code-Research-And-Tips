

<!--
═══════════════════════════════════════════════════════════════════════════════
INLINE THREADING HEADER — Phase 2B
File: docs-spa/content/pages/compare-memory/content.html
Tier: C | Batch: 11 | Generated: 2026-02-06

1. WHY THIS EXISTS
Rendered HTML content page for the compare-memory synthesis document.

3. STATUS
ACTIVE

5. BUILT ON
Extracted from synthesis/compare-memory.md by content extraction scripts.

8. CONSUMED BY
docs-spa/app/(docs)/synthesis/compare-memory/page.tsx renders this content via dangerouslySetInnerHTML.

═══════════════════════════════════════════════════════════════════════════════
END INLINE THREADING HEADER
═══════════════════════════════════════════════════════════════════════════════
-->

      <!-- Section 1: ESSENCE -->
      <section id="essence" data-activity="essence">
        <div class="essence-box">
          <div class="essence-label">Essence (15 words)</div>
          <div class="essence-text">Memory is layers: session, episodic, semantic, long-term. Use the right layer for the right knowledge.</div>
        </div>
      </section>

      <!-- Section 2: CORE ABSTRACTION + IMPLEMENTATION -->
      <section id="core-abstraction" data-activity="core">
        <h2 class="section-title">
          <span class="section-number">2</span>
          The Core Abstraction
        </h2>

        <div class="core-abstraction">
          <div class="core-philosophy">"Claude starts fresh each conversation. Without memory, every session is groundhog day."</div>

          <div class="core-code">
            <button class="copy-btn" onclick="copyCode(this, 'Session -> progress.txt -> AGENTS.md -> Claude-Mem')">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <code>Session -&gt; progress.txt -&gt; AGENTS.md -&gt; Claude-Mem</code>
          </div>

          <div class="core-anchor">That's the migration path. Knowledge graduates upward as it proves valuable.</div>
        </div>

        <p class="text-text-secondary mb-6">
          Every memory approach aims to solve the same fundamental problem: <strong>persist knowledge across sessions</strong>. But different knowledge has different retention needs. Session discoveries need temporary storage. Proven patterns need permanent homes. Cross-project learnings need searchable databases.
        </p>

        <p class="text-text-secondary mb-6">
          The insight: don't choose ONE memory approach. Use ALL of them, each for its strength. This is layered memory - like CPU caches, each layer serves a different access pattern.
        </p>

        <!-- Comparison Matrix -->
        <h3 class="font-semibold text-lg mb-4 mt-8">Comparison Matrix</h3>

        <div class="overflow-x-auto mb-8">
          <table class="comparison-table">
            <thead>
              <tr>
                <th>Factor</th>
                <th>progress.txt</th>
                <th>Git History</th>
                <th>AGENTS.md</th>
                <th>Claude-Mem</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Setup</strong></td>
                <td>None</td>
                <td>None</td>
                <td>Low</td>
                <td>Medium-High</td>
              </tr>
              <tr>
                <td><strong>Persistence</strong></td>
                <td>Session</td>
                <td>Forever</td>
                <td>Forever</td>
                <td>Forever</td>
              </tr>
              <tr>
                <td><strong>Query</strong></td>
                <td>Manual/grep</td>
                <td>Hard</td>
                <td>Manual/grep</td>
                <td>Semantic</td>
              </tr>
              <tr>
                <td><strong>Scale</strong></td>
                <td>Medium</td>
                <td>Good</td>
                <td>Limited</td>
                <td>Excellent</td>
              </tr>
              <tr>
                <td><strong>Structure</strong></td>
                <td>Freeform</td>
                <td>Rigid</td>
                <td>Curated</td>
                <td>Flexible</td>
              </tr>
              <tr>
                <td><strong>Maintenance</strong></td>
                <td>Prune needed</td>
                <td>Automatic</td>
                <td>Curation</td>
                <td>Automatic</td>
              </tr>
              <tr>
                <td><strong>Transparency</strong></td>
                <td>Full</td>
                <td>Full</td>
                <td>Full</td>
                <td>Variable</td>
              </tr>
              <tr>
                <td><strong>Human readable</strong></td>
                <td>Yes</td>
                <td>Partial</td>
                <td>Yes</td>
                <td>Depends</td>
              </tr>
              <tr>
                <td><strong>Cross-project</strong></td>
                <td>No</td>
                <td>No</td>
                <td>No</td>
                <td>Possible</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Section 3: THE FOUR APPROACHES -->
      <section id="approaches" data-activity="approaches">
        <h2 class="section-title">
          <span class="section-number">3</span>
          The Four Approaches
        </h2>

        <!-- Approach 1: progress.txt -->
        <div class="approach-card" id="progress-txt">
          <div class="approach-header">
            <i data-lucide="file-text" class="w-6 h-6 text-accent"></i>
            <div class="approach-title">Approach 1: progress.txt</div>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">How it works</div>
            <p class="text-text-secondary text-sm">
              Append-only text file in project root. Often includes "Codebase Patterns" or "Session Learnings" sections. Dated entries track what was discovered and when. Agent appends before ending session.
            </p>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Pros</div>
            <ul class="approach-list pros-list">
              <li>Zero setup required</li>
              <li>Human readable and editable</li>
              <li>Easy to update with simple append</li>
              <li>Visible in file tree</li>
              <li>Works with any tooling</li>
            </ul>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Cons</div>
            <ul class="approach-list cons-list">
              <li>Can grow large over time</li>
              <li>No inherent structure or schema</li>
              <li>Manual pruning needed periodically</li>
              <li>No semantic search capability</li>
              <li>Duplicates accumulate</li>
            </ul>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Best For</div>
            <p class="text-text-secondary text-sm">
              Session memory and short-term learnings. Scratchpad for current work. Quick handoff between sessions. Projects without complex memory needs.
            </p>
          </div>
        </div>

        <!-- Approach 2: Git History -->
        <div class="approach-card" id="git-history">
          <div class="approach-header">
            <i data-lucide="git-commit" class="w-6 h-6 text-accent"></i>
            <div class="approach-title">Approach 2: Git History</div>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">How it works</div>
            <p class="text-text-secondary text-sm">
              Commit messages encode decisions and context. Branch state shows work in progress. Diff history reveals code evolution. PR descriptions capture rationale.
            </p>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Pros</div>
            <ul class="approach-list pros-list">
              <li>Already exists in every project</li>
              <li>Structured timeline built-in</li>
              <li>No extra files to maintain</li>
              <li>Immutable record</li>
              <li>Standard tooling support</li>
            </ul>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Cons</div>
            <ul class="approach-list cons-list">
              <li>Hard to query semantically</li>
              <li>Knowledge is implicit, not explicit</li>
              <li>Requires discipline in commit messages</li>
              <li>Can't store non-code learnings</li>
              <li>git log archaeology is tedious</li>
            </ul>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Best For</div>
            <p class="text-text-secondary text-sm">
              Code evolution tracking. Decision history ("why was this changed?"). Rollback scenarios. Audit trails.
            </p>
          </div>
        </div>

        <!-- Approach 3: AGENTS.md -->
        <div class="approach-card" id="agents-md">
          <div class="approach-header">
            <i data-lucide="book-open" class="w-6 h-6 text-accent"></i>
            <div class="approach-title">Approach 3: AGENTS.md</div>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">How it works</div>
            <p class="text-text-secondary text-sm">
              Permanent learnings document in project root. Captures patterns, gotchas, and conventions. Updated by agents when significant learning occurs. Lives alongside CLAUDE.md (instructions) as knowledge base.
            </p>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Pros</div>
            <ul class="approach-list pros-list">
              <li>Long-term knowledge survives all sessions</li>
              <li>Both human and agent readable</li>
              <li>Curated signal, not noise</li>
              <li>Version controlled with project</li>
              <li>Natural place for "project wisdom"</li>
            </ul>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Cons</div>
            <ul class="approach-list cons-list">
              <li>Requires manual curation</li>
              <li>Can become stale if not maintained</li>
              <li>Single file limits organization</li>
              <li>No automatic updates</li>
              <li>Subjective what belongs</li>
            </ul>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Best For</div>
            <p class="text-text-secondary text-sm">
              Permanent project knowledge. Team onboarding context. Architectural decisions. "Things we learned the hard way."
            </p>
          </div>
        </div>

        <!-- Approach 4: Claude-Mem -->
        <div class="approach-card" id="claude-mem">
          <div class="approach-header">
            <i data-lucide="database" class="w-6 h-6 text-accent"></i>
            <div class="approach-title">Approach 4: Claude-Mem / External Database</div>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">How it works</div>
            <p class="text-text-secondary text-sm">
              Semantic memory store (vector DB, structured DB, or hybrid). Compressed summaries of learnings. Cross-session persistence with retrieval. Often uses embeddings for similarity search.
            </p>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Pros</div>
            <ul class="approach-list pros-list">
              <li>Automatic memory formation</li>
              <li>Semantic search ("find related learnings")</li>
              <li>Scales to massive knowledge bases</li>
              <li>Cross-project knowledge possible</li>
              <li>Handles unstructured data well</li>
            </ul>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Cons</div>
            <ul class="approach-list cons-list">
              <li>Requires setup and infrastructure</li>
              <li>External dependency to maintain</li>
              <li>Less transparent (black box feeling)</li>
              <li>Cost and complexity overhead</li>
              <li>Potential latency in retrieval</li>
            </ul>
          </div>

          <div class="approach-section">
            <div class="approach-section-title">Best For</div>
            <p class="text-text-secondary text-sm">
              Long-running AI systems. Large teams or organizations. Cross-project knowledge sharing. Systems requiring semantic retrieval.
            </p>
          </div>
        </div>
      </section>

      <!-- Section 4: LAYERED MEMORY STRATEGY -->
      <section id="layered" data-activity="layered">
        <h2 class="section-title">
          <span class="section-number">4</span>
          Layered Memory Strategy
        </h2>

        <p class="text-text-secondary mb-6">
          <strong>The insight: Use ALL of them, each for its strength.</strong> Memory is not one thing. It's layers, like a CPU cache hierarchy.
        </p>

        <!-- Layer 1 -->
        <div class="layer-box">
          <div class="layer-header">
            <div class="layer-number">1</div>
            <div class="layer-title">progress.txt (Session Memory)</div>
          </div>
          <div class="layer-purpose">What am I working on RIGHT NOW?</div>
          <div class="layer-questions">
What am I working on RIGHT NOW?
What did I just discover?
What should I pick up next session?</div>
          <p class="text-text-secondary text-sm mt-4 ml-11">
            Append during work. Review at session start. Prune after incorporating learnings elsewhere.
          </p>
        </div>

        <!-- Layer 2 -->
        <div class="layer-box">
          <div class="layer-header">
            <div class="layer-number">2</div>
            <div class="layer-title">Git History (Code Memory)</div>
          </div>
          <div class="layer-purpose">What happened when and why?</div>
          <div class="layer-questions">
What changed and why?
What was the state before?
Who/what made this decision?</div>
          <p class="text-text-secondary text-sm mt-4 ml-11">
            Good commit messages are an investment. PR descriptions capture context. Tags mark significant states.
          </p>
        </div>

        <!-- Layer 3 -->
        <div class="layer-box">
          <div class="layer-header">
            <div class="layer-number">3</div>
            <div class="layer-title">AGENTS.md (Project Memory)</div>
          </div>
          <div class="layer-purpose">What does this codebase NEED to know forever?</div>
          <div class="layer-questions">
What does this codebase NEED to know forever?
What gotchas will bite future agents?
What patterns define this project?</div>
          <p class="text-text-secondary text-sm mt-4 ml-11">
            Graduate from progress.txt when proven valuable. Curate ruthlessly. Review quarterly.
          </p>
        </div>

        <!-- Layer 4 -->
        <div class="layer-box">
          <div class="layer-header">
            <div class="layer-number">4</div>
            <div class="layer-title">Claude-Mem/DB (System Memory)</div>
          </div>
          <div class="layer-purpose">What have we learned across ALL projects?</div>
          <div class="layer-questions">
What have we learned across ALL projects?
What patterns recur?
What can be retrieved semantically?</div>
          <p class="text-text-secondary text-sm mt-4 ml-11">
            For sophisticated setups. Organizational knowledge. Long-term AI assistant memory.
          </p>
        </div>

        <!-- Core Insight Table -->
        <h3 class="font-semibold text-lg mb-4 mt-8">The Core Insight</h3>

        <div class="overflow-x-auto mb-8">
          <table class="comparison-table">
            <thead>
              <tr>
                <th>Layer</th>
                <th>Analogy</th>
                <th>Purpose</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>progress.txt</td>
                <td>Working memory</td>
                <td>What's active now</td>
              </tr>
              <tr>
                <td>Git</td>
                <td>Episodic memory</td>
                <td>What happened when</td>
              </tr>
              <tr>
                <td>AGENTS.md</td>
                <td>Semantic memory</td>
                <td>What we know</td>
              </tr>
              <tr>
                <td>Claude-Mem</td>
                <td>Long-term store</td>
                <td>Everything, searchable</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Section 5: MIGRATION PATH -->
      <section id="migration" data-activity="migration">
        <h2 class="section-title">
          <span class="section-number">5</span>
          Migration Path
        </h2>

        <p class="text-text-secondary mb-6">
          Knowledge flows upward through the layers as it proves valuable. The question at each transition: "Is this worth keeping?"
        </p>

        <div class="migration-flow">
          <div class="flow-step">Session Discovery</div>
          <span class="flow-arrow">↓</span>
          <br>
          <div class="flow-step">progress.txt</div>
          <span class="text-text-muted mx-4">(temporary hold)</span>
          <br>
          <span class="flow-arrow">↓</span>
          <br>
          <div class="flow-decision">Proven valuable?</div>
          <span class="flow-arrow">→</span>
          <div class="flow-step">AGENTS.md</div>
          <span class="text-text-muted mx-4">(permanent)</span>
          <br>
          <span class="flow-arrow">↓</span>
          <br>
          <div class="flow-decision">Cross-project relevance?</div>
          <span class="flow-arrow">→</span>
          <div class="flow-step">Claude-Mem</div>
          <span class="text-text-muted mx-4">(semantic store)</span>
        </div>

        <p class="text-text-secondary mb-6 text-center italic">
          Git captures code decisions throughout
        </p>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Weekly memory audit script</span>
<span class="keyword">echo</span> <span class="string">"=== Memory Audit $(date) ==="</span>
<span class="keyword">echo</span> <span class="string">"progress.txt lines: $(wc -l &lt; scripts/ralph/progress.txt)"</span>
<span class="keyword">echo</span> <span class="string">"AGENTS.md lines: $(wc -l &lt; AGENTS.md)"</span>
<span class="keyword">echo</span> <span class="string">"Recent patterns in progress.txt:"</span>
<span class="variable">grep</span> -i <span class="string">"pattern\|learned"</span> scripts/ralph/progress.txt | <span class="variable">tail</span> -10</pre>
        </div>
      </section>

      <!-- Section 6: GOTCHAS -->
      <section id="gotchas" data-activity="gotchas">
        <h2 class="section-title">
          <span class="section-number">6</span>
          Gotchas
        </h2>

        <p class="text-text-secondary mb-6">
          Real problems you'll hit, with concrete fixes:
        </p>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            progress.txt Becomes Unmanageable
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> File is thousands of lines; agent references outdated information; search returns too many results.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Never pruned; everything accumulated without curation.</div>
          <div class="gotcha-detail"><strong>Threshold:</strong> &gt;20KB progress.txt starts degrading quality</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Archive old content to a dated backup, then prune to recent sessions only. Graduate valuable patterns to AGENTS.md.</div>
        </div>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Check progress.txt size</span>
<span class="variable">wc</span> -l scripts/ralph/progress.txt

<span class="comment"># Archive and reset</span>
<span class="variable">mv</span> scripts/ralph/progress.txt scripts/ralph/progress-archive-$(date +%Y%m%d).txt
<span class="keyword">echo</span> <span class="string">"# Session Progress"</span> &gt; scripts/ralph/progress.txt</pre>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Agent Keeps Rediscovering Same Patterns
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Same "Learned:" entries appearing in progress.txt across sessions; agent makes same mistakes repeatedly.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Knowledge not graduating from progress.txt to AGENTS.md; agent not reading AGENTS.md.</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Create AGENTS.md with proven patterns. Ensure CLAUDE.md instructs agent to read AGENTS.md at session start.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Git History Hard to Search
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Know something was changed but can't find when or why.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Poor commit messages; no semantic tagging; relying on implicit knowledge.</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Improve commit message discipline. Use conventional commits. Consider adding [DECISION] or [PATTERN] tags.</div>
        </div>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Search commit messages</span>
<span class="variable">git</span> log --all --oneline --grep=<span class="string">"auth"</span>

<span class="comment"># Search code changes</span>
<span class="variable">git</span> log -p -S <span class="string">"functionName"</span>

<span class="comment"># Find commits by date range</span>
<span class="variable">git</span> log --since=<span class="string">"2026-01-01"</span> --until=<span class="string">"2026-01-15"</span> --oneline</pre>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Claude-Mem Retrieval Returns Irrelevant Results
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Semantic search returns tangentially related content; misses obviously relevant entries.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Poor embedding quality for your domain; retrieval threshold too loose/strict.</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Tune similarity thresholds. Consider domain-specific embeddings. Fall back to keyword search for precision needs.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Memory Layers Out of Sync
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> progress.txt says one thing, AGENTS.md says another, code comments say a third.</div>
          <div class="gotcha-detail"><strong>Cause:</strong> No graduation process; multiple sources of truth evolving independently.</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Establish weekly memory maintenance: prune progress.txt, review AGENTS.md, archive stale content.</div>
        </div>
      </section>

      <!-- Section 7: WHAT'S HARD -->
      <section id="hard" data-activity="hard">
        <h2 class="section-title">
          <span class="section-number">7</span>
          What's Hard
        </h2>

        <p class="text-text-secondary mb-6">
          These are fundamental tensions, not bugs to fix:
        </p>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Signal vs. Noise Curation
          </div>
          <div class="hard-detail"><strong>The tension:</strong> What's valuable is subjective. Different developers want different things in AGENTS.md. Too much curation loses patterns; too little loses signal.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> AGENTS.md either grows unbounded (no curation) or stays empty (too strict curation).</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Establish curation criteria: "If this pattern appears 3+ times in progress.txt, it graduates." Don't try to be perfect.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Stale Knowledge Accumulation
          </div>
          <div class="hard-detail"><strong>The tension:</strong> What was true 6 months ago may not be true now. Codebase evolves. Libraries update. But removing knowledge is scary.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> AGENTS.md contains outdated patterns that mislead the agent. progress.txt references deleted files.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Quarterly review of AGENTS.md. Date entries. Remove anything that no longer applies. Accept that maintenance is ongoing.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Cross-Project Knowledge Transfer
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Learnings from Project A might apply to Project B. But context differs. What worked in one place may not work in another.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Agent applies pattern from wrong context. Claude-Mem retrieves irrelevant cross-project data.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Tag learnings with context. "This applies when: [conditions]." Don't blindly share everything.</div>
        </div>
      </section>

      <!-- Section 8: WHEN TO USE / ANTI-PATTERNS -->
      <section id="when" data-activity="when">
        <h2 class="section-title">
          <span class="section-number">8</span>
          When to Use Each Approach
        </h2>

        <h3 class="font-semibold text-lg mb-4">Recommended Defaults</h3>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="user" class="w-5 h-5"></i>
              SOLO DEVELOPER, SMALL PROJECT
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>progress.txt + good git messages</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Simple, zero overhead</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Scales to medium complexity</span>
            </div>
          </div>

          <div class="when-use">
            <div class="when-title">
              <i data-lucide="users" class="w-5 h-5"></i>
              TEAM PROJECT, MEDIUM COMPLEXITY
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>progress.txt + AGENTS.md + disciplined git</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Permanent knowledge survives team changes</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Low maintenance overhead</span>
            </div>
          </div>
        </div>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="building" class="w-5 h-5"></i>
              LONG-RUNNING AI SYSTEM, ORGANIZATION
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>All four layers, with automation</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Semantic search enables cross-project learning</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Worth the infrastructure investment</span>
            </div>
          </div>

          <div class="when-not" id="antipatterns">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              ANTI-PATTERNS
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span><strong>Everything in progress.txt</strong> - becomes unreadable</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span><strong>Nothing in AGENTS.md</strong> - keeps rediscovering</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span><strong>Over-engineering Claude-Mem</strong> for simple project</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span><strong>Ignoring git messages</strong> - losing free memory</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span><strong>Never pruning</strong> - noise overwhelms signal</span>
            </div>
          </div>
        </div>
      </section>

    