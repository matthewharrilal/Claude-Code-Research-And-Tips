{
  "items": [
    {
      "id": "min-1",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible error handling core",
      "content": "<strong>Essential:</strong> Know if deterministic or not. Know severity.<br>\n          <strong>Deterministic:</strong> Fix root cause once.<br>\n          <strong>Non-deterministic:</strong> Layer defenses.<br>\n          Everything else is refinement."
    },
    {
      "id": "inv-2",
      "type": "invariant",
      "linkedSection": "essence",
      "title": "All error handling shares INV-003",
      "content": "INV-003: External state &gt; internal memory.<br>\n          <strong>Why this matters:</strong> Errors erase context. External state survives errors. progress.txt, prd.json, git all exist because of this invariant."
    },
    {
      "id": "war-3",
      "type": "warstory",
      "linkedSection": "essence",
      "title": "$47,000 over 11 days",
      "content": "Multi-agent research tool. Recursive loop. No iteration limits. No cost monitoring. \"Before anyone noticed.\"<br>\n          <strong>Lesson:</strong> MAX_ITERATIONS is not optional."
    },
    {
      "id": "grad-4",
      "type": "gradient",
      "linkedSection": "core",
      "title": "How context degrades invisibly",
      "content": "<strong>0-50%:</strong> Full capability<br>\n          <strong>50-70%:</strong> Slight degradation possible<br>\n          <strong>70-85%:</strong> Noticeable quality loss<br>\n          <strong>85-95%:</strong> Significant degradation<br>\n          <strong>95%+:</strong> Unrecoverable<br><br>\n          <em>The gradient is invisible until the cliff.</em>"
    },
    {
      "id": "exp-5",
      "type": "expertise",
      "linkedSection": "core",
      "title": "How deep is your error taxonomy understanding?",
      "content": "<strong>Beginner:</strong> \"What errors exist?\" -&gt; 9 categories<br>\n          <strong>Intermediate:</strong> \"Deterministic?\" -&gt; Recovery strategy<br>\n          <strong>Advanced:</strong> \"How do they compound?\" -&gt; Multi-layer defense<br>\n          <strong>Staff:</strong> \"Cross-pattern errors?\" -&gt; Orchestration-specific<br>\n          <strong>Expert:</strong> \"Error economics?\" -&gt; Cost per error type"
    },
    {
      "id": "ana-6",
      "type": "analogy",
      "linkedSection": "core",
      "title": "Error Categories = HTTP Status Codes",
      "content": "<strong>Context errors</strong> -&gt; 5xx (server errors)<br>\n          <strong>Validation errors</strong> -&gt; 4xx (client errors)<br>\n          <strong>Rate limits</strong> -&gt; 429 Too Many Requests<br>\n          <strong>Security</strong> -&gt; 401/403 (auth failures)<br><br>\n          <em>If you know HTTP, you know error families.</em>"
    },
    {
      "id": "eff-7",
      "type": "effect",
      "linkedSection": "core",
      "title": "Error amplification at scale",
      "content": "<strong>Independent agents:</strong> 17.2x error amplification<br>\n          <strong>Centralized coordination:</strong> 4.4x error amplification<br><br>\n          <em>Hub-and-spoke (CC Mirror) contains errors better than mesh.</em>"
    },
    {
      "id": "con-8",
      "type": "constraint",
      "linkedSection": "decisions",
      "title": "Deterministic/Non-deterministic -> Recovery Strategy",
      "content": "<strong>ROOT:</strong> Error type determines recovery approach<br>\n          -&gt; Deterministic: Same input, same failure<br>\n          -&gt; Fix root cause once, add guardrails<br>\n          -&gt; Non-deterministic: Probabilistic failures<br>\n          -&gt; Layer defenses, accept some failure rate<br>\n          -&gt; Recovery strategy flows from classification"
    },
    {
      "id": "inv-9",
      "type": "inversion",
      "linkedSection": "decisions",
      "title": "What if all errors were deterministic?",
      "content": "<strong>You'd design:</strong> Single fix per error. No defense layers. No monitoring.<br>\n          <strong>Why this fails:</strong> LLM outputs are probabilistic. Context state is invisible.<br>\n          <strong>Hidden constraint:</strong> Non-determinism requires defense-in-depth."
    },
    {
      "id": "trade-10",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "Speed vs Safety",
      "content": "<strong>Fast:</strong> --dangerously-skip-permissions. High throughput. High risk.<br>\n          <strong>Safe:</strong> Every command verified. Low throughput. Low risk.<br>\n          <strong>Balanced:</strong> Blocklist dangerous, whitelist common.<br><br>\n          <em>Match safety level to consequence severity.</em>"
    },
    {
      "id": "hor-11",
      "type": "horizon",
      "linkedSection": "decisions",
      "title": "How severity perception changes",
      "content": "<strong>Session 1:</strong> \"Context overflow is annoying\"<br>\n          <strong>Session 10:</strong> \"Context management is critical\"<br>\n          <strong>Session 50:</strong> \"Fresh context is default, extended is exception\"<br>\n          <strong>Production:</strong> \"Cost runaway is existential threat\""
    },
    {
      "id": "vio-12",
      "type": "violation",
      "linkedSection": "recovery",
      "title": "If you skip verification...",
      "content": "<strong>IF:</strong> Skip exit code check<br>\n          <strong>THEN:</strong> False positives go undetected<br>\n          <strong>THEN:</strong> Broken code marked complete<br>\n          <strong>THEN:</strong> Future iterations inherit broken foundation<br>\n          <strong>FINALLY:</strong> 20 bad commits by morning<br><br>\n          <em>One unverified task poisons all future iterations.</em>"
    },
    {
      "id": "comp-13",
      "type": "composition",
      "linkedSection": "recovery",
      "title": "Circuit Breaker + Ralph",
      "content": "<strong>Works:</strong> Prevents $47K runaway scenarios.<br>\n          <strong>Implementation:</strong> MAX_ITERATIONS, STUCK_THRESHOLD, timeout.<br>\n          <strong>Danger:</strong> Thresholds too tight = premature stops. Too loose = too late."
    },
    {
      "id": "exp-14",
      "type": "expertise",
      "linkedSection": "recovery",
      "title": "Recovery pattern understanding",
      "content": "<strong>Beginner:</strong> \"What patterns exist?\" -&gt; 6 patterns<br>\n          <strong>Intermediate:</strong> \"Which for my error?\" -&gt; Match by symptom<br>\n          <strong>Advanced:</strong> \"Can I combine?\" -&gt; Circuit breaker + decompose<br>\n          <strong>Staff:</strong> \"When to escalate?\" -&gt; Model escalation ladder<br>\n          <strong>Expert:</strong> \"Recovery economics?\" -&gt; Cost per pattern"
    },
    {
      "id": "war-15",
      "type": "warstory",
      "linkedSection": "recovery",
      "title": "Marathon Ralph circuit breakers",
      "content": "<strong>Thresholds:</strong> VERIFY=3, PLAN=3, CODE=3, TEST=5, QA=5<br>\n          <strong>Global:</strong> CONSECUTIVE_FAILURES=5, STOP_HOOK=25<br>\n          <strong>Result:</strong> Autonomous overnight runs without runaway."
    },
    {
      "id": "ana-16",
      "type": "analogy",
      "linkedSection": "decision-tree",
      "title": "Decision Tree = Triage Protocol",
      "content": "<strong>Emergency?</strong> -&gt; STOP (like ER triage)<br>\n          <strong>Deterministic?</strong> -&gt; Fix root cause (like diagnosis)<br>\n          <strong>Recoverable?</strong> -&gt; Continue/restart (like treatment plan)<br><br>\n          <em>Medical triage thinking applies to error handling.</em>"
    },
    {
      "id": "inv-17",
      "type": "invariant",
      "linkedSection": "decision-tree",
      "title": "All recoveries share state preservation",
      "content": "Every recovery pattern starts with: \"Save state.\"<br>\n          <code>git stash</code>, <code>progress.txt</code>, <code>prd.json</code>.<br>\n          <strong>Why:</strong> INV-003 (external state &gt; internal memory) enables all recovery."
    },
    {
      "id": "inf-18",
      "type": "inflection",
      "linkedSection": "decision-tree",
      "title": "When to stop vs continue",
      "content": "<strong>0-2 failures:</strong> Retry with different approach<br>\n          <strong>3 failures:</strong> Decompose the task<br>\n          <strong>5 failures:</strong> Circuit breaker triggers<br>\n          <strong>5+ consecutive:</strong> Stop entire run<br><br>\n          <strong>THE INFLECTION:</strong> 3 failures = change approach, not retry"
    },
    {
      "id": "fron-19",
      "type": "frontier",
      "linkedSection": "decision-tree",
      "title": "UNSOLVED: Optimal circuit breaker thresholds",
      "content": "<strong>The question:</strong> What's the optimal STUCK_THRESHOLD per task type?<br>\n          <strong>Why hard:</strong> Task complexity varies. Codebase familiarity varies.<br>\n          <strong>Current:</strong> 3-5 for most phases. Manual tuning per project."
    },
    {
      "id": "vio-20",
      "type": "violation",
      "linkedSection": "gotchas",
      "title": "If you use --dangerously-skip-permissions without blocklist...",
      "content": "<strong>IF:</strong> No blocklist for destructive commands<br>\n          <strong>THEN:</strong> rm -rf can execute<br>\n          <strong>THEN:</strong> One bad prompt = home directory gone<br>\n          <strong>THEN:</strong> No recovery possible without backups<br>\n          <strong>FINALLY:</strong> GitHub Issue #17164"
    },
    {
      "id": "war-21",
      "type": "warstory",
      "linkedSection": "gotchas",
      "title": "3.2 million tokens on circular revisions",
      "content": "<strong>Context:</strong> Claude editing same files repeatedly<br>\n          <strong>Root cause:</strong> Verification loop without circuit breaker<br>\n          <strong>Cost:</strong> Significant, discovered after hours<br>\n          <strong>Prevention:</strong> Track error signatures. Stop on repeat."
    },
    {
      "id": "inv-22",
      "type": "inversion",
      "linkedSection": "gotchas",
      "title": "What if Claude had no file system access?",
      "content": "<strong>You'd design:</strong> All outputs via API responses. No destructive operations possible.<br>\n          <strong>Why this fails:</strong> Can't actually develop software without file access.<br>\n          <strong>Hidden constraint:</strong> Power requires guardrails. Blocklists are the tradeoff."
    },
    {
      "id": "eff-23",
      "type": "effect",
      "linkedSection": "gotchas",
      "title": "Security incidents at scale",
      "content": "<strong>35%</strong> of security incidents from simple prompts<br>\n          <strong>87%</strong> of downstream decisions poisoned by single compromised agent (in 4 hours)<br><br>\n          <em>One breach propagates fast through multi-agent systems.</em>"
    },
    {
      "id": "ana-24",
      "type": "analogy",
      "linkedSection": "mental-models",
      "title": "Mental Models = Thinking Tools",
      "content": "<strong>Checkpoint Climber:</strong> Git as safety rope<br>\n          <strong>Circuit Breaker:</strong> Electrical safety for code<br>\n          <strong>Immune System:</strong> Layered defense<br>\n          <strong>Assembly Line:</strong> Verify at each stage<br><br>\n          <em>Physical world metaphors map to digital error handling.</em>"
    },
    {
      "id": "con-25",
      "type": "constraint",
      "linkedSection": "mental-models",
      "title": "Defense in depth constraint cascade",
      "content": "<strong>ROOT:</strong> Single point of failure = system failure<br>\n          -&gt; Layer 1: Prevention must exist<br>\n          -&gt; Layer 2: Detection must exist<br>\n          -&gt; Layer 3: Response must exist<br>\n          -&gt; Layer 4: Recovery must exist<br>\n          -&gt; Each layer catches what previous missed"
    },
    {
      "id": "hor-26",
      "type": "horizon",
      "linkedSection": "mental-models",
      "title": "How mental model value changes",
      "content": "<strong>Day 1:</strong> \"These are just metaphors\"<br>\n          <strong>Week 1:</strong> \"Checkpoint climber saved my work\"<br>\n          <strong>Month 1:</strong> \"Circuit breaker saved $1000\"<br>\n          <strong>Quarter 1:</strong> \"Defense in depth is how I think about everything\""
    },
    {
      "id": "comp-27",
      "type": "composition",
      "linkedSection": "mental-models",
      "title": "Immune System + Circuit Breaker",
      "content": "<strong>Works:</strong> Immune system provides layers. Circuit breaker provides thresholds.<br>\n          <strong>Together:</strong> Each layer has its own circuit breaker. Threshold per defense level."
    },
    {
      "id": "min-28",
      "type": "minimal",
      "linkedSection": "prevention",
      "title": "Minimum viable prevention",
      "content": "<strong>Essential:</strong> .claudeignore (security), blocklist (safety), CLAUDE.md (context)<br>\n          <strong>Everything else:</strong> Refinement for reliability.<br>\n          These three prevent 80% of catastrophic errors."
    },
    {
      "id": "inv-29",
      "type": "invariant",
      "linkedSection": "prevention",
      "title": "8 Golden Rules share one root",
      "content": "All 8 rules derive from: \"Prevention beats recovery.\"<br>\n          <strong>Cost of prevention:</strong> Minutes to configure.<br>\n          <strong>Cost of recovery:</strong> Hours to days. Sometimes impossible."
    },
    {
      "id": "alt-30",
      "type": "alternative",
      "linkedSection": "prevention",
      "title": "If prevention fails",
      "content": "<strong>Context overflow?</strong> -&gt; Fresh context pattern<br>\n          <strong>Security breach?</strong> -&gt; Rotate, restore, add blocklist<br>\n          <strong>Cost runaway?</strong> -&gt; Kill, budget cap, review thresholds<br>\n          <strong>Data loss?</strong> -&gt; git restore (if committed)"
    },
    {
      "id": "trade-31",
      "type": "tradeoff",
      "linkedSection": "prevention",
      "title": "Paranoia vs Productivity",
      "content": "<strong>Max paranoia:</strong> Verify everything. Slow. Expensive. Safe.<br>\n          <strong>Max productivity:</strong> Skip verification. Fast. Cheap. Risky.<br>\n          <strong>Balance:</strong> Verify critical paths. Trust verified patterns.<br><br>\n          <em>Match verification depth to consequence severity.</em>"
    },
    {
      "id": "exp-32",
      "type": "expertise",
      "linkedSection": "prevention",
      "title": "Prevention maturity levels",
      "content": "<strong>Beginner:</strong> \"What should I configure?\" -&gt; .claudeignore, blocklist<br>\n          <strong>Intermediate:</strong> \"What's my checklist?\" -&gt; 8-point pre-session<br>\n          <strong>Advanced:</strong> \"How do I automate?\" -&gt; Pre-commit hooks<br>\n          <strong>Staff:</strong> \"Team-wide prevention?\" -&gt; Shared configs<br>\n          <strong>Expert:</strong> \"Organization-wide?\" -&gt; Policy as code"
    }
  ]
}