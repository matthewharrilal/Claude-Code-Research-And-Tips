{
  "items": [
    {
      "id": "min-1",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible core of all principles",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">When in doubt: externalize, isolate, verify, restart fresh.</code><br><br>\n          <strong>Essential:</strong> These 4 verbs capture all 8 principles.<br>\n          <strong>Everything else:</strong> Implementation detail."
    },
    {
      "id": "inv-2",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if you didn't need principles?",
      "content": "<strong>You'd need:</strong> Infinite context, perfect memory, no session boundaries, zero errors.<br>\n          <strong>Why this fails:</strong> LLMs have finite context that degrades. Sessions end. Errors happen.<br>\n          <strong>Hidden constraint revealed:</strong> Principles ARE the constraints made explicit."
    },
    {
      "id": "ana-3",
      "type": "analogy",
      "linkedSection": "essence",
      "title": "Principles = Physics, Patterns = Engineering",
      "content": "Newton's laws → Mechanical engineering<br>\n          Maxwell's equations → Electrical engineering<br>\n          Core principles → Agent engineering<br><br>\n          <em>If you've studied any engineering discipline, you understand this relationship.</em>"
    },
    {
      "id": "con-4",
      "type": "constraint",
      "linkedSection": "core",
      "title": "P1 (Context finite) cascades to everything",
      "content": "<strong>ROOT:</strong> Context finite (200K nominal, ~100K effective)<br>\n          → P2: State must persist externally (context evaporates)<br>\n          → P3: Fresh context beats extended (quality degrades)<br>\n          → P5: Tasks must fit in window (or they overflow)<br>\n          → P6: Each commit must pass (or errors compound)<br>\n          → P4: Separate roles (preserve orchestrator context)"
    },
    {
      "id": "inv-5",
      "type": "invariant",
      "linkedSection": "core",
      "title": "Ralph, Gas Town, CC Mirror all derive from P1-P3",
      "content": "<strong>WHY THIS MATTERS:</strong> These look like different patterns, but they all solve the same root constraint: context is finite and degrades.<br><br>\n          If you understand P1-P3, you understand why all three patterns exist."
    },
    {
      "id": "grad-6",
      "type": "gradient",
      "linkedSection": "core",
      "title": "How principle violations compound",
      "content": "<strong>1 violation:</strong> Slight inefficiency, recoverable<br>\n          <strong>2-3 violations:</strong> Degraded quality, requires intervention<br>\n          <strong>4+ violations:</strong> Pattern failure, start over<br>\n          <strong>Sustained violations:</strong> Technical debt compounds exponentially<br><br>\n          <em>Critical: Most failures trace to multiple principle violations.</em>"
    },
    {
      "id": "war-7",
      "type": "warstory",
      "linkedSection": "decisions",
      "title": "Matt Pocock: \"Context rot at 80K\"",
      "content": "<strong>CONTEXT:</strong> Extended session, complex refactor<br>\n          <strong>OUTCOME:</strong> Quality degraded around 80K tokens. Instructions forgotten. Repetition started.<br>\n          <strong>KEY LEARNING:</strong> \"LLMs get stupider with more tokens.\" The threshold is real."
    },
    {
      "id": "vio-8",
      "type": "violation",
      "linkedSection": "decisions",
      "title": "If you skip P2 (external state)",
      "content": "<strong>IF:</strong> You rely on \"Claude remembering\" previous work<br>\n          <strong>THEN:</strong> Next iteration has no knowledge<br>\n          <strong>THEN:</strong> Same mistakes repeated<br>\n          <strong>THEN:</strong> No velocity increase over iterations<br>\n          <strong>FINALLY:</strong> Iteration 20 is as slow as iteration 1<br><br>\n          <em>The fix: \"If it's not in a file, it doesn't exist.\"</em>"
    },
    {
      "id": "trade-9",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "P3: Fresh context vs startup cost",
      "content": "<strong>Fresh context:</strong> Peak quality, but must read state each time<br>\n          <strong>Extended session:</strong> No startup cost, but quality degrades<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> You're trading time for quality.<br><br>\n          <em>Heuristic: Fresh context wins over 10+ iterations. The startup cost is amortized.</em>"
    },
    {
      "id": "exp-10",
      "type": "expertise",
      "linkedSection": "decisions",
      "title": "P4: Orchestrator/Worker understanding",
      "content": "<strong>BEGINNER:</strong> \"What's an orchestrator?\" → The coordinator that doesn't write code<br>\n          <strong>INTERMEDIATE:</strong> \"Why not just one agent?\" → Context pollution, role confusion<br>\n          <strong>ADVANCED:</strong> \"When is separation worth it?\" → Task graph &gt; 3 nodes<br>\n          <strong>STAFF:</strong> \"What model for each?\" → Opus orchestration, Sonnet workers<br>\n          <strong>EXPERT:</strong> \"When to nest orchestrators?\" → Domain boundaries, team boundaries"
    },
    {
      "id": "hor-11",
      "type": "horizon",
      "linkedSection": "decisions",
      "title": "How P2 (external state) perception changes",
      "content": "<strong>Day 1:</strong> \"Writing progress.txt feels like overhead\"<br>\n          <strong>Week 1:</strong> \"Wait, Claude is repeating solved mistakes!\"<br>\n          <strong>Month 1:</strong> \"progress.txt is why late iterations are faster\"<br>\n          <strong>Month 3:</strong> \"This is institutional memory\"<br><br>\n          <em>Don't judge externalization by day 1.</em>"
    },
    {
      "id": "inf-12",
      "type": "inflection",
      "linkedSection": "files",
      "title": "P5: When task size flips from efficient to risky",
      "content": "<strong>XS-S tasks:</strong> Pure benefit (low risk, easy verification)<br>\n          <strong>M tasks:</strong> Optimal zone (meaningful progress, manageable risk)<br>\n          <strong>L tasks:</strong> Diminishing returns (context pressure building)<br>\n          <strong>XL tasks:</strong> Net negative (overflow risk, must decompose)<br><br>\n          <strong>THE INFLECTION:</strong> ~300 lines, ~5 files<br>\n          <em>Detection: If you can't describe it in 2-3 sentences, you've crossed it.</em>"
    },
    {
      "id": "vio-13",
      "type": "violation",
      "linkedSection": "files",
      "title": "If you skip quality gates",
      "content": "<strong>IF:</strong> You skip \"run tests before commit\"<br>\n          <strong>THEN:</strong> Broken code enters git<br>\n          <strong>THEN:</strong> Future iterations inherit broken baseline<br>\n          <strong>THEN:</strong> Each iteration debugs before working<br>\n          <strong>FINALLY:</strong> Debugging spirals consume 5-10x saved time<br><br>\n          <em>One skipped test at iteration 5 → 15 iterations on broken foundation</em>"
    },
    {
      "id": "comp-14",
      "type": "composition",
      "linkedSection": "files",
      "title": "P7 (Isolation) + P8 (Explicit Comms)",
      "content": "<strong>WORKS?</strong> Yes, and they're designed to work together<br><br>\n          <strong>WHY IT WORKS:</strong> Isolation prevents conflicts. Explicit communication enables coordination. The combination gives you safe parallelism.<br><br>\n          <strong>THE DANGER:</strong> Over-isolation without handoffs = duplicated work. Under-isolation = conflicts.<br><br>\n          <strong>RECOMMENDATION:</strong> Isolate at directory/branch level. Communicate at file level."
    },
    {
      "id": "ana-15",
      "type": "analogy",
      "linkedSection": "files",
      "title": "P7+P8 = Microservices Architecture",
      "content": "Service isolation → Agent isolation (P7)<br>\n          API contracts → File-based handoffs (P8)<br>\n          Message queues → handoff-*.json files<br>\n          Database per service → Directory per agent<br><br>\n          <em>If you've designed microservices, you already understand P7+P8.</em>"
    },
    {
      "id": "inv-16",
      "type": "inversion",
      "linkedSection": "path",
      "title": "What if you couldn't derive new patterns?",
      "content": "<strong>You'd need:</strong> A pattern library for every possible situation<br>\n          <strong>Why this fails:</strong> Novel situations arise constantly. No library is complete.<br>\n          <strong>Hidden constraint revealed:</strong> Principles enable infinite patterns from finite rules."
    },
    {
      "id": "war-17",
      "type": "warstory",
      "linkedSection": "path",
      "title": "Overnight Migration: 500 Files",
      "content": "<strong>CONTEXT:</strong> Legacy codebase, 500 files needed pattern migration<br>\n          <strong>DERIVED PATTERN:</strong> P1 (can't load all) + P5 (atomic batches) + P3 (fresh per batch) = Ralph loop with batch size 10<br>\n          <strong>OUTCOME:</strong> 50 iterations overnight, all migrations complete<br>\n          <strong>KEY LEARNING:</strong> Pattern was derived from principles, not found in any guide"
    },
    {
      "id": "con-18",
      "type": "constraint",
      "linkedSection": "path",
      "title": "Derivation process as constraint satisfaction",
      "content": "<strong>ROOT:</strong> Novel situation with no existing pattern<br>\n          → Identify primary constraint<br>\n          → Map to relevant principles<br>\n          → Check principle conflicts<br>\n          → Combine mechanisms that serve multiple principles<br>\n          → Validate against original constraint<br><br>\n          <em>The process IS the pattern.</em>"
    },
    {
      "id": "fron-19",
      "type": "frontier",
      "linkedSection": "path",
      "title": "UNSOLVED: Automatic principle selection",
      "content": "<strong>THE QUESTION:</strong> Can an LLM automatically identify which principles apply to a novel situation?<br><br>\n          <strong>WHY IT'S HARD:</strong> Requires understanding the constraint landscape. Principles interact in non-obvious ways.<br><br>\n          <strong>CURRENT BEST PRACTICE:</strong> Human judgment selects principles. LLM helps implement."
    },
    {
      "id": "eff-20",
      "type": "effect",
      "linkedSection": "gotchas",
      "title": "At scale, principle violations compound non-linearly",
      "content": "<strong>IMPLICATION:</strong> One violation at iteration 5 creates 2 problems by iteration 10, 4 by iteration 20. Violations don't add - they multiply.<br><br>\n          <strong>THRESHOLD:</strong> &gt;2 violations in first 10 iterations → expect failure by iteration 30<br><br>\n          <em>This is why the checklist matters more for longer workflows.</em>"
    },
    {
      "id": "trade-21",
      "type": "tradeoff",
      "linkedSection": "gotchas",
      "title": "The \"feels inefficient\" trap",
      "content": "<strong>Startup overhead:</strong> Feels wasteful at iteration 2<br>\n          <strong>Quality gates:</strong> Feel slow at iteration 3<br>\n          <strong>External state:</strong> Feels like busywork at iteration 4<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> Short-term efficiency vs long-term reliability<br><br>\n          <em>Heuristic: If your workflow is &lt; 5 iterations, optimize for speed. If &gt; 10, optimize for principles.</em>"
    },
    {
      "id": "exp-22",
      "type": "expertise",
      "linkedSection": "gotchas",
      "title": "Recognizing principle violations",
      "content": "<strong>BEGINNER:</strong> \"Something's wrong\" → Knows there's a problem<br>\n          <strong>INTERMEDIATE:</strong> \"This symptom...\" → Can identify the symptom<br>\n          <strong>ADVANCED:</strong> \"P3 is violated\" → Can name the principle<br>\n          <strong>STAFF:</strong> \"P3+P5 together\" → Can see compound violations<br>\n          <strong>EXPERT:</strong> \"This will fail at iteration 20\" → Can predict failure timeline"
    },
    {
      "id": "trade-23",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "The fundamental P1 vs P4 dilemma",
      "content": "<strong>THE DILEMMA:</strong><br>\n          - Full separation (P4): Clean, but orchestrator overhead eats context (P1)<br>\n          - No separation: Efficient, but role confusion and context pollution<br>\n          - Partial separation: Middle ground, but where's the line?<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> Optimal depends on task complexity and context budget.<br><br>\n          <em>Heuristic: Task graph &gt; 3 nodes? Separate. Otherwise, don't.</em>"
    },
    {
      "id": "hor-24",
      "type": "horizon",
      "linkedSection": "hard",
      "title": "How P6 (quality gates) perception changes",
      "content": "<strong>Day 1:</strong> \"Tests slow me down\"<br>\n          <strong>Week 1:</strong> \"Debugging took longer than tests would have\"<br>\n          <strong>Month 1:</strong> \"Tests ARE the speed\"<br>\n          <strong>Month 3:</strong> \"I don't trust work without tests\"<br><br>\n          <em>The perceived \"slowdown\" inverts to perceived \"speedup.\"</em>"
    },
    {
      "id": "war-25",
      "type": "warstory",
      "linkedSection": "hard",
      "title": "Anthropic: False completion without verification",
      "content": "<strong>CONTEXT:</strong> Claude agents marking tasks complete without testing<br>\n          <strong>OUTCOME:</strong> \"Claude's tendency to mark features complete without proper testing\"<br>\n          <strong>KEY LEARNING:</strong> \"Did much better at verifying end-to-end once explicitly prompted to use browser automation tools\"<br><br>\n          <em>P6 requires explicit enforcement. Agents won't self-verify without instruction.</em>"
    },
    {
      "id": "inv-26",
      "type": "inversion",
      "linkedSection": "hard",
      "title": "What if principles didn't conflict?",
      "content": "<strong>You'd have:</strong> Perfect recipes for every situation. No judgment needed.<br>\n          <strong>Why this fails:</strong> Real constraints create real tradeoffs. Physics doesn't compromise.<br>\n          <strong>Hidden constraint revealed:</strong> The tensions ARE the interesting problems. Eliminating them would eliminate the need for engineering judgment."
    },
    {
      "id": "min-27",
      "type": "minimal",
      "linkedSection": "when",
      "title": "The minimal checklist",
      "content": "Before complex work, ask 3 questions:<br>\n          1. Is state externalized? (P2)<br>\n          2. Do tasks fit in one window? (P5)<br>\n          3. Are there quality gates? (P6)<br><br>\n          <em>If yes to all three, you've covered 80% of failure modes.</em>"
    },
    {
      "id": "alt-28",
      "type": "alternative",
      "linkedSection": "when",
      "title": "Related documents by need",
      "content": "<strong>Need anti-patterns?</strong><br>\n          → principles-anti-patterns.md<br><br>\n          <strong>Need derivation examples?</strong><br>\n          → principles-derivation-guide.md<br><br>\n          <strong>Need learning loops?</strong><br>\n          → principles-learning-loops.md<br><br>\n          <strong>Need pattern implementations?</strong><br>\n          → mastery-ralph-complete.md, mastery-context-management.md"
    },
    {
      "id": "inv-29",
      "type": "invariant",
      "linkedSection": "when",
      "title": "All synthesis documents share the 8 principles",
      "content": "<strong>WHY THIS MATTERS:</strong> Every document in /synthesis/ is either:<br>\n          - Applying these principles (patterns, workflows)<br>\n          - Extending these principles (combinations, frontier)<br>\n          - Validating these principles (war stories, case studies)<br><br>\n          <em>This document is the foundation. Everything else builds on it.</em>"
    },
    {
      "id": "exp-30",
      "type": "expertise",
      "linkedSection": "when",
      "title": "Where are you?",
      "content": "<strong>BEGINNER:</strong> \"Which principle applies here?\"<br>\n          <strong>INTERMEDIATE:</strong> \"These three principles apply\"<br>\n          <strong>ADVANCED:</strong> \"P3 and P5 conflict here, prioritize P5\"<br>\n          <strong>STAFF:</strong> \"I can derive a new pattern from principles\"<br>\n          <strong>EXPERT:</strong> \"I can teach others to derive patterns\"<br><br>\n          <em>Self-assessment: What's the last pattern you derived?</em>"
    }
  ]
}