{
  "items": [
    {
      "id": "inv-1",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if agents were transparent by default?",
      "content": "<strong>You'd design:</strong> Built-in dashboards, automatic logging, visible state at all times.<br>\n          <strong>Why this fails:</strong> LLMs don't have introspectable state like traditional software. \"Thinking\" isn't a variable you can print.<br>\n          <strong>Hidden constraint revealed:</strong> Observability is EXTERNAL because internal state is emergent, not explicit."
    },
    {
      "id": "min-2",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible observability core",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">watch -n10 'git log --oneline -5'</code><br>\n          <strong>Essential:</strong> Git commit history.<br>\n          <strong>Everything else:</strong> Convenience layers on top."
    },
    {
      "id": "ana-3",
      "type": "analogy",
      "linkedSection": "essence",
      "title": "Agent Observability = Distributed Systems Monitoring",
      "content": "Agents are nodes (can fail independently)<br>\n          Context is memory (finite, degrades under pressure)<br>\n          Git is the event log (durable record)<br>\n          Claude HUD is metrics collector (real-time visibility)<br><br>\n          <em>If you've monitored microservices, you already understand agent observability.</em>"
    },
    {
      "id": "inv-4",
      "type": "invariant",
      "linkedSection": "core",
      "title": "INV-007: External verification > agent self-report",
      "content": "Ralph, Gas Town, CC Mirror all share this: never trust the agent's claim of \"done.\" External verification (tests, git commits, human review) is ground truth."
    },
    {
      "id": "grad-5",
      "type": "gradient",
      "linkedSection": "core",
      "title": "How context degrades (invisibly)",
      "content": "<strong>100% - 90%</strong> (40-60K): Perfect performance, no visible change<br>\n          <strong>90% - 70%</strong> (60-80K): Subtle repetition, you might not notice<br>\n          <strong>70% - 50%</strong> (80-100K): Instructions drift, contradictions appear<br>\n          <strong>50% - CLIFF</strong> (100K+): Hallucinations, forgotten goals<br><br>\n          <em>Critical: You cannot feel the gradient without tools.</em>"
    },
    {
      "id": "war-6",
      "type": "warstory",
      "linkedSection": "core",
      "title": "@is_lu_is: \"Staring into the void\"",
      "content": "Before Claude HUD existed, running overnight agents was \"staring into the void.\" Morning reveals either a completed feature or a mess of bad commits with no understanding of when things went wrong."
    },
    {
      "id": "con-7",
      "type": "constraint",
      "linkedSection": "core",
      "title": "One opacity → FOUR requirements",
      "content": "<strong>ROOT:</strong> LLMs don't expose internal state<br>\n          → Must observe inputs/outputs, not \"thinking\"<br>\n          → Must use external tools (agent can't self-monitor)<br>\n          → Must persist observations (agent forgets)<br>\n          → Must define health via proxy metrics (commits, tests)"
    },
    {
      "id": "trade-8",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "Polling Frequency Dilemma",
      "content": "<strong>High frequency (1s):</strong> Real-time visibility, but resource overhead<br>\n          <strong>Medium (10s):</strong> Balanced, but may miss fast failures<br>\n          <strong>Low (30s+):</strong> Lightweight, but stale data<br><br>\n          <em>Heuristic: 10-30 seconds is sufficient. Faster is CPU overhead without benefit.</em>"
    },
    {
      "id": "vio-9",
      "type": "violation",
      "linkedSection": "decisions",
      "title": "If you rely on agent self-assessment",
      "content": "<strong>IF:</strong> You ask the agent \"are you okay?\"<br>\n          <strong>THEN:</strong> At 85% context, agent says \"yes, I'm fine\"<br>\n          <strong>THEN:</strong> You continue trusting degraded output<br>\n          <strong>THEN:</strong> 5 more bad iterations before visible failure<br>\n          <strong>FINALLY:</strong> Root cause debugging is impossible<br><br>\n          <em>The fix: Trust Claude HUD colors, not Claude's confidence.</em>"
    },
    {
      "id": "exp-10",
      "type": "expertise",
      "linkedSection": "decisions",
      "title": "Observability Understanding Levels",
      "content": "<strong>Beginner:</strong> \"What tools exist?\" → Claude HUD, rpai, git watch<br>\n          <strong>Intermediate:</strong> \"When to use each?\" → Complexity ladder<br>\n          <strong>Advanced:</strong> \"How to customize?\" → Alert scripts, dashboards<br>\n          <strong>Staff:</strong> \"What metrics matter?\" → Context %, velocity, failure rate<br>\n          <strong>Expert:</strong> \"How to predict failures?\" → Leading vs lagging indicators"
    },
    {
      "id": "inv-11",
      "type": "inversion",
      "linkedSection": "decisions",
      "title": "What if git wasn't available?",
      "content": "<strong>You'd design:</strong> Custom event logs, database writes, file timestamps.<br>\n          <strong>Why this works with git:</strong> Git is already there, already durable, already shows meaningful actions (commits = real progress).<br>\n          <strong>Hidden insight:</strong> Observability should leverage existing infrastructure, not add new dependencies."
    },
    {
      "id": "comp-12",
      "type": "composition",
      "linkedSection": "tools",
      "title": "Claude HUD + rpai",
      "content": "<strong>Works:</strong> Claude HUD per session + rpai for multi-agent overview.<br>\n          <strong>Synergy:</strong> rpai shows which agents are running, HUD shows depth of each.<br>\n          <strong>Limitation:</strong> rpai only works in tmux. HUD only for Claude Code."
    },
    {
      "id": "comp-13",
      "type": "composition",
      "linkedSection": "tools",
      "title": "Ralph + Git Monitoring",
      "content": "<strong>Works:</strong> Git commit frequency = iteration velocity.<br>\n          <strong>Insight:</strong> \"No commits in 10 min\" = stuck detection.<br>\n          <strong>Script:</strong> <code>git log -1 --format='%ct'</code> + timestamp comparison → alert trigger."
    },
    {
      "id": "war-14",
      "type": "warstory",
      "linkedSection": "tools",
      "title": "@jarrodwatts: Building Claude HUD",
      "content": "Created after running overnight sessions blind. \"I needed to know when context was dying without staring at terminal output.\" Now used by thousands of Claude Code developers."
    },
    {
      "id": "fron-15",
      "type": "frontier",
      "linkedSection": "tools",
      "title": "UNSOLVED: Semantic quality metrics",
      "content": "Tests pass != code is good. How do you measure \"quality drift\" before cliff? Current state: human review or post-hoc analysis. No real-time semantic quality metric exists yet."
    },
    {
      "id": "alt-16",
      "type": "alternative",
      "linkedSection": "tools",
      "title": "If these tools don't fit",
      "content": "<strong>Need API-level monitoring?</strong> → Custom middleware around API calls<br>\n          <strong>Need cross-repo visibility?</strong> → Build dashboard pulling from multiple git repos<br>\n          <strong>Need historical analysis?</strong> → Export progress.txt to time-series DB"
    },
    {
      "id": "hor-17",
      "type": "horizon",
      "linkedSection": "path",
      "title": "How observability value evolves",
      "content": "<strong>Iteration 1:</strong> \"Why do I need monitoring?\"<br>\n          <strong>Iteration 5:</strong> \"Git log is actually useful\"<br>\n          <strong>Iteration 15:</strong> \"Claude HUD saved me from context rot\"<br>\n          <strong>Iteration 30:</strong> \"I can't imagine running without dashboards\"<br><br>\n          <em>Don't judge observability ROI by session 1.</em>"
    },
    {
      "id": "inf-18",
      "type": "inflection",
      "linkedSection": "path",
      "title": "When monitoring investment pays off",
      "content": "<strong>1-5 iterations:</strong> Overhead seems wasteful<br>\n          <strong>5-10 iterations:</strong> Start catching issues early<br>\n          <strong>10-20 iterations:</strong> ROI clearly positive<br>\n          <strong>20+ iterations:</strong> Can't imagine working without<br><br>\n          <strong>THE INFLECTION:</strong> ~10 iterations<br>\n          <em>Before: feels like overhead. After: feels essential.</em>"
    },
    {
      "id": "eff-19",
      "type": "effect",
      "linkedSection": "path",
      "title": "At 50+ iterations, metrics become predictive",
      "content": "With enough history, you can predict failures: \"This iteration pattern (no commit + high context) usually precedes stuck loop.\" Retrospective analysis becomes proactive intervention."
    },
    {
      "id": "vio-20",
      "type": "violation",
      "linkedSection": "path",
      "title": "If you ignore yellow warnings",
      "content": "<strong>IF:</strong> Context hits 60% (yellow), you continue<br>\n          <strong>THEN:</strong> Hits 75%, quality subtly degrading<br>\n          <strong>THEN:</strong> Hits 85%, but task \"almost done\"<br>\n          <strong>THEN:</strong> Hits 95%, commits bad code<br>\n          <strong>FINALLY:</strong> Next iteration builds on garbage<br><br>\n          <em>The fix: Act on yellow, not red.</em>"
    },
    {
      "id": "grad-21",
      "type": "gradient",
      "linkedSection": "gotchas",
      "title": "Alert fatigue progression",
      "content": "<strong>Week 1:</strong> Every alert investigated thoroughly<br>\n          <strong>Week 2:</strong> Some alerts dismissed quickly<br>\n          <strong>Week 4:</strong> Alerts become background noise<br>\n          <strong>Week 8:</strong> Critical alert missed because \"probably nothing\"<br><br>\n          <em>Mitigation: Fewer, higher-signal alerts beats many low-signal ones.</em>"
    },
    {
      "id": "trade-22",
      "type": "tradeoff",
      "linkedSection": "gotchas",
      "title": "Log Everything vs. Log Noise",
      "content": "<strong>Log everything:</strong> Never miss an issue, but storage bloat, noise<br>\n          <strong>Log selectively:</strong> Clean signals, but might miss edge cases<br><br>\n          <em>Heuristic: Log state changes (commits, task completions, threshold crossings). Not every token.</em>"
    },
    {
      "id": "exp-23",
      "type": "expertise",
      "linkedSection": "gotchas",
      "title": "Debugging skill levels",
      "content": "<strong>Beginner:</strong> \"Why did it fail?\" → Check if tests pass<br>\n          <strong>Intermediate:</strong> \"When did it fail?\" → Git log timestamps<br>\n          <strong>Advanced:</strong> \"What caused failure?\" → Context % at failure time<br>\n          <strong>Staff:</strong> \"Was this predictable?\" → Leading indicators before failure<br>\n          <strong>Expert:</strong> \"How to prevent category?\" → Systemic patterns across failures"
    },
    {
      "id": "ana-24",
      "type": "analogy",
      "linkedSection": "gotchas",
      "title": "rpai detection = Process monitoring",
      "content": "<code>rpai</code> detecting agents = <code>ps aux | grep</code> finding processes<br>\n          Wrong terminal = wrong namespace<br>\n          tmux panes = process groups<br><br>\n          <em>If you understand Unix process trees, you understand rpai's detection model.</em>"
    },
    {
      "id": "trade-25",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "Visibility vs. Velocity",
      "content": "<strong>THE DILEMMA:</strong><br>\n          More dashboards = safer but slower setup<br>\n          Less monitoring = faster start but blind flying<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong><br>\n          Optimal monitoring depends on session length, risk tolerance, and task complexity.<br><br>\n          <em>Heuristic: 5-minute setup (git watch + Claude HUD) is always worth it.</em>"
    },
    {
      "id": "con-26",
      "type": "constraint",
      "linkedSection": "hard",
      "title": "Why semantic verification is hard",
      "content": "<strong>ROOT:</strong> \"Correct\" is context-dependent<br>\n          → Tests verify syntax, not intent<br>\n          → Intent requires human understanding<br>\n          → Human understanding doesn't scale to overnight<br>\n          → Must use proxy metrics (tests, types)<br>\n          → Proxies have false positives/negatives"
    },
    {
      "id": "fron-27",
      "type": "frontier",
      "linkedSection": "hard",
      "title": "UNSOLVED: Cross-agent causality",
      "content": "When Agent A's output breaks Agent B, which log has the root cause? Current state: manual correlation across logs. No unified cross-agent tracing exists."
    },
    {
      "id": "war-28",
      "type": "warstory",
      "linkedSection": "hard",
      "title": "Gas Town Witness Pattern",
      "content": "Steve Yegge's Gas Town includes a \"Witness\" role per rig: a dedicated monitoring agent watching worker output. The orchestrator doesn't watch everything; specialized observers handle their domain."
    },
    {
      "id": "inv-29",
      "type": "inversion",
      "linkedSection": "when",
      "title": "What if you monitored a 5-minute session?",
      "content": "<strong>Setup time:</strong> 5 minutes<br>\n          <strong>Session time:</strong> 5 minutes<br>\n          <strong>Ratio:</strong> 1:1 (overhead equals work)<br><br>\n          <strong>Why this fails:</strong> Short sessions don't need observability. You're watching anyway.<br>\n          <em>Observability ROI scales with session length.</em>"
    },
    {
      "id": "hor-30",
      "type": "horizon",
      "linkedSection": "when",
      "title": "When to add each tool",
      "content": "<strong>Session &lt;30 min:</strong> Just git log<br>\n          <strong>Session 30-60 min:</strong> Add Claude HUD<br>\n          <strong>Session 1-4 hours:</strong> Add tmux watcher panes<br>\n          <strong>Overnight:</strong> Add alerts, health checks<br>\n          <strong>Multi-agent:</strong> Add rpai<br><br>\n          <em>Complexity ladder for observability matches session length.</em>"
    },
    {
      "id": "alt-31",
      "type": "alternative",
      "linkedSection": "when",
      "title": "If full observability is overkill",
      "content": "<strong>Just want context visibility?</strong> → Claude HUD only<br>\n          <strong>Just want failure detection?</strong> → git commit watcher only<br>\n          <strong>Just want cost tracking?</strong> → API usage logs only<br>\n          <strong>Want everything?</strong> → Full stack described here"
    },
    {
      "id": "eff-32",
      "type": "effect",
      "linkedSection": "when",
      "title": "Observability enables autonomy",
      "content": "Teams that invest in observability run longer unattended sessions. Longer sessions = more work done overnight. More overnight work = higher effective productivity. <strong>Observability is an autonomy multiplier.</strong>"
    },
    {
      "id": "min-33",
      "type": "minimal",
      "linkedSection": "when",
      "title": "Absolute minimum viable observability",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">watch -n30 'git log --oneline -3'</code><br><br>\n          <strong>If you do nothing else:</strong> Watch git commits. Commits = progress. No commits = problem. Everything else is enhancement."
    }
  ]
}