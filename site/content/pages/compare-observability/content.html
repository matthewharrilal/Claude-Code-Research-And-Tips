

<!--
═══════════════════════════════════════════════════════════════════════════════
INLINE THREADING HEADER — Phase 2B
File: docs-spa/content/pages/compare-observability/content.html
Tier: C | Batch: 11 | Generated: 2026-02-06

1. WHY THIS EXISTS
Rendered HTML content page for the compare-observability synthesis document.

3. STATUS
ACTIVE

5. BUILT ON
Extracted from synthesis/compare-observability.md by content extraction scripts.

8. CONSUMED BY
docs-spa/app/(docs)/synthesis/compare-observability/page.tsx renders this content via dangerouslySetInnerHTML.

═══════════════════════════════════════════════════════════════════════════════
END INLINE THREADING HEADER
═══════════════════════════════════════════════════════════════════════════════
-->

      <!-- Section 1: ESSENCE -->
      <section id="essence" data-activity="essence">
        <div class="essence-box">
          <div class="essence-label">Essence (15 words)</div>
          <div class="essence-text">Agent observability transforms opaque AI systems into debuggable, optimizable workflows through external monitoring.</div>
        </div>
      </section>

      <!-- Section 2: CORE ABSTRACTION + IMPLEMENTATION -->
      <section id="core-abstraction" data-activity="core">
        <h2 class="section-title">
          <span class="section-number">2</span>
          The Core Abstraction
        </h2>

        <div class="core-abstraction">
          <div class="core-philosophy">"Agents are opaque by default. Visibility is earned through instrumentation."</div>

          <div class="core-code">
            <button class="copy-btn" onclick="copyCode(this, 'watch -n5 \'git log --oneline -5 &amp;&amp; cat progress.txt | tail -10\'')">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <code>watch -n5 'git log --oneline -5 &amp;&amp; cat progress.txt | tail -10'</code>
          </div>

          <div class="core-anchor">Git is your durable event log. Everything else is convenience.</div>
        </div>

        <p class="text-text-secondary mb-6">
          Unlike traditional software where you can set breakpoints, AI agents operate as black boxes. They consume tokens, make decisions, and produce outputs with minimal visibility into their reasoning.
        </p>

        <h3 class="font-semibold text-lg mb-4">The Four Pillars of Agent Observability</h3>

        <table class="metrics-table">
          <thead>
            <tr>
              <th>Pillar</th>
              <th>Purpose</th>
              <th>Without It</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Failure Detection</strong></td>
              <td>Catch issues before they compound</td>
              <td>Broken code accumulates silently</td>
            </tr>
            <tr>
              <td><strong>Behavior Understanding</strong></td>
              <td>Know what the agent is actually doing</td>
              <td>"Staring into the void"</td>
            </tr>
            <tr>
              <td><strong>Performance Optimization</strong></td>
              <td>Identify bottlenecks and waste</td>
              <td>Runaway token consumption</td>
            </tr>
            <tr>
              <td><strong>Debugging Capability</strong></td>
              <td>Trace issues to root cause</td>
              <td>Hours lost to mysterious failures</td>
            </tr>
          </tbody>
        </table>

        <blockquote class="border-l-4 border-accent pl-4 italic text-text-secondary mb-6">
          "Makes the hidden control plane of Claude Code visible, which is critical for debugging long-horizon tasks."
          <span class="block text-sm mt-2 not-italic">-- @gurtej__gill_</span>
        </blockquote>
      </section>

      <!-- Section 3: DESIGN DECISIONS -->
      <section id="why-observe" data-activity="decisions">
        <h2 class="section-title">
          <span class="section-number">3</span>
          Design Decisions
        </h2>

        <div class="decision-box">
          <div class="decision-why">WHY OBSERVE AGENTS?</div>
          <div class="decision-reasoning">
            When running agents for hours or overnight, critical failures happen invisibly: context silently exhausts, quality degrades without warning, tasks fail in ways that aren't immediately obvious, and learning compounds invisibly (good or bad).
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Without observability, you're running a distributed system blind. Morning reveals 20 bad commits, wasted tokens, and no understanding of why. Even 5 minutes of setup pays dividends.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-external">
          <div class="decision-why">WHY EXTERNAL TOOLS?</div>
          <div class="decision-reasoning">
            The agent can't observe itself reliably. When context degrades, the agent loses awareness. External tools (Claude HUD, tmux watchers, git monitors) provide ground truth that doesn't degrade with the agent.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Never rely on the agent to report its own health. Claude HUD reads context from the control plane, not from Claude's self-assessment. Git commits are ground truth; the agent's claim of "done" is not.
            </div>
          </div>
        </div>

        <div class="decision-box" id="why-git">
          <div class="decision-why">WHY GIT-BASED MONITORING?</div>
          <div class="decision-reasoning">
            Git commits are the only truly durable record of agent activity. Terminal output scrolls away. Session logs get truncated. But git history persists across sessions, agent resets, and even system reboots.
          </div>
          <div class="decision-implication">
            <div class="decision-implication-label">What this means for you</div>
            <div class="text-text-secondary text-sm">
              Always include git-based monitoring, even if using fancier tools. When Claude HUD crashes or rpai misses an agent, <code>git log</code> still works. Git is your event log of last resort.
            </div>
          </div>
        </div>
      </section>

      <!-- Section 4: TOOL LANDSCAPE -->
      <section id="tools" data-activity="tools">
        <h2 class="section-title">
          <span class="section-number">4</span>
          The Tool Landscape
        </h2>

        <p class="text-text-secondary mb-6">
          Four complementary tools at different visibility levels. Pick based on your complexity and needs.
        </p>

        <!-- Claude HUD -->
        <div class="tool-card" id="claude-hud">
          <div class="tool-card-header">
            <i data-lucide="monitor" class="w-6 h-6 text-accent"></i>
            <div>
              <div class="tool-card-title">Claude HUD - Native Session Visibility</div>
              <div class="tool-card-source">@jarrodwatts | github.com/jarrodwatts/claude-hud</div>
            </div>
          </div>

          <p class="text-text-secondary mb-4">
            The most direct solution for Claude Code visibility. A plugin that renders real-time session data in your terminal statusline.
          </p>

          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre><span class="comment"># Installation</span>
/plugin marketplace add jarrodwatts/claude-hud
/plugin install claude-hud
/claude-hud:setup</pre>
          </div>

          <h4 class="font-semibold mb-3">Sample Output</h4>
          <div class="dashboard-demo">[Opus 4.5] ████████░░ 35% | 1 MCPs | ⏳ 1m
✓ Read x2 | ✓ WebFetch x1 | ✓ Skill x1 | ✓ Edit x1</div>

          <h4 class="font-semibold mb-3">Color-Coded Context Bar</h4>
          <table class="metrics-table">
            <thead>
              <tr>
                <th>Color</th>
                <th>Context Level</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="context-bar green">Green</span></td>
                <td>0-50%</td>
                <td>Full capability, continue working</td>
              </tr>
              <tr>
                <td><span class="context-bar yellow">Yellow</span></td>
                <td>50-70%</td>
                <td>Monitor closely, consider compacting soon</td>
              </tr>
              <tr>
                <td><span class="context-bar red">Red</span></td>
                <td>70-85%</td>
                <td>Compact now or wrap up current task</td>
              </tr>
              <tr>
                <td><span class="context-bar red">Flashing</span></td>
                <td>85%+</td>
                <td>Token breakdown appears, quality degrading</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- rpai -->
        <div class="tool-card" id="rpai">
          <div class="tool-card-header">
            <i data-lucide="layout-grid" class="w-6 h-6 text-accent"></i>
            <div>
              <div class="tool-card-title">rpai - tmux Multi-Agent Manager</div>
              <div class="tool-card-source">@radoslav11 | cargo install rpai</div>
            </div>
          </div>

          <p class="text-text-secondary mb-4">
            When running multiple agents in parallel, rpai provides a unified TUI for monitoring and navigation.
          </p>

          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre><span class="comment"># Installation and Usage</span>
cargo install rpai
<span class="comment"># Run in any tmux session with agents</span>
rpai</pre>
          </div>

          <h4 class="font-semibold mb-3">Demo Interface</h4>
          <div class="dashboard-demo">┌─────────────────────────────────────────────┐
│  RPAI - Agent Monitor                       │
├─────────────────────────────────────────────┤
│  [1] CURSOR AGENT    ██████ running         │
│  [2] CLAUDE AGENT    ██████ running         │
│  [3] CODEX AGENT     ██████ idle            │
├─────────────────────────────────────────────┤
│  Preview: Claude is executing Python...     │
│  &gt; import pandas as pd                      │
│  &gt; df = pd.read_csv('data.csv')            │
└─────────────────────────────────────────────┘</div>

          <blockquote class="border-l-4 border-accent pl-4 italic text-text-secondary">
            "Parallel agents feel like herding caffeinated cats."
            <span class="block text-sm mt-2 not-italic">-- @FutbolmeAI</span>
          </blockquote>
        </div>

        <!-- tmux Monitoring -->
        <div class="tool-card" id="tmux-monitoring">
          <div class="tool-card-header">
            <i data-lucide="layout-template" class="w-6 h-6 text-accent"></i>
            <div>
              <div class="tool-card-title">tmux/Terminal Monitoring</div>
              <div class="tool-card-source">Manual multi-pane setups</div>
            </div>
          </div>

          <p class="text-text-secondary mb-4">
            For custom monitoring needs without rpai. Flexible but requires manual setup.
          </p>

          <h4 class="font-semibold mb-3">Recommended Layout</h4>
          <div class="dashboard-demo">┌────────────────────────────────────────────┐
│              Agent Output (main)            │
│                                             │
│  claude "Implement feature X..."            │
│                                             │
├─────────────────────┬──────────────────────┤
│    Test Watcher     │    Context HUD       │
│                     │                       │
│  npm test --watch   │  [HUD output here]   │
├─────────────────────┴──────────────────────┤
│              Git Log / Status               │
│  watch -n5 'git log --oneline -5'          │
└────────────────────────────────────────────┘</div>

          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre><span class="comment"># Create the layout</span>
tmux split-window -v -p 30
tmux split-window -h
tmux select-pane -t 0

<span class="comment"># Or use tmuxinator config</span>
<span class="comment"># ~/.tmuxinator/agent-dev.yml</span>
name: agent-dev
windows:
  - main:
      layout: main-vertical
      panes:
        - claude
        - npm test --watch
        - watch -n2 'cat scripts/ralph/progress.txt | tail -20'</pre>
          </div>
        </div>

        <!-- Git Monitoring -->
        <div class="tool-card" id="git-monitoring">
          <div class="tool-card-header">
            <i data-lucide="git-branch" class="w-6 h-6 text-accent"></i>
            <div>
              <div class="tool-card-title">Git-Based Monitoring</div>
              <div class="tool-card-source">The most durable form of agent observability</div>
            </div>
          </div>

          <p class="text-text-secondary mb-4">
            Git history provides durable observability. Changes persist across sessions and agent resets.
          </p>

          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre><span class="comment"># Key Queries</span>
git log --oneline --since="1 hour ago" | wc -l  <span class="comment"># Commit frequency</span>
git branch -v                                    <span class="comment"># Branch state</span>
git log --oneline -10                            <span class="comment"># Recent activity</span>
git diff HEAD~1                                  <span class="comment"># Last iteration changes</span>
gh pr status                                     <span class="comment"># PR status</span>
git status --short                               <span class="comment"># Uncommitted changes</span></pre>
          </div>

          <h4 class="font-semibold mb-3">Automated Monitoring Script</h4>
          <div class="code-block">
            <button class="copy-btn" onclick="copyCodeBlock(this)">
              <i data-lucide="copy" class="w-3 h-3"></i>
              Copy
            </button>
            <pre><span class="comment">#!/bin/bash</span>
<span class="comment"># monitor-git.sh - Run in a tmux pane</span>
<span class="keyword">while</span> true; <span class="keyword">do</span>
  clear
  <span class="keyword">echo</span> <span class="string">"=== Git Monitor ==="</span>
  <span class="keyword">echo</span> <span class="string">""</span>
  <span class="keyword">echo</span> <span class="string">"Recent commits:"</span>
  git log --oneline -5
  <span class="keyword">echo</span> <span class="string">""</span>
  <span class="keyword">echo</span> <span class="string">"Status:"</span>
  git status --short
  <span class="keyword">echo</span> <span class="string">""</span>
  <span class="keyword">echo</span> <span class="string">"Last commit: $(git log -1 --format='%ar')"</span>
  sleep 10
<span class="keyword">done</span></pre>
          </div>
        </div>

        <!-- Tool Comparison Matrix -->
        <h3 class="font-semibold text-lg mb-4 mt-8">Tool Comparison Matrix</h3>

        <table class="metrics-table">
          <thead>
            <tr>
              <th>Tool</th>
              <th>Visibility Level</th>
              <th>Setup Effort</th>
              <th>Best For</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Claude HUD</strong></td>
              <td>Session-level</td>
              <td>Quick (5 min)</td>
              <td>Single-agent development</td>
            </tr>
            <tr>
              <td><strong>rpai</strong></td>
              <td>Multi-agent</td>
              <td>Quick (Rust install)</td>
              <td>Parallel agents in tmux</td>
            </tr>
            <tr>
              <td><strong>tmux layout</strong></td>
              <td>Terminal-level</td>
              <td>Medium</td>
              <td>Custom monitoring needs</td>
            </tr>
            <tr>
              <td><strong>Git monitoring</strong></td>
              <td>Commit-level</td>
              <td>Low</td>
              <td>All workflows, durability</td>
            </tr>
            <tr>
              <td><strong>Custom scripts</strong></td>
              <td>Any level</td>
              <td>High</td>
              <td>Production, automation</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Section 5: PATH OF A METRIC -->
      <section id="path" data-activity="path">
        <h2 class="section-title">
          <span class="section-number">5</span>
          The Path of a Metric
        </h2>

        <p class="text-text-secondary mb-6">
          Follow a monitoring metric through the system to see how pieces connect:
        </p>

        <div class="path-container">
          <div class="path-step">
            <div class="path-number">1</div>
            <div class="path-content">Agent starts iteration, Claude HUD displays <code>0%</code> context usage</div>
          </div>
          <div class="path-step">
            <div class="path-number">2</div>
            <div class="path-content">Agent reads files, context bar turns <span class="context-bar green">green (0-50%)</span></div>
          </div>
          <div class="path-step">
            <div class="path-number">3</div>
            <div class="path-content">Agent implements task, context grows, bar shifts to <span class="context-bar yellow">yellow (50-70%)</span></div>
          </div>
          <div class="path-step">
            <div class="path-number">4</div>
            <div class="path-content">Tests run, agent commits, <code>git log</code> watcher shows new commit</div>
          </div>
          <div class="path-step">
            <div class="path-number">5</div>
            <div class="path-content">Progress.txt watcher shows new entry appended</div>
          </div>
          <div class="path-step">
            <div class="path-number">6</div>
            <div class="path-content">prd.json shows task marked <code>passes: true</code></div>
          </div>
          <div class="path-step">
            <div class="path-number">7</div>
            <div class="path-content">If context reaches <span class="context-bar red">red (70-85%)</span>, human gets alert</div>
          </div>
          <div class="path-step">
            <div class="path-number">8</div>
            <div class="path-content">Iteration ends, Ralph loop restarts, HUD resets to <code>0%</code></div>
          </div>
          <div class="path-step">
            <div class="path-number">9</div>
            <div class="path-content">If no commit in 10+ min, alert triggers "stuck detection"</div>
          </div>
          <div class="path-step">
            <div class="path-number">10</div>
            <div class="path-content">Human reviews metrics, decides to continue or intervene</div>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4">Metrics to Track</h3>

        <h4 class="font-semibold mb-3">Health Metrics</h4>
        <table class="metrics-table">
          <thead>
            <tr>
              <th>Metric</th>
              <th>Source</th>
              <th>Warning</th>
              <th>Critical</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Context Usage %</td>
              <td>Claude HUD</td>
              <td class="threshold-warning">&gt; 60%</td>
              <td class="threshold-critical">&gt; 85%</td>
            </tr>
            <tr>
              <td>Iteration Count</td>
              <td>Ralph loop output</td>
              <td class="threshold-warning">Approaching max</td>
              <td class="threshold-critical">At max</td>
            </tr>
            <tr>
              <td>Time Per Task</td>
              <td>Progress log timestamps</td>
              <td class="threshold-warning">&gt; 10 min</td>
              <td class="threshold-critical">&gt; 30 min</td>
            </tr>
            <tr>
              <td>Failure Rate</td>
              <td>Test output, git logs</td>
              <td class="threshold-warning">&gt; 1 consecutive</td>
              <td class="threshold-critical">&gt; 3 consecutive</td>
            </tr>
            <tr>
              <td>Token Consumption</td>
              <td>Claude HUD, API logs</td>
              <td class="threshold-warning">&gt; 50% budget</td>
              <td class="threshold-critical">&gt; 80% budget</td>
            </tr>
          </tbody>
        </table>

        <h4 class="font-semibold mb-3 mt-6">Progress Metrics</h4>
        <div class="code-block">
          <button class="copy-btn" onclick="copyCodeBlock(this)">
            <i data-lucide="copy" class="w-3 h-3"></i>
            Copy
          </button>
          <pre><span class="comment"># Quick PRD status check</span>
cat scripts/ralph/prd.json | jq '{
  total: (.userStories | length),
  complete: (.userStories | map(select(.passes)) | length),
  remaining: (.userStories | map(select(.passes == false)) | length)
}'</pre>
        </div>
      </section>

      <!-- Section 6: GOTCHAS -->
      <section id="gotchas" data-activity="gotchas">
        <h2 class="section-title">
          <span class="section-number">6</span>
          Gotchas
        </h2>

        <p class="text-text-secondary mb-6">
          Real problems you'll hit, with concrete symptoms and fixes:
        </p>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Context exhausts silently
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Agent produces truncated responses, ignores instructions, makes contradictory statements</div>
          <div class="gotcha-detail"><strong>Threshold:</strong> 85%+ context usage, especially without Claude HUD installed</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Install Claude HUD. Never run long sessions without context visibility. Run <code>/compact</code> at 70%.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            rpai not detecting agents
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> rpai shows empty list even though agents are running</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Agents running in separate terminals, not tmux panes</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Ensure agents run IN tmux (not separate Terminal.app windows). Run <code>rpai --debug</code> to see detection.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Git monitoring shows no activity
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Watch script reports "no commits" but agent appears working</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Agent not configured to commit, or checking wrong branch/directory</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Verify <code>pwd</code> and <code>git branch</code>. Check CLAUDE.md for commit instructions. Look at <code>git status</code> for uncommitted changes.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Alerts not sending
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Threshold exceeded but no Slack/desktop notification</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Webhook URL misconfigured, or monitoring script stopped</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Test webhook manually: <code>curl -X POST "$SLACK_WEBHOOK" -d '{"text":"Test"}'</code>. Check <code>ps aux | grep monitor</code> to verify script running.</div>
        </div>

        <div class="gotcha-box">
          <div class="gotcha-title">
            <i data-lucide="alert-triangle" class="w-4 h-4"></i>
            Dashboard shows stale data
          </div>
          <div class="gotcha-detail"><strong>Symptom:</strong> Dashboard displays old metrics, doesn't update</div>
          <div class="gotcha-detail"><strong>Cause:</strong> Refresh interval too long, or script crashed</div>
          <div class="gotcha-detail"><strong>Fix:</strong> Check <code>ps aux | grep dashboard</code>. Restart with shorter sleep interval. Consider using <code>watch</code> command.</div>
        </div>
      </section>

      <!-- Section 7: WHAT'S HARD -->
      <section id="hard" data-activity="hard">
        <h2 class="section-title">
          <span class="section-number">7</span>
          What's Hard
        </h2>

        <p class="text-text-secondary mb-6">
          These are fundamental tensions, not bugs to fix:
        </p>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Observability vs. Overhead
          </div>
          <div class="hard-detail"><strong>The tension:</strong> More monitoring = better visibility, but also more setup, more things to break, more cognitive load during development.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> Spending more time configuring dashboards than writing code. Alert fatigue from too many notifications.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Start minimal (just git monitoring). Add tools incrementally as pain points emerge. Claude HUD is the best cost/benefit ratio for single-agent work.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            The Invisible Gradient
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Context degradation is invisible until catastrophic. The agent doesn't know it's degrading. You can't see it without tools.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> "Everything seemed fine" until you review the git history and see quality cliff at iteration 15.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Always use Claude HUD for long sessions. Trust the color codes, not the agent's confidence. Act on yellow, not red.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Multi-Agent Coordination Debugging
          </div>
          <div class="hard-detail"><strong>The tension:</strong> When multiple agents run in parallel, failures cascade. Agent A breaks, Agent B builds on broken foundation, Agent C has no idea.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> All agents report "success" but integrated system is broken. No single agent log shows the root cause.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Use rpai for unified view. Add cross-agent health checks. Consider reducing parallelism until coordination patterns mature.</div>
        </div>

        <div class="hard-box">
          <div class="hard-title">
            <i data-lucide="flame" class="w-4 h-4"></i>
            Semantic vs. Syntactic Verification
          </div>
          <div class="hard-detail"><strong>The tension:</strong> Tests pass (syntax) but the implementation is wrong (semantics). "UI complete" but button is in wrong place.</div>
          <div class="hard-detail"><strong>Symptoms:</strong> prd.json shows all green, but feature doesn't actually work as intended.</div>
          <div class="hard-detail"><strong>Mitigation:</strong> Add visual verification (Playwright). Include semantic acceptance criteria, not just "tests pass". Human review gates for subjective quality.</div>
        </div>
      </section>

      <!-- Section 8: WHEN TO USE -->
      <section id="when" data-activity="when">
        <h2 class="section-title">
          <span class="section-number">8</span>
          When to Use / When Not
        </h2>

        <div class="when-grid">
          <div class="when-use">
            <div class="when-title">
              <i data-lucide="check" class="w-5 h-5"></i>
              USE OBSERVABILITY WHEN
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Running agents for &gt;30 minutes unattended</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Using Ralph loops or any autonomous pattern</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Running multiple agents in parallel</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Production or overnight workflows</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Debugging mysterious agent failures</span>
            </div>
            <div class="when-item">
              <i data-lucide="check" class="w-4 h-4 flex-shrink-0"></i>
              <span>Optimizing token costs</span>
            </div>
          </div>

          <div class="when-not">
            <div class="when-title">
              <i data-lucide="x" class="w-5 h-5"></i>
              SKIP OBSERVABILITY WHEN
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Quick interactive sessions (&lt;10 min)</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Exploratory work with human always watching</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Low-stakes throwaway experiments</span>
            </div>
            <div class="when-item">
              <i data-lucide="x" class="w-4 h-4 flex-shrink-0"></i>
              <span>Setup would take longer than the task itself</span>
            </div>
          </div>
        </div>

        <h3 class="font-semibold text-lg mb-4">Quick Reference: Monitoring Checklist</h3>

        <div class="tool-card">
          <h4 class="font-semibold mb-3">Per-Session</h4>
          <ul class="space-y-2 text-sm text-text-secondary">
            <li class="flex gap-2"><input type="checkbox" disabled=""> Claude HUD installed and visible</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> Context usage below 70%</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> Recent commits appearing</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> Tests passing</li>
          </ul>

          <h4 class="font-semibold mb-3 mt-6">Per-Iteration (Ralph)</h4>
          <ul class="space-y-2 text-sm text-text-secondary">
            <li class="flex gap-2"><input type="checkbox" disabled=""> Progress.txt updated</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> Git commit made</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> prd.json task marked complete</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> No repeated failures</li>
          </ul>

          <h4 class="font-semibold mb-3 mt-6">Daily (Production)</h4>
          <ul class="space-y-2 text-sm text-text-secondary">
            <li class="flex gap-2"><input type="checkbox" disabled=""> Review progress.txt for patterns</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> Check token/cost usage</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> Verify test pass rates</li>
            <li class="flex gap-2"><input type="checkbox" disabled=""> Look for stuck tasks</li>
          </ul>
        </div>
      </section>

    