{
  "items": [
    {
      "id": "inv-1",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if all expertise was in CLAUDE.md?",
      "content": "<strong>You'd design:</strong> One massive CLAUDE.md with every domain.<br>\n          <strong>Why this fails:</strong> Token budget exhausted before you ask a question. 19k+ tokens of overhead.<br>\n          <strong>Hidden constraint revealed:</strong> Skills exist because context is finite."
    },
    {
      "id": "min-2",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible extension",
      "content": "A SKILL.md file with name + description. That's it.<br>\n          <strong>Essential:</strong> On-demand loading. Trigger keywords.<br>\n          <strong>Everything else:</strong> Refinement for discoverability and capability."
    },
    {
      "id": "ana-3",
      "type": "analogy",
      "linkedSection": "essence",
      "title": "Skills = Dynamically Linked Libraries",
      "content": "Static linking (CLAUDE.md) → Always loaded, constant overhead<br>\n          Dynamic linking (Skills) → Loaded when needed, pay per use<br>\n          If you've used DLLs or .so files, you understand skills."
    },
    {
      "id": "con-4",
      "type": "constraint",
      "linkedSection": "core",
      "title": "One constraint → FOUR layer design",
      "content": "<strong>ROOT:</strong> Context window finite (200K) → Can't load everything<br>\n          → Layer 1: Always-needed context (CLAUDE.md)<br>\n          → Layer 2: Sometimes-needed expertise (Skills)<br>\n          → Layer 3: User-triggered workflows (Commands)<br>\n          → Layer 4: External capabilities (MCP)"
    },
    {
      "id": "grad-5",
      "type": "gradient",
      "linkedSection": "core",
      "title": "How skill overload degrades (invisibly)",
      "content": "<strong>1 skill:</strong> Normal operation<br>\n          <strong>2 skills:</strong> Slight competition for context<br>\n          <strong>3 skills:</strong> Instructions start conflicting<br>\n          <strong>4+ skills:</strong> Claude forgets task mid-execution<br><br>\n          <em>Critical: You won't notice until skill 4.</em>"
    },
    {
      "id": "inv-6",
      "type": "invariant",
      "linkedSection": "core",
      "title": "INV-001: Context as Constraint",
      "content": "Skills share INV-001 with Ralph, Gas Town, and CC Mirror. The 200K limit forces the same architectural choice across all patterns: external state, on-demand loading, fresh context preference."
    },
    {
      "id": "war-7",
      "type": "warstory",
      "linkedSection": "core",
      "title": "Tip 15: 10k tokens saved",
      "content": "ykdojo's system prompt optimization reduces overhead from 19k to 9k tokens. That's 50% more context for actual work. The optimization patches are versioned and battle-tested."
    },
    {
      "id": "inv-8",
      "type": "inversion",
      "linkedSection": "decisions",
      "title": "What if loading was all-or-nothing?",
      "content": "<strong>You'd see:</strong> 10k token cost for any skill, even simple ones.<br>\n          <strong>Why 3-tier works:</strong> Tier 1 (100 tokens) enables discovery without commitment. Tier 2 loads core. Tier 3 loads only the domain you need.<br>\n          <strong>58% savings typical.</strong>"
    },
    {
      "id": "trade-9",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "CLAUDE.md vs Skills: The Real Dilemma",
      "content": "<strong>CLAUDE.md:</strong> Always available, but wastes tokens when irrelevant<br>\n          <strong>Skills:</strong> On-demand, but requires explicit loading<br>\n          <strong>WHY NO PERFECT ANSWER:</strong> You can't predict what you'll need.<br>\n          <em>Heuristic: If relevant &gt;50% of sessions, CLAUDE.md. Otherwise, Skill.</em>"
    },
    {
      "id": "exp-10",
      "type": "expertise",
      "linkedSection": "decisions",
      "title": "Understanding Commands",
      "content": "<strong>Beginner:</strong> \"What commands exist?\" → The 57-command catalog<br>\n          <strong>Intermediate:</strong> \"When to use them?\" → Repeatable workflows<br>\n          <strong>Advanced:</strong> \"How to compose them?\" → Chain commands in workflows<br>\n          <strong>Staff:</strong> \"How to write my own?\" → Study wshobson structure<br>\n          <strong>Expert:</strong> \"How to integrate with skills?\" → Commands invoking skills"
    },
    {
      "id": "vio-11",
      "type": "violation",
      "linkedSection": "decisions",
      "title": "If you put everything in CLAUDE.md",
      "content": "<strong>IF:</strong> All expertise goes in CLAUDE.md<br>\n          <strong>THEN:</strong> 15k+ tokens consumed before you type<br>\n          <strong>THEN:</strong> Only 85k usable context<br>\n          <strong>THEN:</strong> Complex tasks fail mid-execution<br>\n          <strong>FINALLY:</strong> You blame Claude, not the architecture<br><br>\n          <em>The fix: Skill extraction. Keep CLAUDE.md lean.</em>"
    },
    {
      "id": "ana-12",
      "type": "analogy",
      "linkedSection": "catalog",
      "title": "Skills = Gas Town Roles",
      "content": "<strong>orchestration skill</strong> = The Mayor (coordinator)<br>\n          <strong>dev-browser skill</strong> = Polecats with browser capability<br>\n          <strong>zai-cli skill</strong> = Polecats with vision/search<br>\n          <strong>gastown skill</strong> = The whole factory<br>\n          Skills ARE Gas Town components packaged for reuse."
    },
    {
      "id": "comp-13",
      "type": "composition",
      "linkedSection": "catalog",
      "title": "orchestration + dev-browser",
      "content": "<strong>Works:</strong> Orchestrator spawns workers with browser capability for UI testing.<br>\n          <strong>Danger:</strong> Browser context is HUGE. Put dev-browser in worker agents only, never in orchestrator's context."
    },
    {
      "id": "hor-14",
      "type": "horizon",
      "linkedSection": "catalog",
      "title": "Skill value over time",
      "content": "<strong>Day 1:</strong> \"Skills are overkill for my needs\"<br>\n          <strong>Week 2:</strong> \"I keep repeating the same setup\"<br>\n          <strong>Month 1:</strong> \"Skills save 30 min/day in setup\"<br>\n          <strong>Month 3:</strong> \"I can't work without my skill stack\"<br><br>\n          <em>Don't judge skills by day 1.</em>"
    },
    {
      "id": "fron-15",
      "type": "frontier",
      "linkedSection": "catalog",
      "title": "UNSOLVED: Skill auto-selection",
      "content": "When should Claude automatically load a skill vs. wait for explicit invocation? Too eager = token waste. Too passive = missed capability. No automation yet."
    },
    {
      "id": "eff-16",
      "type": "effect",
      "linkedSection": "catalog",
      "title": "Skill stacking compounds capability",
      "content": "orchestration + zai-cli = research-driven development<br>\n          gastown + orchestration = factory with task management<br>\n          Combinations unlock capabilities neither provides alone."
    },
    {
      "id": "war-17",
      "type": "warstory",
      "linkedSection": "commands",
      "title": "wshobson: 57 commands, production-tested",
      "content": "15 workflows + 42 tools covering the full development lifecycle. TDD-first philosophy. Each command is battle-tested in real projects before release."
    },
    {
      "id": "min-18",
      "type": "minimal",
      "linkedSection": "commands",
      "title": "The irreducible command",
      "content": "A markdown file in ~/.claude/commands/ with instructions.<br>\n          <strong>Essential:</strong> Clear task definition. Consistent output format.<br>\n          <strong>Everything else:</strong> Refinement for multi-agent, verification, etc."
    },
    {
      "id": "inf-19",
      "type": "inflection",
      "linkedSection": "commands",
      "title": "When to create vs. use existing command",
      "content": "<strong>1-2 times:</strong> Ad-hoc prompting is fine<br>\n          <strong>3-5 times:</strong> Consider existing command in catalog<br>\n          <strong>6+ times:</strong> Create custom command<br>\n          <strong>20+ times:</strong> Create skill that invokes commands<br><br>\n          <strong>THE INFLECTION:</strong> 3 repetitions<br>\n          <em>If you do it 3+ times, automate it.</em>"
    },
    {
      "id": "con-20",
      "type": "constraint",
      "linkedSection": "commands",
      "title": "Why TDD-first philosophy?",
      "content": "<strong>ROOT:</strong> Commands execute without human oversight<br>\n          → Must have verifiable completion<br>\n          → Tests are the verification layer<br>\n          → TDD ensures tests exist before implementation<br>\n          → /workflows:tdd-cycle enforces this<br>\n          Autonomous + unverified = disaster."
    },
    {
      "id": "vio-21",
      "type": "violation",
      "linkedSection": "gotchas",
      "title": "If you load 4+ skills at once",
      "content": "<strong>IF:</strong> Load orchestration + gastown + dev-browser + zai-cli<br>\n          <strong>THEN:</strong> ~15k tokens consumed by skill instructions<br>\n          <strong>THEN:</strong> Only 85k usable for task<br>\n          <strong>THEN:</strong> Instructions compete, Claude gets confused<br>\n          <strong>FINALLY:</strong> Task fails, you think skills are buggy<br><br>\n          <em>The fix: ONE skill at a time. Load, use, unload.</em>"
    },
    {
      "id": "inv-22",
      "type": "inversion",
      "linkedSection": "gotchas",
      "title": "Why exact install path matters",
      "content": "<strong>What if paths were flexible?</strong><br>\n          Claude Code would need to scan multiple locations, wasting startup time. Hard-coded paths are intentional - they enable instant command discovery without search."
    },
    {
      "id": "exp-23",
      "type": "expertise",
      "linkedSection": "gotchas",
      "title": "Debugging skill failures",
      "content": "<strong>Beginner:</strong> \"Skill won't load\" → Check marketplace added, restart session<br>\n          <strong>Intermediate:</strong> \"Skill loads but fails\" → Check tool permissions, allowed-tools<br>\n          <strong>Advanced:</strong> \"Inconsistent behavior\" → Check context budget, skill conflicts<br>\n          <strong>Staff:</strong> \"Works locally, fails elsewhere\" → Platform compatibility quirks<br>\n          <strong>Expert:</strong> \"Skill + MCP conflict\" → Connection state interference"
    },
    {
      "id": "hor-24",
      "type": "horizon",
      "linkedSection": "gotchas",
      "title": "Command maintenance burden over time",
      "content": "<strong>Week 1:</strong> \"57 free commands, amazing!\"<br>\n          <strong>Month 1:</strong> \"Claude Code updated, 3 commands broke\"<br>\n          <strong>Month 3:</strong> \"I've forked and customized 12 commands\"<br>\n          <strong>Month 6:</strong> \"Maintaining my fork is a job\"<br><br>\n          <em>Heuristic: Customize sparingly. Upstream PRs &gt; local forks.</em>"
    },
    {
      "id": "trade-25",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "Token Budget vs. Capability",
      "content": "<strong>THE DILEMMA:</strong><br>\n          <strong>More skills:</strong> More capability, but less context for work<br>\n          <strong>Fewer skills:</strong> More context, but limited capability<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> You don't know what you'll need until you need it.<br>\n          <em>Accept: Load on-demand. Unload when done. Monitor /context.</em>"
    },
    {
      "id": "grad-26",
      "type": "gradient",
      "linkedSection": "hard",
      "title": "Cross-platform compatibility decay",
      "content": "<strong>Claude Code:</strong> Full support (primary target)<br>\n          <strong>Cursor/Copilot:</strong> 90% compatible<br>\n          <strong>Windsurf/Cline:</strong> 80% compatible<br>\n          <strong>Other platforms:</strong> May require modifications<br><br>\n          <em>Critical: Test on your target platform before relying on it.</em>"
    },
    {
      "id": "fron-27",
      "type": "frontier",
      "linkedSection": "hard",
      "title": "UNSOLVED: Skill context isolation",
      "content": "When multiple skills are loaded, their instructions can conflict. How to isolate skill contexts so they don't interfere? Worker agents help but aren't perfect. No complete solution yet."
    },
    {
      "id": "war-28",
      "type": "warstory",
      "linkedSection": "hard",
      "title": "N-Skills: 822+ stars, community-vetted",
      "content": "The n-skills marketplace exists because individuals couldn't maintain quality alone. Community vetting catches bugs faster. Star count reflects real-world reliability testing."
    },
    {
      "id": "inv-29",
      "type": "inversion",
      "linkedSection": "when",
      "title": "What if you used skills for everything?",
      "content": "<strong>You'd see:</strong> Every simple task takes 30 seconds to load skill first<br>\n          <strong>Why this fails:</strong> Native Claude Code handles 80% of tasks without skills<br>\n          <strong>Hidden insight:</strong> Skills are for the 20% that need specialized expertise"
    },
    {
      "id": "ana-30",
      "type": "analogy",
      "linkedSection": "when",
      "title": "Extension Selection = Tool Selection",
      "content": "<strong>Hammer (native)</strong> = Most tasks, no setup<br>\n          <strong>Power drill (skill)</strong> = Specialized tasks, setup required<br>\n          <strong>Assembly line (command)</strong> = Repeatable workflows<br>\n          <strong>Factory (gastown)</strong> = Scale production<br>\n          Match tool to task scale."
    },
    {
      "id": "alt-31",
      "type": "alternative",
      "linkedSection": "when",
      "title": "If skills/commands aren't right",
      "content": "<strong>Need simple help?</strong> → Native Claude Code<br>\n          <strong>Need external API?</strong> → MCP Server<br>\n          <strong>Need autonomous loop?</strong> → Ralph pattern<br>\n          <strong>Need human judgment?</strong> → HOTL workflow"
    },
    {
      "id": "inf-32",
      "type": "inflection",
      "linkedSection": "when",
      "title": "When skill overhead exceeds benefit",
      "content": "<strong>Task &lt; 5 min:</strong> Skill loading overhead dominates<br>\n          <strong>Task 5-30 min:</strong> Skills provide net benefit<br>\n          <strong>Task 30+ min:</strong> Skills essential for quality<br><br>\n          <strong>THE INFLECTION:</strong> ~5 minutes<br>\n          <em>For quick tasks, skip skills. For real work, use them.</em>"
    },
    {
      "id": "comp-33",
      "type": "composition",
      "linkedSection": "when",
      "title": "Skills + Ralph Integration",
      "content": "<strong>Works:</strong> PROMPT.md invokes skill at loop start. Skill expertise available each iteration.<br>\n          <strong>Danger:</strong> Skill loaded fresh each iteration = token cost per loop. Use for skill-requiring tasks only, not every Ralph run."
    }
  ]
}