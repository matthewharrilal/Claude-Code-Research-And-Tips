{
  "items": [
    {
      "id": "inv-1",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if you DIDN'T transform?",
      "content": "<strong>You'd get:</strong> 90 min engagement, quality degradation at 60%, forgotten decisions, frustration.<br>\n          <strong>Why this fails:</strong> Context rot is physics. Fighting it wastes energy.<br>\n          <strong>Hidden constraint:</strong> The transformation isn't optional for multi-hour work. It's architecturally required."
    },
    {
      "id": "min-2",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible transformation",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">BEFORE: one session → AFTER: loop + files</code><br>\n          <strong>Essential:</strong> Loop. Fresh context. External state.<br>\n          <strong>Everything else:</strong> Refinement for reliability."
    },
    {
      "id": "war-3",
      "type": "warstory",
      "linkedSection": "essence",
      "title": "Matt Pocock: \"I don't babysit Claude anymore\"",
      "content": "After adopting Ralph pattern, Matt reports setting up tasks before bed and waking to completed features. \"The transformation changed my relationship with AI development.\""
    },
    {
      "id": "grad-4",
      "type": "gradient",
      "linkedSection": "core",
      "title": "How single sessions degrade (invisibly)",
      "content": "<strong>100% to 90%</strong> (40-60K): Subtle drift, you won't notice<br>\n          <strong>90% to 70%</strong> (60-80K): Repetition, compression<br>\n          <strong>70% to 50%</strong> (80-100K): Instructions forgotten<br>\n          <strong>50% to CLIFF</strong> (100K+): Hallucinations, amnesia<br><br>\n          <em>Critical: The gradient is invisible until the cliff.</em>"
    },
    {
      "id": "ana-5",
      "type": "analogy",
      "linkedSection": "core",
      "title": "Transformation = Going Stateless",
      "content": "Single session = Stateful server (holds state in memory, fails on restart)<br>\n          Autonomous = Stateless server (state in database, survives restarts)<br>\n          prd.json = Database table<br>\n          progress.txt = Audit log<br><br>\n          <em>If you've designed stateless web services, you already understand this transformation.</em>"
    },
    {
      "id": "inv-6",
      "type": "invariant",
      "linkedSection": "core",
      "title": "INV-002: External state > internal memory",
      "content": "Ralph, Gas Town, CC Mirror all share this invariant. The transformation embodies it: move memory from context (internal) to files (external). This is the same principle that makes microservices reliable."
    },
    {
      "id": "con-7",
      "type": "constraint",
      "linkedSection": "decisions",
      "title": "One constraint forces FIVE decisions",
      "content": "<strong>ROOT:</strong> Context finite (200K) and quality degrades<br>\n          <span style=\"color: #8b5cf6;\">→</span> Fresh context beats extended sessions<br>\n          <span style=\"color: #8b5cf6;\">→</span> State must persist externally<br>\n          <span style=\"color: #8b5cf6;\">→</span> Each iteration must be self-contained<br>\n          <span style=\"color: #8b5cf6;\">→</span> Tasks must complete in one context window<br>\n          <span style=\"color: #8b5cf6;\">→</span> Verification must be automatable"
    },
    {
      "id": "vio-8",
      "type": "violation",
      "linkedSection": "decisions",
      "title": "If you skip the transformation",
      "content": "<strong>IF:</strong> You keep using single sessions for multi-hour work<br>\n          <strong>THEN:</strong> Context degrades at 60-70%<br>\n          <strong>THEN:</strong> Earlier decisions forgotten<br>\n          <strong>THEN:</strong> Quality drops, contradictions emerge<br>\n          <strong>FINALLY:</strong> Incomplete, buggy feature after 90 min frustration<br><br>\n          <em>The transformation isn't optional. It's architecturally required.</em>"
    },
    {
      "id": "trade-9",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "Upfront investment vs. time savings",
      "content": "<strong>Single session:</strong> Zero setup, but 90+ min engagement<br>\n          <strong>Transformation:</strong> 30 min setup, but can sleep<br>\n          <strong>Break-even:</strong> ~3 stories<br><br>\n          <em>Below 3 stories, single session wins. Above 3, transformation compounds.</em>"
    },
    {
      "id": "hor-10",
      "type": "horizon",
      "linkedSection": "decisions",
      "title": "How perception changes over attempts",
      "content": "<strong>First transformation:</strong> \"This setup is tedious\"<br>\n          <strong>Second transformation:</strong> \"Oh, I can reuse most of this\"<br>\n          <strong>Third transformation:</strong> \"Setup takes 10 minutes now\"<br>\n          <strong>After 10:</strong> \"I can't imagine going back to single sessions\"<br><br>\n          <em>Don't judge the transformation by your first attempt.</em>"
    },
    {
      "id": "exp-11",
      "type": "expertise",
      "linkedSection": "files",
      "title": "How deep is your understanding?",
      "content": "<strong>Beginner:</strong> \"What files do I need?\" - The 4 files<br>\n          <strong>Intermediate:</strong> \"Why these files?\" - Each serves ONE purpose<br>\n          <strong>Advanced:</strong> \"What's minimal?\" - Just loop + prompt<br>\n          <strong>Staff:</strong> \"When add more?\" - Dr. Ralph, HOTL gates<br>\n          <strong>Expert:</strong> \"Cross-pattern?\" - prd.json = Gas Town inbox"
    },
    {
      "id": "comp-12",
      "type": "composition",
      "linkedSection": "files",
      "title": "Transformation + Playwright",
      "content": "<strong>Works:</strong> Visual verification catches UI bugs that typecheck/test miss.<br>\n          <strong>Danger:</strong> Browser context consumes tokens. Put Playwright in subagents to protect main context.<br>\n          <strong>Recommendation:</strong> Use for UI stories only, not every task."
    },
    {
      "id": "ana-13",
      "type": "analogy",
      "linkedSection": "files",
      "title": "prd.json = Gas Town Inbox",
      "content": "<strong>YOU</strong> = The Mayor (orchestrator)<br>\n          <strong>prd.json</strong> = The Inbox (work queue)<br>\n          <strong>progress.txt</strong> = The Refinery (persistent memory)<br>\n          <strong>Each Claude iteration</strong> = A Polecat (stateless worker)<br><br>\n          <em>The transformation follows the same architecture as Gas Town.</em>"
    },
    {
      "id": "inv-14",
      "type": "inversion",
      "linkedSection": "files",
      "title": "What if progress.txt didn't exist?",
      "content": "<strong>You'd get:</strong> Each iteration relearns everything. Same mistakes repeated. No velocity increase.<br>\n          <strong>Why this fails:</strong> Learnings don't compound. Iteration 20 is as slow as iteration 1.<br>\n          <strong>Hidden value:</strong> progress.txt IS the compounding mechanism."
    },
    {
      "id": "eff-15",
      "type": "effect",
      "linkedSection": "path",
      "title": "Learnings compound across iterations",
      "content": "At iteration 1, Claude knows nothing about your codebase.<br>\n          At iteration 5, progress.txt contains patterns Claude can reuse.<br>\n          At iteration 10, Claude knows your conventions, your gotchas, your preferences.<br><br>\n          <strong>This only happens with external state.</strong>"
    },
    {
      "id": "vio-16",
      "type": "violation",
      "linkedSection": "path",
      "title": "If you skip verification step",
      "content": "<strong>IF:</strong> You skip \"run typecheck and tests\"<br>\n          <strong>THEN:</strong> Claude marks tasks done without verification<br>\n          <strong>THEN:</strong> Broken code enters git<br>\n          <strong>THEN:</strong> Future iterations inherit broken foundation<br>\n          <strong>FINALLY:</strong> Morning reveals 20 bad commits<br><br>\n          <em>One unverified task at iteration 5 poisons iterations 6-20.</em>"
    },
    {
      "id": "war-17",
      "type": "warstory",
      "linkedSection": "path",
      "title": "Ryan Carson: 14 iterations, ~$10-15",
      "content": "Untangle Legal Agent. 6 user stories, ran overnight. \"Learnings compound. By story 10, Ralph knew our patterns.\" The progress.txt paid off in later iterations."
    },
    {
      "id": "inf-18",
      "type": "inflection",
      "linkedSection": "gotchas",
      "title": "When progress.txt flips from help to hurt",
      "content": "<strong>0-10KB:</strong> Pure benefit (learnings compound)<br>\n          <strong>10-20KB:</strong> Diminishing returns (more to read)<br>\n          <strong>20-30KB:</strong> Neutral (reading cost = thinking benefit)<br>\n          <strong>30KB+:</strong> Net negative (context wasted on history)<br><br>\n          <strong>THE INFLECTION:</strong> ~20KB<br>\n          <em>Detection: Late iterations worse than early? Check file size.</em>"
    },
    {
      "id": "grad-19",
      "type": "gradient",
      "linkedSection": "gotchas",
      "title": "How stuck loops degrade",
      "content": "<strong>Attempt 1:</strong> Task fails, Claude tries to fix<br>\n          <strong>Attempt 2:</strong> Different approach, still fails<br>\n          <strong>Attempt 3:</strong> Similar to attempt 1 (memory lost)<br>\n          <strong>Attempts 4+:</strong> Cycling through same failures<br><br>\n          <em>Detection: Same story for 3+ iterations. Fix: Split or add dependency.</em>"
    },
    {
      "id": "fron-20",
      "type": "frontier",
      "linkedSection": "gotchas",
      "title": "UNSOLVED: Optimal story size",
      "content": "<strong>The question:</strong> What's the optimal story size for transformation? 5 min? 10 min? 30 min?<br>\n          <strong>Why it's hard:</strong> Varies by codebase, task type, and Claude model.<br>\n          <strong>Current best practice:</strong> Heuristic: if description &gt; code change, too small. If &gt;5 acceptance criteria, too big."
    },
    {
      "id": "con-21",
      "type": "constraint",
      "linkedSection": "gotchas",
      "title": "Why progress.txt must be append-only",
      "content": "<strong>ROOT:</strong> Each iteration has no memory of what it wrote<br>\n          <span style=\"color: #8b5cf6;\">→</span> If Claude \"updates\" it rewrites everything<br>\n          <span style=\"color: #8b5cf6;\">→</span> Previous learnings lost<br>\n          <span style=\"color: #8b5cf6;\">→</span> Same mistakes repeated<br>\n          <span style=\"color: #8b5cf6;\">→</span> No compounding<br><br>\n          <em>Fix: Use CAPS \"APPEND\" in prompt. The capitalization matters.</em>"
    },
    {
      "id": "trade-22",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "Context Rot vs. Memory Loss",
      "content": "<strong>THE DILEMMA:</strong><br>\n          - Extended session: Rich context, but quality degrades at 80K<br>\n          - Fresh context: Peak quality, but must reconstruct state<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong><br>\n          progress.txt is lossy. Each iteration \"forgets\" 90% of the prior.<br><br>\n          <em>Accept that fresh &gt; rot. Invest in better hygiene, not longer sessions.</em>"
    },
    {
      "id": "exp-23",
      "type": "expertise",
      "linkedSection": "hard",
      "title": "Task Decomposition Understanding",
      "content": "<strong>Beginner:</strong> \"How small should tasks be?\" - Fit in one context<br>\n          <strong>Intermediate:</strong> \"What's too small?\" - When description &gt; code change<br>\n          <strong>Advanced:</strong> \"How do I improve?\" - Review progress.txt after runs<br>\n          <strong>Staff:</strong> \"Is there a formula?\" - No. It's a skill, not a formula.<br>\n          <strong>Expert:</strong> \"Invisible errors?\" - Tasks with hidden dependencies"
    },
    {
      "id": "war-24",
      "type": "warstory",
      "linkedSection": "hard",
      "title": "Molly Cantillon: Personal Panopticon",
      "content": "8 parallel transformed loops managing different life domains. \"The transformation scaled. Now I run 8 Ralph instances for different concerns. Each has its own prd.json. State never crosses boundaries.\""
    },
    {
      "id": "hor-25",
      "type": "horizon",
      "linkedSection": "hard",
      "title": "How task decomposition skill develops",
      "content": "<strong>Week 1:</strong> \"I keep making tasks too big\"<br>\n          <strong>Week 2:</strong> \"Now I'm making them too small\"<br>\n          <strong>Week 4:</strong> \"Starting to find the balance\"<br>\n          <strong>Month 2:</strong> \"I can size tasks instinctively now\"<br><br>\n          <em>Expect 4-6 weeks to develop this skill.</em>"
    },
    {
      "id": "inv-26",
      "type": "inversion",
      "linkedSection": "when",
      "title": "What if you transformed a 15-min task?",
      "content": "<strong>You'd spend:</strong> 30 min on setup for 15 min of work.<br>\n          <strong>Why this fails:</strong> Setup overhead exceeds task length.<br>\n          <strong>Hidden insight:</strong> The 30-min threshold exists because that's where setup ROI becomes positive."
    },
    {
      "id": "alt-27",
      "type": "alternative",
      "linkedSection": "when",
      "title": "If transformation isn't right",
      "content": "<strong>Task &lt;30 min?</strong> - Single Claude session<br>\n          <strong>Subjective quality?</strong> - HOTL Ralph (human gates)<br>\n          <strong>Need parallelism?</strong> - CC Mirror<br>\n          <strong>Exploratory work?</strong> - Single session with human guidance<br>\n          <strong>Security-critical?</strong> - Human review required"
    },
    {
      "id": "comp-28",
      "type": "composition",
      "linkedSection": "when",
      "title": "Transformation + HOTL",
      "content": "<strong>Works:</strong> Human reviews every N iterations or at story boundaries.<br>\n          <strong>When to use:</strong> Security-sensitive code, unfamiliar codebases, learning task decomposition.<br>\n          <strong>The pattern:</strong> Not fully autonomous, but preserves fresh context benefits."
    },
    {
      "id": "inv-29",
      "type": "invariant",
      "linkedSection": "when",
      "title": "INV-004: Verification as trust boundary",
      "content": "All patterns (Ralph, Gas Town, CC Mirror) require verification gates. The transformation only works because <code>npm run typecheck &amp;&amp; npm test</code> provides automated verification. Without verification, garbage compounds."
    },
    {
      "id": "eff-30",
      "type": "effect",
      "linkedSection": "when",
      "title": "At scale: compound velocity",
      "content": "After 10+ transformations, you have:<br>\n          - Reusable prd.json templates<br>\n          - Refined ralph.sh with your improvements<br>\n          - Pattern library in progress.txt archives<br>\n          - Intuitive task sizing skill<br><br>\n          <strong>Setup time drops from 30 min to 10 min.</strong> The transformation itself compounds."
    }
  ]
}