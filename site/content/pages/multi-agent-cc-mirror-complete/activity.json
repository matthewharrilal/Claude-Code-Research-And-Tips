{
  "items": [
    {
      "id": "inv-1",
      "type": "inversion",
      "linkedSection": "essence",
      "title": "What if Anthropic enabled these APIs?",
      "content": "<strong>You'd have:</strong> Official support, documented behavior, stable interfaces.<br>\n          <strong>Why they didn't:</strong> Likely safety concerns, cost control, or staged rollout.<br>\n          <strong>Hidden insight:</strong> CC Mirror's existence proves multi-agent is THE direction."
    },
    {
      "id": "min-2",
      "type": "minimal",
      "linkedSection": "essence",
      "title": "The irreducible core",
      "content": "<code style=\"background: #f4f4f5; padding: 2px 6px; border-radius: 4px; font-size: 12px;\">npx cc-mirror quick --provider mirror --name mclaude</code><br>\n          <strong>Essential:</strong> Task graph with dependencies.<br>\n          <strong>Everything else:</strong> Orchestration patterns on top."
    },
    {
      "id": "war-3",
      "type": "warstory",
      "linkedSection": "essence",
      "title": "@nummanali: \"So simple, yet powerful\"",
      "content": "\"Claude Code - Official Multi Agent Orchestration. This is a disabled feature, but through CC Mirror, I have been able to enable it. It is so simple, yet powerful and IMO beats every orchestration I've seen. There's no point building your own.\""
    },
    {
      "id": "inv-4",
      "type": "invariant",
      "linkedSection": "essence",
      "title": "INV-003: External state > internal memory",
      "content": "CC Mirror, Ralph, Gas Town all share this. Task state lives in files/database, not in Claude's context. Workers are stateless. The system remembers, agents forget."
    },
    {
      "id": "ana-5",
      "type": "analogy",
      "linkedSection": "core",
      "title": "CC Mirror = Kubernetes for Agents",
      "content": "Orchestrator = Control Plane<br>\n          Workers = Pods<br>\n          TaskCreate = kubectl apply<br>\n          blocks/blockedBy = Dependencies<br><br>\n          <em>If you've done K8s, you already understand CC Mirror.</em>"
    },
    {
      "id": "con-6",
      "type": "constraint",
      "linkedSection": "core",
      "title": "One constraint -> FIVE decisions",
      "content": "<strong>ROOT:</strong> Orchestrator context is limited<br>\n          -&gt; Orchestrator can't write code<br>\n          -&gt; Orchestrator can't explore codebase<br>\n          -&gt; Workers must be specialized<br>\n          -&gt; Tasks must be atomic<br>\n          -&gt; Dependencies must be explicit"
    },
    {
      "id": "grad-7",
      "type": "gradient",
      "linkedSection": "core",
      "title": "How orchestrator quality degrades",
      "content": "<strong>100% -&gt; 90%</strong> (1-3 workers): Clean decisions<br>\n          <strong>90% -&gt; 70%</strong> (4-6 workers): Some repetition<br>\n          <strong>70% -&gt; 50%</strong> (7-10 workers): Losing track of task state<br>\n          <strong>50% -&gt; CLIFF</strong> (10+ workers): Contradictory spawns<br><br>\n          <em>Critical: Use /compact before hitting the cliff.</em>"
    },
    {
      "id": "eff-8",
      "type": "effect",
      "linkedSection": "core",
      "title": "At 10+ workers, coordination cost dominates",
      "content": "<strong>IMPLICATION:</strong> The hub-and-spoke model has scaling limits. Beyond ~10 parallel workers, the orchestrator becomes the bottleneck.<br><br>\n          <strong>THRESHOLD:</strong> ~10 workers, ~50% context usage"
    },
    {
      "id": "inv-9",
      "type": "inversion",
      "linkedSection": "decisions",
      "title": "What if the orchestrator wrote code?",
      "content": "<strong>You'd have:</strong> Faster initial implementation.<br>\n          <strong>Why this fails:</strong> Context pollution. Same agent writes and reviews. No parallelism.<br>\n          <strong>Hidden constraint:</strong> The Iron Law IS the architecture."
    },
    {
      "id": "vio-10",
      "type": "violation",
      "linkedSection": "decisions",
      "title": "If orchestrator explores codebase",
      "content": "<strong>IF:</strong> Orchestrator reads 10+ files to \"understand\"<br>\n          <strong>THEN:</strong> Context fills with code, not strategy<br>\n          <strong>THEN:</strong> Task decomposition degrades<br>\n          <strong>THEN:</strong> Workers get vague instructions<br>\n          <strong>FINALLY:</strong> Workers fail, orchestrator blames them<br><br>\n          <em>THE FIX: Delegate exploration to workers. Orchestrator stays strategic.</em>"
    },
    {
      "id": "trade-11",
      "type": "tradeoff",
      "linkedSection": "decisions",
      "title": "Task granularity dilemma",
      "content": "* <strong>Very small:</strong> Safe, but spawn overhead dominates<br>\n          * <strong>Medium:</strong> Balanced, but judgment required<br>\n          * <strong>Large:</strong> Efficient, but worker context collapse risk<br><br>\n          <em>Heuristic: If worker needs to read 20+ files, task is too big.</em>"
    },
    {
      "id": "exp-12",
      "type": "expertise",
      "linkedSection": "decisions",
      "title": "Understanding the Iron Law",
      "content": "<strong>Beginner:</strong> \"Why can't orchestrator write code?\"<br>\n          -&gt; Because it pollutes context<br>\n          <strong>Intermediate:</strong> \"How do I verify worker output?\"<br>\n          -&gt; Read result summaries, not full code<br>\n          <strong>Advanced:</strong> \"When do I break the rule?\"<br>\n          -&gt; Never. Delegate verification to another worker.<br>\n          <strong>Staff:</strong> \"What about quick fixes?\"<br>\n          -&gt; Still delegate. The rule IS the architecture."
    },
    {
      "id": "comp-13",
      "type": "composition",
      "linkedSection": "implementation",
      "title": "CC Mirror + Git Worktrees",
      "content": "<strong>WORKS:</strong> True parallel isolation. No merge conflicts.<br>\n          <strong>HOW:</strong> <code>git worktree add ../agent-1 task-1-branch</code><br>\n          <strong>RECOMMENDATION:</strong> Essential for any non-trivial parallel work."
    },
    {
      "id": "war-14",
      "type": "warstory",
      "linkedSection": "implementation",
      "title": "Skill file is ~5,299 tokens",
      "content": "From @nummanali: \"The additional instructions guide the orchestrator to manage sub agents, saving its own tokens significantly.\" One-time cost that pays off through efficient delegation."
    },
    {
      "id": "hor-15",
      "type": "horizon",
      "linkedSection": "implementation",
      "title": "How model selection feels over time",
      "content": "<strong>TASK 1:</strong> \"Haiku seems too simple for this\"<br>\n          <strong>TASK 5:</strong> \"Actually, Haiku handles file lookups fine\"<br>\n          <strong>TASK 10:</strong> \"Sonnet for implementation, Haiku for grunt work\"<br>\n          <strong>TASK 20:</strong> \"Model selection is my highest-leverage decision\"<br><br>\n          <em>Don't judge by the first task.</em>"
    },
    {
      "id": "inv-16",
      "type": "invariant",
      "linkedSection": "implementation",
      "title": "INV-005: Verification must be automatable",
      "content": "CC Mirror shares this with Ralph: acceptance criteria must be checkable by the system. \"npm run typecheck passes\" works. \"Looks good\" doesn't."
    },
    {
      "id": "ana-17",
      "type": "analogy",
      "linkedSection": "path",
      "title": "Task Graph = Git Commit Graph",
      "content": "blocks/blockedBy = parent commits<br>\n          Task resolution = commit completion<br>\n          Parallel workers = parallel branches<br>\n          Orchestrator synthesis = merge commit<br><br>\n          <em>If you understand git DAGs, you understand task graphs.</em>"
    },
    {
      "id": "vio-18",
      "type": "violation",
      "linkedSection": "path",
      "title": "If you skip dependency declaration",
      "content": "<strong>IF:</strong> Task 2 depends on Task 1 output but no blockedBy set<br>\n          <strong>THEN:</strong> Workers claim both simultaneously<br>\n          <strong>THEN:</strong> Task 2 fails with missing input<br>\n          <strong>THEN:</strong> Wasted tokens, wasted time<br>\n          <strong>FINALLY:</strong> Have to re-run with proper dependencies<br><br>\n          <em>THE FIX: Model dependencies upfront. The graph IS the plan.</em>"
    },
    {
      "id": "eff-19",
      "type": "effect",
      "linkedSection": "path",
      "title": "Map-Reduce unlocks research workflows",
      "content": "<strong>AT SCALE:</strong> 5+ research workers exploring different areas simultaneously, orchestrator synthesizes findings.<br>\n          <strong>IMPLICATION:</strong> Research that took days in sequential mode takes hours.<br>\n          <strong>THRESHOLD:</strong> Any exploration task with 3+ independent areas."
    },
    {
      "id": "fron-20",
      "type": "frontier",
      "linkedSection": "path",
      "title": "UNSOLVED: Optimal worker count",
      "content": "<strong>THE QUESTION:</strong> How many parallel workers maximize throughput?<br>\n          <strong>WHY IT'S HARD:</strong> Depends on task type, model, codebase size, dependencies.<br>\n          <strong>CURRENT BEST:</strong> Start with 2-3, scale up until context pressure."
    },
    {
      "id": "inf-21",
      "type": "inflection",
      "linkedSection": "gotchas",
      "title": "When auto-compact flips from optional to essential",
      "content": "<strong>0-50% context:</strong> Optional (clean orchestration)<br>\n          <strong>50-70% context:</strong> Recommended (starting to repeat)<br>\n          <strong>70-85% context:</strong> Essential (quality degrading)<br>\n          <strong>85%+ context:</strong> Already too late (contradictions)<br><br>\n          <strong>THE INFLECTION:</strong> ~70% context<br>\n          <em>Detection: Orchestrator repeats same task creation? Check /context.</em>"
    },
    {
      "id": "grad-22",
      "type": "gradient",
      "linkedSection": "gotchas",
      "title": "How file conflicts escalate",
      "content": "<strong>1 conflict:</strong> Easy manual fix<br>\n          <strong>2-3 conflicts:</strong> Annoying but recoverable<br>\n          <strong>4-6 conflicts:</strong> Starting to question architecture<br>\n          <strong>7+ conflicts:</strong> Throw away, restart with worktrees<br><br>\n          <em>Critical: If you're seeing conflicts, you're already in trouble. Prevent, don't fix.</em>"
    },
    {
      "id": "con-23",
      "type": "constraint",
      "linkedSection": "gotchas",
      "title": "Why CC Mirror breaks on updates",
      "content": "<strong>ROOT:</strong> CC Mirror patches minified JS<br>\n          -&gt; Anthropic updates Claude Code<br>\n          -&gt; Minified JS structure changes<br>\n          -&gt; Patch no longer applies cleanly<br>\n          -&gt; Hidden APIs stop working<br>\n          -&gt; Your orchestration breaks"
    },
    {
      "id": "war-24",
      "type": "warstory",
      "linkedSection": "gotchas",
      "title": "@nummanali on context collapse",
      "content": "\"This is using a new beta feature for Claude Code. Just make sure auto compact is on. It did ever break, I've not had it stop once yet.\" Auto-compact is essential, not optional."
    },
    {
      "id": "trade-25",
      "type": "tradeoff",
      "linkedSection": "hard",
      "title": "Simplicity vs. Customization",
      "content": "<strong>THE DILEMMA:</strong><br>\n          * CC Mirror: 80% cases, zero effort, but limited customization<br>\n          * Gas Town: 20% cases, heavy setup, but full control<br>\n          * Custom Task(): Any case, medium effort, your maintenance burden<br><br>\n          <strong>WHY NO PERFECT ANSWER:</strong> Each trades off differently.<br>\n          <em>Heuristic: Start with CC Mirror, graduate to Gas Town when you hit walls.</em>"
    },
    {
      "id": "inv-26",
      "type": "inversion",
      "linkedSection": "hard",
      "title": "What if CC Mirror had official support?",
      "content": "<strong>You'd have:</strong> Stable APIs, documentation, help when things break.<br>\n          <strong>Why you don't:</strong> Anthropic hasn't released it officially.<br>\n          <strong>Hidden insight:</strong> CC Mirror is a preview of where Claude Code is going."
    },
    {
      "id": "exp-27",
      "type": "expertise",
      "linkedSection": "hard",
      "title": "Understanding production readiness",
      "content": "<strong>Beginner:</strong> \"CC Mirror just works!\"<br>\n          -&gt; For simple cases, yes<br>\n          <strong>Intermediate:</strong> \"How do I add logging?\"<br>\n          -&gt; You can't, it's internal<br>\n          <strong>Advanced:</strong> \"How do I integrate with Datadog?\"<br>\n          -&gt; Build custom orchestration instead<br>\n          <strong>Staff:</strong> \"Is this production-ready?\"<br>\n          -&gt; No. Use for prototyping, build custom for production."
    },
    {
      "id": "hor-28",
      "type": "horizon",
      "linkedSection": "hard",
      "title": "How \"80% coverage\" feels over time",
      "content": "<strong>WEEK 1:</strong> \"CC Mirror handles everything!\"<br>\n          <strong>WEEK 2:</strong> \"Hit a limitation, worked around it\"<br>\n          <strong>WEEK 3:</strong> \"Another workaround...\"<br>\n          <strong>WEEK 4:</strong> \"Should have built custom from the start\"<br><br>\n          <em>Know your use case complexity upfront.</em>"
    },
    {
      "id": "alt-29",
      "type": "alternative",
      "linkedSection": "when",
      "title": "If CC Mirror isn't right for you",
      "content": "<strong>Need sequential iteration?</strong> -&gt; Ralph loops<br>\n          <strong>Need 10+ parallel agents?</strong> -&gt; Gas Town<br>\n          <strong>Need production observability?</strong> -&gt; Custom Task() orchestration<br>\n          <strong>Need official support?</strong> -&gt; Standard Claude Code features"
    },
    {
      "id": "comp-30",
      "type": "composition",
      "linkedSection": "when",
      "title": "CC Mirror + Ralph",
      "content": "<strong>WORKS:</strong> Ralph for overnight single-feature, CC Mirror for daytime parallel sprints.<br>\n          <strong>DANGER:</strong> Don't mix them in the same session.<br>\n          <strong>RECOMMENDATION:</strong> Pick one per project phase."
    },
    {
      "id": "ana-31",
      "type": "analogy",
      "linkedSection": "when",
      "title": "Pattern Selection = Tool Selection",
      "content": "CC Mirror = Docker (quick, standardized, limited)<br>\n          Gas Town = Kubernetes (powerful, complex, flexible)<br>\n          Ralph = Cron job (simple, sequential, reliable)<br>\n          Custom = Bare metal (full control, your burden)<br><br>\n          <em>Choose the right abstraction level for your needs.</em>"
    },
    {
      "id": "inv-32",
      "type": "invariant",
      "linkedSection": "when",
      "title": "All patterns share INV-001: Task atomicity",
      "content": "CC Mirror, Gas Town, Ralph all require tasks that complete in one context window. The underlying constraint is the same; orchestration patterns differ."
    },
    {
      "id": "fron-33",
      "type": "frontier",
      "linkedSection": "when",
      "title": "UNSOLVED: Automatic pattern selection",
      "content": "<strong>THE QUESTION:</strong> Can we auto-detect which pattern fits a project?<br>\n          <strong>WHY IT'S HARD:</strong> Depends on team, codebase, feature, timeline, budget.<br>\n          <strong>CURRENT BEST:</strong> Human judgment based on complexity ladder."
    }
  ]
}